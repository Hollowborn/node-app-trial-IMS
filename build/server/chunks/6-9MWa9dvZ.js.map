{"version":3,"file":"6-9MWa9dvZ.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/dashboard/clients/_page.server.ts.js","../../../.svelte-kit/adapter-node/nodes/6.js"],"sourcesContent":["import { r as requireRole } from \"../../../../chunks/auth.js\";\nimport { f as fail } from \"../../../../chunks/index2.js\";\nimport { d as db } from \"../../../../chunks/database.js\";\nimport { existsSync, mkdirSync, unlinkSync, writeFileSync } from \"fs\";\nimport path from \"path\";\nimport { v4 } from \"uuid\";\nimport { l as logActivity } from \"../../../../chunks/activityLogger.js\";\nconst UPLOAD_DIR = path.join(process.cwd(), \"static\", \"uploads\", \"profiles\");\nif (!existsSync(UPLOAD_DIR)) {\n  mkdirSync(UPLOAD_DIR, { recursive: true });\n}\nconst load = async (event) => {\n  await requireRole(event, [\"admin\"]);\n  event.depends(\"app:clients\");\n  const url = new URL(event.request.url);\n  const search = url.searchParams.get(\"search\") || \"\";\n  const sortBy = url.searchParams.get(\"sort\") || \"created_at\";\n  const sortOrder = url.searchParams.get(\"order\") || \"desc\";\n  let clients;\n  let query = `\n    SELECT id, name, operator_type, address, birthday, contact_number, profile_image, status, created_at\n    FROM clients\n  `;\n  const params = [];\n  if (search) {\n    query += `\n      WHERE name LIKE ? OR address LIKE ? OR contact_number LIKE ?\n    `;\n    params.push(`%${search}%`, `%${search}%`, `%${search}%`);\n  }\n  query += ` ORDER BY ${sortBy} ${sortOrder.toUpperCase()}`;\n  try {\n    if (params.length > 0) {\n      clients = db.prepare(query).all(...params);\n    } else {\n      clients = db.prepare(query).all();\n    }\n  } catch (error) {\n    console.error(\"Error fetching clients:\", error);\n    clients = [];\n  }\n  return {\n    clients: clients.map((client) => ({\n      ...client,\n      // Ensure birthday is treated as string for consistency with client-side input type=\"date\"\n      birthday: client.birthday ? new Date(client.birthday).toISOString().split(\"T\")[0] : null\n    })),\n    search,\n    sortBy,\n    // Pass current sort column to client\n    sortOrder\n    // Pass current sort order to client\n  };\n};\nconst actions = {\n  create: async ({ request, locals }) => {\n    const data = await request.formData();\n    const name = data.get(\"name\")?.toString();\n    const operator_type = data.get(\"operator_type\")?.toString();\n    const address = data.get(\"address\")?.toString();\n    const birthday = data.get(\"birthday\")?.toString();\n    const contact_number = data.get(\"contact_number\")?.toString();\n    const profile_image = data.get(\"profile_image\");\n    const status = data.get(\"status\")?.toString();\n    if (!name || !operator_type || !address) {\n      return fail(400, {\n        error: \"Name, operator type, and address are required.\"\n      });\n    }\n    let imagePath = null;\n    if (profile_image && profile_image.size > 0) {\n      try {\n        const allowedTypes = [\n          \"image/jpeg\",\n          \"image/png\",\n          \"image/gif\",\n          \"image/webp\"\n        ];\n        if (!allowedTypes.includes(profile_image.type)) {\n          return fail(400, {\n            error: \"Invalid file type. Only images (JPEG, PNG, GIF, WEBP) are allowed.\"\n          });\n        }\n        if (profile_image.size > 5 * 1024 * 1024) {\n          return fail(400, { error: \"Image size exceeds 5MB limit.\" });\n        }\n        const fileExtension = path.extname(profile_image.name);\n        const uniqueFilename = `${v4()}${fileExtension}`;\n        const filePath = path.join(UPLOAD_DIR, uniqueFilename);\n        writeFileSync(filePath, Buffer.from(await profile_image.arrayBuffer()));\n        imagePath = `/uploads/profiles/${uniqueFilename}`;\n      } catch (err) {\n        console.error(\"Error saving profile image:\", err);\n        return fail(500, { error: \"Failed to upload profile image.\" });\n      }\n    }\n    try {\n      const insertResult = db.prepare(\n        `\n                INSERT INTO clients (name, operator_type, address, birthday, contact_number, profile_image, status)\n                VALUES (?, ?, ?, ?, ?, ?, ?)\n                `\n      ).run(\n        name,\n        operator_type,\n        address,\n        birthday || null,\n        contact_number || null,\n        imagePath,\n        // Save the image path\n        status || \"active\"\n        // Use provided status or default to 'active'\n      );\n      const newID = Number(insertResult.lastInsertRowid);\n      const userId = locals.user?.id || null;\n      await logActivity(\n        \"created\",\n        \"client\",\n        newID,\n        `New client \"${name}\" added.`,\n        userId\n      );\n      return { success: true };\n    } catch (error) {\n      console.error(\"Error creating client:\", error);\n      return fail(500, { error: \"Failed to create client.\" });\n    }\n  },\n  update: async ({ request, locals }) => {\n    const data = await request.formData();\n    const id = Number(data.get(\"id\"));\n    const name = data.get(\"name\")?.toString();\n    const operator_type = data.get(\"operator_type\")?.toString();\n    const address = data.get(\"address\")?.toString();\n    const birthday = data.get(\"birthday\")?.toString();\n    const contact_number = data.get(\"contact_number\")?.toString();\n    const profile_image_file = data.get(\"profile_image\");\n    const current_image_path = data.get(\"current_image_path\")?.toString();\n    const remove_profile_image_flag = data.get(\"remove_profile_image\") === \"true\";\n    const status = data.get(\"status\")?.toString();\n    if (!id || !name || !operator_type || !address) {\n      return fail(400, {\n        error: \"ID, name, operator type, and address are required.\"\n      });\n    }\n    const currentClient = db.prepare(\"SELECT name, operator_type, address FROM clients WHERE id = ?\").get(id);\n    const oldClientName = currentClient?.name || \"Unknown Client\";\n    let newImagePath = void 0;\n    if (profile_image_file && profile_image_file instanceof File && profile_image_file.size > 0) {\n      try {\n        const allowedTypes = [\n          \"image/jpeg\",\n          \"image/png\",\n          \"image/gif\",\n          \"image/webp\"\n        ];\n        if (!allowedTypes.includes(profile_image_file.type)) {\n          return fail(400, {\n            error: \"Invalid file type. Only images (JPEG, PNG, GIF, WEBP) are allowed.\"\n          });\n        }\n        if (profile_image_file.size > 5 * 1024 * 1024) {\n          return fail(400, { error: \"Image size exceeds 5MB limit.\" });\n        }\n        if (current_image_path) {\n          const oldFilePath = path.join(\n            process.cwd(),\n            \"static\",\n            current_image_path\n          );\n          if (existsSync(oldFilePath)) {\n            unlinkSync(oldFilePath);\n          }\n        }\n        const fileExtension = path.extname(profile_image_file.name);\n        const uniqueFilename = `${v4()}${fileExtension}`;\n        const filePath = path.join(UPLOAD_DIR, uniqueFilename);\n        writeFileSync(\n          filePath,\n          Buffer.from(await profile_image_file.arrayBuffer())\n        );\n        newImagePath = `/uploads/profiles/${uniqueFilename}`;\n      } catch (err) {\n        console.error(\"Error updating profile image:\", err);\n        return fail(500, { error: \"Failed to upload new profile image.\" });\n      }\n    } else if (remove_profile_image_flag) {\n      if (current_image_path) {\n        const oldFilePath = path.join(\n          process.cwd(),\n          \"static\",\n          current_image_path\n        );\n        if (existsSync(oldFilePath)) {\n          unlinkSync(oldFilePath);\n        }\n      }\n      newImagePath = null;\n    }\n    try {\n      let updateQuery = `\n                UPDATE clients\n                SET name = ?, operator_type = ?, address = ?, birthday = ?, contact_number = ?, status = ?\n            `;\n      const params = [\n        name,\n        operator_type,\n        address,\n        birthday || null,\n        contact_number || null,\n        status || \"active\"\n        // Update status\n      ];\n      if (newImagePath !== void 0) {\n        updateQuery += `, profile_image = ?`;\n        params.push(newImagePath);\n      }\n      updateQuery += ` WHERE id = ?`;\n      params.push(id);\n      db.prepare(updateQuery).run(...params);\n      const userId = locals.user?.id || null;\n      await logActivity(\n        \"updated\",\n        \"client\",\n        id,\n        `Client \"${oldClientName}\" (ID: ${id}) updated.`,\n        userId\n      );\n      return { success: true };\n    } catch (error) {\n      console.error(\"Error updating client:\", error);\n      return fail(500, { error: \"Failed to update client.\" });\n    }\n  },\n  delete: async ({ request, locals }) => {\n    const data = await request.formData();\n    const id = Number(data.get(\"id\"));\n    if (isNaN(id)) {\n      return fail(400, { error: \"Client ID is required.\" });\n    }\n    try {\n      const client = db.prepare(\"SELECT name, profile_image FROM clients WHERE id = ?\").get(id);\n      const clientName = client?.name || \"Unknown Client\";\n      if (client && client.profile_image) {\n        const imagePathToDelete = path.join(\n          process.cwd(),\n          \"static\",\n          client.profile_image\n        );\n        if (existsSync(imagePathToDelete)) {\n          unlinkSync(imagePathToDelete);\n        }\n      }\n      db.prepare(\"DELETE FROM clients WHERE id = ?\").run(id);\n      const userId = locals.user?.id || null;\n      await logActivity(\n        \"deleted\",\n        \"client\",\n        id,\n        `Client \"${clientName}\" (ID: ${id}) deleted.`,\n        userId\n      );\n      return { success: true };\n    } catch (error) {\n      console.error(\"Error deleting client:\", error);\n      return fail(500, { error: \"Failed to delete client.\" });\n    }\n  }\n};\nexport {\n  actions,\n  load\n};\n","import * as server from '../entries/pages/dashboard/clients/_page.server.ts.js';\n\nexport const index = 6;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/pages/dashboard/clients/_page.svelte.js')).default;\nexport { server };\nexport const server_id = \"src/routes/dashboard/clients/+page.server.ts\";\nexport const imports = [\"_app/immutable/nodes/6.hwEmuxvU.js\",\"_app/immutable/chunks/BxWPM7vt.js\",\"_app/immutable/chunks/VrzbJYtp.js\",\"_app/immutable/chunks/jPwQk_2E.js\",\"_app/immutable/chunks/BwGKD061.js\",\"_app/immutable/chunks/K2z4qc4G.js\",\"_app/immutable/chunks/3dJlLkWl.js\",\"_app/immutable/chunks/DhHZR6J_.js\",\"_app/immutable/chunks/q_geWe1R.js\",\"_app/immutable/chunks/Co0R7JPe.js\",\"_app/immutable/chunks/Dg2TCPR_.js\",\"_app/immutable/chunks/BHm98m4T.js\",\"_app/immutable/chunks/CNxF7Pog.js\",\"_app/immutable/chunks/DGxjUAYV.js\",\"_app/immutable/chunks/BjxZ6Dx9.js\",\"_app/immutable/chunks/Cl_oq7nf.js\",\"_app/immutable/chunks/_Y1sUBdb.js\",\"_app/immutable/chunks/BUlJYItk.js\",\"_app/immutable/chunks/CmULTxPs.js\",\"_app/immutable/chunks/PI_H1sqg.js\",\"_app/immutable/chunks/C43ptUaS.js\",\"_app/immutable/chunks/twlfZeI1.js\",\"_app/immutable/chunks/Cvje7MCY.js\",\"_app/immutable/chunks/D1dXutnj.js\",\"_app/immutable/chunks/CLa6yqf_.js\",\"_app/immutable/chunks/DOd2QSgZ.js\",\"_app/immutable/chunks/DaJoOla_.js\",\"_app/immutable/chunks/HUBSOgFT.js\",\"_app/immutable/chunks/Cd7yCszS.js\",\"_app/immutable/chunks/BdHGsVH7.js\",\"_app/immutable/chunks/BeUoQy-y.js\",\"_app/immutable/chunks/okGsx2OR.js\",\"_app/immutable/chunks/DQk1ANEP.js\",\"_app/immutable/chunks/CbD0lEU8.js\",\"_app/immutable/chunks/Dcluerj8.js\",\"_app/immutable/chunks/DBcW8l46.js\",\"_app/immutable/chunks/BMspJ8Yh.js\",\"_app/immutable/chunks/CfhtIqMF.js\",\"_app/immutable/chunks/D47F4gF3.js\",\"_app/immutable/chunks/CvWd9xh1.js\",\"_app/immutable/chunks/BD6Ecydl.js\",\"_app/immutable/chunks/CkucYYup.js\",\"_app/immutable/chunks/Cj2i8k79.js\",\"_app/immutable/chunks/BX1LMzXi.js\",\"_app/immutable/chunks/BBOATMWh.js\",\"_app/immutable/chunks/Jos_wYTi.js\",\"_app/immutable/chunks/BwLKvIYz.js\",\"_app/immutable/chunks/CO0Jp7Tw.js\"];\nexport const stylesheets = [\"_app/immutable/assets/index.CV-KWLNP.css\"];\nexport const fonts = [];\n"],"names":[],"mappings":"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"}