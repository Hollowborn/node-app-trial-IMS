{"version":3,"file":"6-B1LhnFAQ.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/dashboard/clients/_page.server.ts.js","../../../.svelte-kit/adapter-node/nodes/6.js"],"sourcesContent":["import { r as requireRole } from \"../../../../chunks/auth.js\";\nimport { f as fail } from \"../../../../chunks/index2.js\";\nimport { d as db } from \"../../../../chunks/database.js\";\nimport { existsSync, mkdirSync, unlinkSync, writeFileSync } from \"fs\";\nimport path from \"path\";\nimport { v4 } from \"uuid\";\nimport { l as logActivity } from \"../../../../chunks/activityLogger.js\";\nconst UPLOADS_BASE_DIR = path.join(process.cwd(), \"uploads\");\nconst PROFILES_UPLOAD_DIR = path.join(UPLOADS_BASE_DIR, \"profiles\");\nif (!existsSync(PROFILES_UPLOAD_DIR)) {\n  mkdirSync(PROFILES_UPLOAD_DIR, { recursive: true });\n  console.log(`Created upload directory: ${PROFILES_UPLOAD_DIR}`);\n}\nconst load = async (event) => {\n  await requireRole(event, [\"admin\", \"feeds\", \"hardware\"]);\n  event.depends(\"app:clients\");\n  const url = new URL(event.request.url);\n  const search = url.searchParams.get(\"search\") || \"\";\n  const sortBy = url.searchParams.get(\"sort\") || \"created_at\";\n  const sortOrder = url.searchParams.get(\"order\") || \"desc\";\n  let clients;\n  let query = `\n    SELECT id, name, operator_type, address, birthday, contact_number, profile_image, status, created_at\n    FROM clients\n  `;\n  const params = [];\n  if (search) {\n    query += `\n      WHERE name LIKE ? OR address LIKE ? OR contact_number LIKE ?\n    `;\n    params.push(`%${search}%`, `%${search}%`, `%${search}%`);\n  }\n  query += ` ORDER BY ${sortBy} ${sortOrder.toUpperCase()}`;\n  try {\n    if (params.length > 0) {\n      clients = db.prepare(query).all(...params);\n    } else {\n      clients = db.prepare(query).all();\n    }\n  } catch (error) {\n    console.error(\"Error fetching clients:\", error);\n    clients = [];\n  }\n  return {\n    clients: clients.map((client) => ({\n      ...client,\n      birthday: client.birthday ? new Date(client.birthday).toISOString().split(\"T\")[0] : null,\n      // --- IMPORTANT: Construct the URL for the API endpoint ---\n      // The database stores the relative path (e.g., 'profiles/abc.png')\n      // We construct the full URL that the browser will request.\n      profile_image: client.profile_image ? `/api/uploads/${client.profile_image.replace(/\\\\/g, \"/\")}` : null\n      // -----------------------------------------------------------\n    })),\n    search,\n    sortBy,\n    sortOrder\n  };\n};\nconst actions = {\n  create: async ({ request, locals }) => {\n    const data = await request.formData();\n    const name = data.get(\"name\")?.toString();\n    const operator_type = data.get(\"operator_type\")?.toString();\n    const address = data.get(\"address\")?.toString();\n    const birthday = data.get(\"birthday\")?.toString();\n    const contact_number = data.get(\"contact_number\")?.toString();\n    const profile_image = data.get(\"profile_image\");\n    const status = data.get(\"status\")?.toString();\n    if (!name || !operator_type || !address) {\n      return fail(400, {\n        error: \"Name, operator type, and address are required.\"\n      });\n    }\n    let imageRelativePath = null;\n    if (profile_image && profile_image.size > 0) {\n      try {\n        const allowedTypes = [\n          \"image/jpeg\",\n          \"image/png\",\n          \"image/gif\",\n          \"image/webp\"\n        ];\n        if (!allowedTypes.includes(profile_image.type)) {\n          return fail(400, {\n            error: \"Invalid file type. Only images (JPEG, PNG, GIF, WEBP) are allowed.\"\n          });\n        }\n        if (profile_image.size > 5 * 1024 * 1024) {\n          return fail(400, { error: \"Image size exceeds 5MB limit.\" });\n        }\n        const fileExtension = path.extname(profile_image.name);\n        const uniqueFilename = `${v4()}${fileExtension}`;\n        const filePath = path.join(PROFILES_UPLOAD_DIR, uniqueFilename);\n        writeFileSync(filePath, Buffer.from(await profile_image.arrayBuffer()));\n        imageRelativePath = path.join(\"profiles\", uniqueFilename);\n        imageRelativePath = imageRelativePath.replace(/\\\\/g, \"/\");\n      } catch (err) {\n        console.error(\"Error saving profile image:\", err);\n        return fail(500, { error: \"Failed to upload profile image.\" });\n      }\n    }\n    try {\n      const insertResult = db.prepare(\n        `\n          INSERT INTO clients (name, operator_type, address, birthday, contact_number, profile_image, status)\n          VALUES (?, ?, ?, ?, ?, ?, ?)\n          `\n      ).run(\n        name,\n        operator_type,\n        address,\n        birthday || null,\n        contact_number || null,\n        imageRelativePath,\n        // Save the relative image path\n        status || \"active\"\n      );\n      const newID = Number(insertResult.lastInsertRowid);\n      const userId = locals.user?.id || null;\n      await logActivity(\n        \"created\",\n        \"client\",\n        newID,\n        `New client \"${name}\" added.`,\n        userId\n      );\n      return { success: true };\n    } catch (error) {\n      console.error(\"Error creating client:\", error);\n      return fail(500, { error: \"Failed to create client.\" });\n    }\n  },\n  update: async ({ request, locals }) => {\n    const data = await request.formData();\n    const id = Number(data.get(\"id\"));\n    const name = data.get(\"name\")?.toString();\n    const operator_type = data.get(\"operator_type\")?.toString();\n    const address = data.get(\"address\")?.toString();\n    const birthday = data.get(\"birthday\")?.toString();\n    const contact_number = data.get(\"contact_number\")?.toString();\n    const profile_image_file = data.get(\"profile_image\");\n    data.get(\"current_image_path\")?.toString();\n    const remove_profile_image_flag = data.get(\"remove_profile_image\") === \"true\";\n    const status = data.get(\"status\")?.toString();\n    if (!id || !name || !operator_type || !address) {\n      return fail(400, {\n        error: \"ID, name, operator type, and address are required.\"\n      });\n    }\n    const currentClient = db.prepare(\n      \"SELECT name, operator_type, address, profile_image FROM clients WHERE id = ?\"\n    ).get(id);\n    const oldClientName = currentClient?.name || \"Unknown Client\";\n    let newImageRelativePath = void 0;\n    if (profile_image_file && profile_image_file instanceof File && profile_image_file.size > 0) {\n      try {\n        const allowedTypes = [\n          \"image/jpeg\",\n          \"image/png\",\n          \"image/gif\",\n          \"image/webp\"\n        ];\n        if (!allowedTypes.includes(profile_image_file.type)) {\n          return fail(400, {\n            error: \"Invalid file type. Only images (JPEG, PNG, GIF, WEBP) are allowed.\"\n          });\n        }\n        if (profile_image_file.size > 5 * 1024 * 1024) {\n          return fail(400, { error: \"Image size exceeds 5MB limit.\" });\n        }\n        if (currentClient?.profile_image) {\n          const oldFilePath = path.join(\n            UPLOADS_BASE_DIR,\n            currentClient.profile_image\n          );\n          if (existsSync(oldFilePath)) {\n            unlinkSync(oldFilePath);\n          }\n        }\n        const fileExtension = path.extname(profile_image_file.name);\n        const uniqueFilename = `${v4()}${fileExtension}`;\n        const filePath = path.join(PROFILES_UPLOAD_DIR, uniqueFilename);\n        writeFileSync(\n          filePath,\n          Buffer.from(await profile_image_file.arrayBuffer())\n        );\n        newImageRelativePath = path.join(\"profiles\", uniqueFilename);\n        newImageRelativePath = newImageRelativePath.replace(/\\\\/g, \"/\");\n      } catch (err) {\n        console.error(\"Error updating profile image:\", err);\n        return fail(500, { error: \"Failed to upload new profile image.\" });\n      }\n    } else if (remove_profile_image_flag) {\n      if (currentClient?.profile_image) {\n        const oldFilePath = path.join(\n          UPLOADS_BASE_DIR,\n          currentClient.profile_image\n        );\n        if (existsSync(oldFilePath)) {\n          unlinkSync(oldFilePath);\n        }\n      }\n      newImageRelativePath = null;\n    }\n    try {\n      let updateQuery = `\n        UPDATE clients\n        SET name = ?, operator_type = ?, address = ?, birthday = ?, contact_number = ?, status = ?\n      `;\n      const params = [\n        name,\n        operator_type,\n        address,\n        birthday || null,\n        contact_number || null,\n        status || \"active\"\n      ];\n      if (newImageRelativePath !== void 0) {\n        updateQuery += `, profile_image = ?`;\n        params.push(newImageRelativePath);\n      }\n      updateQuery += ` WHERE id = ?`;\n      const idString = String(id);\n      params.push(idString);\n      db.prepare(updateQuery).run(...params);\n      const userId = locals.user?.id || null;\n      await logActivity(\n        \"updated\",\n        \"client\",\n        id,\n        `Client \"${oldClientName}\" (ID: ${id}) updated.`,\n        userId\n      );\n      return { success: true };\n    } catch (error) {\n      console.error(\"Error updating client:\", error);\n      return fail(500, { error: \"Failed to update client.\" });\n    }\n  },\n  delete: async ({ request, locals }) => {\n    const data = await request.formData();\n    const id = Number(data.get(\"id\"));\n    if (isNaN(id)) {\n      return fail(400, { error: \"Client ID is required.\" });\n    }\n    try {\n      const client = db.prepare(\"SELECT name, profile_image FROM clients WHERE id = ?\").get(id);\n      const clientName = client?.name || \"Unknown Client\";\n      if (client && client.profile_image) {\n        const imagePathToDelete = path.join(\n          UPLOADS_BASE_DIR,\n          client.profile_image\n        );\n        if (existsSync(imagePathToDelete)) {\n          unlinkSync(imagePathToDelete);\n          console.log(`Deleted client image: ${imagePathToDelete}`);\n        }\n      }\n      db.prepare(\"DELETE FROM clients WHERE id = ?\").run(id);\n      const userId = locals.user?.id || null;\n      await logActivity(\n        \"deleted\",\n        \"client\",\n        id,\n        `Client \"${clientName}\" (ID: ${id}) deleted.`,\n        userId\n      );\n      return { success: true };\n    } catch (error) {\n      console.error(\"Error deleting client:\", error);\n      return fail(500, { error: \"Failed to delete client.\" });\n    }\n  }\n};\nexport {\n  actions,\n  load\n};\n","import * as server from '../entries/pages/dashboard/clients/_page.server.ts.js';\n\nexport const index = 6;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/pages/dashboard/clients/_page.svelte.js')).default;\nexport { server };\nexport const server_id = \"src/routes/dashboard/clients/+page.server.ts\";\nexport const imports = [\"_app/immutable/nodes/6.DEv3yBFF.js\",\"_app/immutable/chunks/CY4Ce0c4.js\",\"_app/immutable/chunks/BdQXYw_T.js\",\"_app/immutable/chunks/BO5sSAji.js\",\"_app/immutable/chunks/DAK0Aekt.js\",\"_app/immutable/chunks/D9hGQICX.js\",\"_app/immutable/chunks/DsUCSRu3.js\",\"_app/immutable/chunks/B7wWqVz8.js\",\"_app/immutable/chunks/D8SxGvop.js\",\"_app/immutable/chunks/Bex-ZZ3I.js\",\"_app/immutable/chunks/1fwwRmkB.js\",\"_app/immutable/chunks/BZ9DdiR_.js\",\"_app/immutable/chunks/B3kFzWm3.js\",\"_app/immutable/chunks/MTanKdmA.js\",\"_app/immutable/chunks/BDEhTM1z.js\",\"_app/immutable/chunks/79yj6mvb.js\",\"_app/immutable/chunks/C8nz08U9.js\",\"_app/immutable/chunks/BXiYU_fU.js\",\"_app/immutable/chunks/DYevSITT.js\",\"_app/immutable/chunks/BnoYQOO4.js\",\"_app/immutable/chunks/DG-I9f0P.js\",\"_app/immutable/chunks/BCMyTCEX.js\",\"_app/immutable/chunks/B_4Zpmki.js\",\"_app/immutable/chunks/BOqc4mWw.js\",\"_app/immutable/chunks/FbqajOR9.js\",\"_app/immutable/chunks/UFUhM6vw.js\",\"_app/immutable/chunks/6xhieDVM.js\",\"_app/immutable/chunks/CsJL26Fh.js\",\"_app/immutable/chunks/CVjO-GJU.js\",\"_app/immutable/chunks/DIvwaDiU.js\",\"_app/immutable/chunks/CEVutZxn.js\",\"_app/immutable/chunks/CPRTWbuQ.js\",\"_app/immutable/chunks/BZzk2vwh.js\",\"_app/immutable/chunks/0sm_qxqv.js\",\"_app/immutable/chunks/_cz2kCqa.js\",\"_app/immutable/chunks/DKAGjdov.js\",\"_app/immutable/chunks/0urWu8Wf.js\",\"_app/immutable/chunks/CPLOLVSj.js\",\"_app/immutable/chunks/CfmL5u39.js\",\"_app/immutable/chunks/CTGOP75E.js\",\"_app/immutable/chunks/Dt21h0cY.js\",\"_app/immutable/chunks/DgoSFWl1.js\",\"_app/immutable/chunks/CjnbRfgs.js\",\"_app/immutable/chunks/73OGGqlS.js\",\"_app/immutable/chunks/0dNO5ytf.js\",\"_app/immutable/chunks/D_UmtYL2.js\",\"_app/immutable/chunks/BO-JY_3Z.js\",\"_app/immutable/chunks/BQbVfyjS.js\"];\nexport const stylesheets = [\"_app/immutable/assets/index.CV-KWLNP.css\"];\nexport const fonts = [];\n"],"names":[],"mappings":"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"}