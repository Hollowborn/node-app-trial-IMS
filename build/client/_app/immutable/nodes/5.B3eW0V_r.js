import{c as de,a as e,f as d,t as u}from"../chunks/Do_-mL-j.js";import{f as $,p as ir,a as K,b as $t,s as t,d as ur,n,t as D,g as r,u as wt,c as p,e as c,r as f}from"../chunks/CSgM7ggg.js";import{s as z}from"../chunks/Cc2sBIKg.js";import{l as tt,s as rt,i as nt}from"../chunks/DFkGWr6I.js";import{e as St,i as Ct}from"../chunks/BveS6AeT.js";import{c as x}from"../chunks/BxwOPTHF.js";import{a as kt,e as At,A as Nt}from"../chunks/BOZ4giT5.js";import{r as Re,s as ze}from"../chunks/eOTtUvit.js";import{i as dt,g as zt}from"../chunks/uKHEHksz.js";import{B as qe}from"../chunks/BVmkDKMc.js";import{I as He}from"../chunks/B5-iWWaj.js";import{C as cr,a as vr,b as $r,c as _r}from"../chunks/BBrFK00f.js";import{L as Se}from"../chunks/Bo2GsiZ3.js";import{T as pr,a as fr,b as Et,c as Ee,d as mr,P as Ot,D as Ut,e as Ht,f as Vt,g as jt,h as Jt,A as Ft,i as Xt,R as Qt,j as Oe,S as hr,C as gr}from"../chunks/CdrzcX6z.js";import{P as xr,A as Pr,a as yr,b as br,c as wr,d as Sr,e as Cr,R as kr,f as Ar}from"../chunks/DRgJLo_S.js";import{R as Ye,S as Ze,a as et,b as W}from"../chunks/B762jp4P.js";import{B as Tt}from"../chunks/Dlm0QRJp.js";import{R as Nr,P as Tr}from"../chunks/BAa4oyvZ.js";import{S as Br}from"../chunks/C9JwNqn8.js";import{S as Dr}from"../chunks/C0R_oNfb.js";import{P as Mr,C as Lr,T as Ir}from"../chunks/ARt1Dh6s.js";import{A as qr,a as Rr}from"../chunks/B3v1Wr7v.js";import{t as _t}from"../chunks/Ca16gRfA.js";import{U as zr}from"../chunks/nTpf8bzQ.js";import{T as Er,a as Or}from"../chunks/HFpTe9lc.js";import"../chunks/DTVKcNaw.js";import{s as at}from"../chunks/CFJF3e64.js";import{I as st}from"../chunks/DKYlzseR.js";import{I as Ur}from"../chunks/CwTfDKE9.js";import{X as Hr}from"../chunks/fdmIGhiF.js";import{C as Vr}from"../chunks/m1yvVzPT.js";import{C as jr}from"../chunks/C4d-Fjg-.js";function Jr(ve,k){const j=tt(k,["children","$$slots","$$events","$$legacy"]),T=[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"}]];st(ve,rt({name:"book-open"},()=>j,{get iconNode(){return T},children:(re,Ce)=>{var M=de(),Y=$(M);at(Y,k,"default",{}),e(re,M)},$$slots:{default:!0}}))}function Fr(ve,k){const j=tt(k,["children","$$slots","$$events","$$legacy"]),T=[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}],["path",{d:"M3 10h18"}],["path",{d:"m9 16 2 2 4-4"}]];st(ve,rt({name:"calendar-check"},()=>j,{get iconNode(){return T},children:(re,Ce)=>{var M=de(),Y=$(M);at(Y,k,"default",{}),e(re,M)},$$slots:{default:!0}}))}function Xr(ve,k){const j=tt(k,["children","$$slots","$$events","$$legacy"]),T=[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22"}]];st(ve,rt({name:"eye-off"},()=>j,{get iconNode(){return T},children:(re,Ce)=>{var M=de(),Y=$(M);at(Y,k,"default",{}),e(re,M)},$$slots:{default:!0}}))}function Qr(ve,k){const j=tt(k,["children","$$slots","$$events","$$legacy"]),T=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}],["path",{d:"M3 3v5h5"}],["path",{d:"M12 7v5l4 2"}]];st(ve,rt({name:"history"},()=>j,{get iconNode(){return T},children:(re,Ce)=>{var M=de(),Y=$(M);at(Y,k,"default",{}),e(re,M)},$$slots:{default:!0}}))}function Gr(ve,k){const j=tt(k,["children","$$slots","$$events","$$legacy"]),T=[["path",{d:"M5 22h14"}],["path",{d:"M5 2h14"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2"}]];st(ve,rt({name:"hourglass"},()=>j,{get iconNode(){return T},children:(re,Ce)=>{var M=de(),Y=$(M);at(Y,k,"default",{}),e(re,M)},$$slots:{default:!0}}))}function Kr(ve,k){const j=tt(k,["children","$$slots","$$events","$$legacy"]),T=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}]];st(ve,rt({name:"message-square"},()=>j,{get iconNode(){return T},children:(re,Ce)=>{var M=de(),Y=$(M);at(Y,k,"default",{}),e(re,M)},$$slots:{default:!0}}))}var Wr=d("<!> <!>",1),Yr=d("<!> Add Booking",1),Zr=d('<div class="text-center py-8 text-gray-500">No bookings found</div>'),ea=d('<div class="flex items-center gap-1">Client <!></div>'),ta=d('<div class="flex items-center gap-1">Purpose <!></div>'),ra=d('<div class="flex items-center gap-1">Date <!></div>'),aa=d('<div class="flex items-center gap-1">Time <!></div>'),sa=d('<div class="flex items-center gap-1">Status <!></div>'),oa=d('<div class="flex items-center gap-1">Created At <!></div>'),la=d("<!> <!> <!> <!> <!> <!> <!> <!>",1),na=d("<!> ",1),da=d("<!> ",1),ia=d("<p> </p>"),ua=d("<!> <!>",1),ca=d('<span class="text-gray-400 italic">N/A</span>'),va=d("<!> ",1),$a=d('<div class="flex flex justify-center space-x-2"><!> <!></div>'),_a=d("<!> <!> <!> <!> <!> <!> <!> <!>",1),pa=d("<!> <!>",1),fa=d('<div class="border rounded-lg"><!></div>'),ma=d('<div class="flex items-center gap-4 mb-4"><div class="relative flex-1"><!> <!></div> <!></div> <!>',1),ha=d("<!> <!>",1),ga=d("<!> <!>",1),xa=d("<!> <!>",1),Pa=d("<span> </span>"),ya=d("<!> <!>",1),ba=d("<span> </span>"),wa=d("<!> <!>",1),Sa=d("<!> <!>",1),Ca=d("<span> </span>"),ka=d("<!> <!> <!> <!> <!> <!>",1),Aa=d("<!> <!>",1),Na=d('<!> <form method="POST" action="?/create"><div class="space-y-4 mt-6"><!> <div class="space-y-2"><!> <!> <input type="hidden" name="client_id"/></div> <div class="space-y-2"><!> <!> <input type="hidden" name="purpose"/></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!> <input type="hidden" name="status"/></div> <div class="flex gap-2 pt-4"><!> <!></div></div></form>',1),Ta=d("<!> <!>",1),Ba=d("<!> <!>",1),Da=d("<!> <!>",1),Ma=d("<span> </span>"),La=d("<!> <!>",1),Ia=d("<span> </span>"),qa=d("<!> <!>",1),Ra=d("<!> <!>",1),za=d("<span> </span>"),Ea=d("<!> <!> <!> <!> <!> <!>",1),Oa=d("<!> <!>",1),Ua=d('<!> <form method="POST" action="?/update"><input type="hidden" name="id"/> <div class="space-y-4 mt-6"><!> <div class="space-y-2"><!> <!> <input type="hidden" name="client_id"/></div> <div class="space-y-2"><!> <!> <input type="hidden" name="purpose"/></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!> <input type="hidden" name="status"/></div> <div class="flex gap-2 pt-4"><!> <!></div></div></form>',1),Ha=d("<!> <!>",1),Va=d("<!> <!>",1),ja=d('<form method="POST" action="?/delete"><input type="hidden" name="id"/> <!> <!></form>'),Ja=d("<!> <!>",1),Fa=d("<!> <!>",1),Xa=d("<!> <!>",1),Qa=d('<div class="pointer-events-auto"><!></div>'),Ga=d('<div class="space-y-6"><div class="flex justify-between items-center"><div><h1 class="text-2xl font-bold">Bookings Management</h1> <p class="text-gray-500">Manage client reservations and consultations</p></div></div></div> <!> <!> <!> <!> <div class="fixed inset-x-0 bottom-6 flex justify-center z-50 pointer-events-none"><!></div>',1);function As(ve,k){ir(k,!0);let j=K($t(k.data.search||"")),T=K(null),re=K(null),Ce=K(!1),M=K(!1),Y=K(!1),ot=K(null),Ve=K(void 0),je=K(void 0),it=K(""),ut=K(""),ct=K(""),Je=K("pending"),vt=K(null),R=K($t({})),pt=K(!1),ft="",Fe="default",Xe="",lt=K($t(k.data.sortBy||"date")),Qe=K($t(k.data.sortOrder||"asc"));function mt(l,L){switch(ft=l,L){case"create":Fe="default",Xe="bg-[var(--primary)] text-[var(--primary-foreground)]",_t.success(l);break;case"update":Fe="default",Xe="bg-[var(--secondary)] text-[var(--secondary-foreground)]",_t.success(l);break;case"delete":Fe="destructive",Xe="",_t.info(l);break;default:Fe="default",Xe="bg-[var(--primary)] text-[var(--primary-foreground)]"}setTimeout(()=>c(pt,!1),3e3)}function ht(l){ft=l,Fe="destructive",Xe="",_t.error(l),setTimeout(()=>c(pt,!1),3e3)}let gt=wt(()=>{var l;return((l=k.data.bookings)==null?void 0:l.filter(L=>L.client_name.toLowerCase().includes(r(j).toLowerCase())||L.purpose.toLowerCase().includes(r(j).toLowerCase())||L.status.toLowerCase().includes(r(j).toLowerCase())))||[]});function Gt(l){c(vt,l.id,!0),c(re,{...l},!0),c(R,{...l},!0),c(M,!0)}function Kt(){c(vt,null),c(R,{},!0),c(re,null),c(M,!1)}async function Wt(){const l=new URL(window.location.href);r(j)?l.searchParams.set("search",r(j)):l.searchParams.delete("search"),l.searchParams.set("sort",r(lt)),l.searchParams.set("order",r(Qe)),await zt(l.pathname+l.search,{replaceState:!0}),dt("app:bookings")}function Yt(l){c(ot,l,!0),c(Y,!0)}function xt(l){return l?new Date(l+"T00:00:00").toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"}function Bt(l){if(!l)return"N/A";const[L,I]=l.split(":"),X=new Date;return X.setHours(parseInt(L,10)),X.setMinutes(parseInt(I,10)),X.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}function Zt(l){return{reservation:"Reservation",consultation:"Consultation"}[l]||l}function Pt(l){return{pending:"Pending",confirmed:"Confirmed",completed:"Completed",cancelled:"Cancelled",no_show:"No Show",expired:"Expired"}[l]||l}function er(l){switch(l){case"reservation":return Fr;case"consultation":return Kr;default:return Jr}}function tr(l){switch(l){case"pending":return Gr;case"confirmed":return jr;case"completed":return Vr;case"cancelled":return Hr;case"no_show":return Xr;case"expired":return Qr;default:return Ur}}function rr(l){return"outline"}function ar(l){switch(l){case"pending":return"text-yellow-500";case"confirmed":case"completed":return"text-green-500";case"cancelled":case"no_show":case"expired":return"text-red-500";default:return"text-gray-500"}}function sr(){c(Ce,!0),c(Ve,void 0),c(je,void 0),c(it,""),c(ut,""),c(ct,""),c(Je,"pending"),c(T,null)}async function Ge(l){let L=l,I;r(lt)===l?r(Qe)==="asc"?I="desc":I="asc":(L=l,I="asc"),c(lt,L,!0),c(Qe,I,!0);const X=new URL(window.location.href);X.searchParams.set("sort",r(lt)),X.searchParams.set("order",r(Qe)),console.log("Navigating to:",X.pathname+X.search),await zt(X.pathname+X.search),dt("app:bookings")}function Ke(l){if(r(lt)===l){if(r(Qe)==="asc")return qr;if(r(Qe)==="desc")return Rr}return Lr}var Dt=Ga(),Mt=t($(Dt),2);cr(Mt,{children:(l,L)=>{var I=ha(),X=$(I);vr(X,{class:"h-4",children:(Pe,Be)=>{var $e=Wr(),ie=$($e);$r(ie,{children:(ee,Ae)=>{n();var De=u();D(()=>z(De,`Total Bookings: ${r(gt).length??""}`)),e(ee,De)},$$slots:{default:!0}});var Me=t(ie,2);Br(Me,{class:"my-2"}),e(Pe,$e)},$$slots:{default:!0}});var ke=t(X,2);_r(ke,{children:(Pe,Be)=>{var $e=ma(),ie=$($e),Me=p(ie),ee=p(Me);He(ee,{placeholder:"Search by client name, purpose, or status...",class:"pl-10",get value(){return r(j)},set value(fe){c(j,fe,!0)},$$events:{input:Wt}});var Ae=t(ee,2);Dr(Ae,{class:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),f(Me);var De=t(Me,2);qe(De,{onclick:sr,children:(fe,ae)=>{var me=Yr(),he=$(me);Mr(he,{class:"h-4 w-4 mr-2"}),n(),e(fe,me)},$$slots:{default:!0}}),f(ie);var _e=t(ie,2);{var pe=fe=>{var ae=Zr();e(fe,ae)},Ue=fe=>{var ae=fa(),me=p(ae);pr(me,{children:(he,Ne)=>{var ye=pa(),Te=$(ye);fr(Te,{children:(Q,ue)=>{Et(Q,{children:(se,oe)=>{var w=la(),h=$(w);Ee(h,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Ge("client_name"),children:(B,Z)=>{var g=ea(),E=t(p(g));x(E,()=>Ke("client_name"),(O,P)=>{P(O,{class:"h-4 w-4"})}),f(g),e(B,g)},$$slots:{default:!0}});var q=t(h,2);Ee(q,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Ge("purpose"),children:(B,Z)=>{var g=ta(),E=t(p(g));x(E,()=>Ke("purpose"),(O,P)=>{P(O,{class:"h-4 w-4"})}),f(g),e(B,g)},$$slots:{default:!0}});var te=t(q,2);Ee(te,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Ge("date"),children:(B,Z)=>{var g=ra(),E=t(p(g));x(E,()=>Ke("date"),(O,P)=>{P(O,{class:"h-4 w-4"})}),f(g),e(B,g)},$$slots:{default:!0}});var G=t(te,2);Ee(G,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Ge("time"),children:(B,Z)=>{var g=aa(),E=t(p(g));x(E,()=>Ke("time"),(O,P)=>{P(O,{class:"h-4 w-4"})}),f(g),e(B,g)},$$slots:{default:!0}});var be=t(G,2);Ee(be,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2",children:(B,Z)=>{n();var g=u("Notes");e(B,g)},$$slots:{default:!0}});var ce=t(be,2);Ee(ce,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Ge("status"),children:(B,Z)=>{var g=sa(),E=t(p(g));x(E,()=>Ke("status"),(O,P)=>{P(O,{class:"h-4 w-4"})}),f(g),e(B,g)},$$slots:{default:!0}});var we=t(ce,2);Ee(we,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Ge("created_at"),children:(B,Z)=>{var g=oa(),E=t(p(g));x(E,()=>Ke("created_at"),(O,P)=>{P(O,{class:"h-4 w-4"})}),f(g),e(B,g)},$$slots:{default:!0}});var Ie=t(we,2);Ee(Ie,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 text-center",children:(B,Z)=>{n();var g=u("Actions");e(B,g)},$$slots:{default:!0}}),e(se,w)},$$slots:{default:!0}})},$$slots:{default:!0}});var Le=t(Te,2);mr(Le,{children:(Q,ue)=>{var se=de(),oe=$(se);St(oe,17,()=>r(gt),Ct,(w,h,q)=>{Et(w,{class:`${q%2===0?"bg-gray-50 dark:bg-card":"bg-white dark:bg-background"} `,children:(te,G)=>{var be=_a(),ce=$(be);Oe(ce,{children:(P,ge)=>{Tt(P,{variant:"outline",class:"flex items-center gap-1",children:(A,U)=>{var le=na(),s=$(le);zr(s,{class:"h-3 w-3"});var a=t(s);D(()=>z(a,` ${r(h).client_name??""}`)),e(A,le)},$$slots:{default:!0}})},$$slots:{default:!0}});var we=t(ce,2);Oe(we,{children:(P,ge)=>{Tt(P,{variant:"outline",class:"flex items-center gap-1",children:(A,U)=>{var le=da(),s=$(le);x(s,()=>er(r(h).purpose),(o,i)=>{i(o,{class:"h-3 w-3"})});var a=t(s);D(o=>z(a,` ${o??""}`),[()=>Zt(r(h).purpose)]),e(A,le)},$$slots:{default:!0}})},$$slots:{default:!0}});var Ie=t(we,2);Oe(Ie,{children:(P,ge)=>{n();var A=u();D(U=>z(A,U),[()=>xt(r(h).date)]),e(P,A)},$$slots:{default:!0}});var B=t(Ie,2);Oe(B,{children:(P,ge)=>{n();var A=u();D(U=>z(A,U),[()=>Bt(r(h).time)]),e(P,A)},$$slots:{default:!0}});var Z=t(B,2);Oe(Z,{class:"max-w-xs truncate",children:(P,ge)=>{var A=de(),U=$(A);{var le=a=>{var o=de(),i=$(o);x(i,()=>Tr,(S,b)=>{b(S,{delayDuration:100,children:(C,m)=>{var v=de(),_=$(v);x(_,()=>Nr,(y,N)=>{N(y,{children:(H,xe)=>{var J=ua(),V=$(J);x(V,()=>Er,(ne,yt)=>{yt(ne,{class:"truncate max-w-xs block",children:(bt,nr)=>{n();var We=u();D(()=>z(We,r(h).notes)),e(bt,We)},$$slots:{default:!0}})});var F=t(V,2);x(F,()=>Or,(ne,yt)=>{yt(ne,{children:(bt,nr)=>{var We=ia(),dr=p(We,!0);f(We),D(()=>z(dr,r(h).notes)),e(bt,We)},$$slots:{default:!0}})}),e(H,J)},$$slots:{default:!0}})}),e(C,v)},$$slots:{default:!0}})}),e(a,o)},s=a=>{var o=ca();e(a,o)};nt(U,a=>{r(h).notes?a(le):a(s,!1)})}e(P,A)},$$slots:{default:!0}});var g=t(Z,2);Oe(g,{children:(P,ge)=>{const A=wt(()=>rr(r(h).status));Tt(P,{get variant(){return r(A)},class:"flex items-center gap-1",children:(U,le)=>{var s=va(),a=$(s);const o=wt(()=>ar(r(h).status)+" h-3 w-3");x(a,()=>tr(r(h).status),(S,b)=>{b(S,{get class(){return r(o)}})});var i=t(a);D(S=>z(i,` ${S??""}`),[()=>Pt(r(h).status)]),e(U,s)},$$slots:{default:!0}})},$$slots:{default:!0}});var E=t(g,2);Oe(E,{class:"text-gray-500 text-sm",children:(P,ge)=>{n();var A=u();D(U=>z(A,U),[()=>xt(r(h).created_at)]),e(P,A)},$$slots:{default:!0}});var O=t(E,2);Oe(O,{children:(P,ge)=>{var A=$a(),U=p(A);qe(U,{variant:"outline",size:"sm",onclick:()=>Gt(r(h)),children:(s,a)=>{hr(s,{})},$$slots:{default:!0}});var le=t(U,2);qe(le,{variant:"outline",size:"sm",onclick:()=>Yt(r(h)),children:(s,a)=>{Ir(s,{class:"h-4 w-4 text-red-500"})},$$slots:{default:!0}}),f(A),e(P,A)},$$slots:{default:!0}}),e(te,be)},$$slots:{default:!0}})}),e(Q,se)},$$slots:{default:!0}}),e(he,ye)},$$slots:{default:!0}}),f(ae),e(fe,ae)};nt(_e,fe=>{r(gt).length===0?fe(pe):fe(Ue,!1)})}e(Pe,$e)},$$slots:{default:!0}}),e(l,I)},$$slots:{default:!0}});var Lt=t(Mt,2);x(Lt,()=>Qt,(l,L)=>{L(l,{get open(){return r(Ce)},set open(I){c(Ce,I,!0)},children:(I,X)=>{var ke=de(),Pe=$(ke);x(Pe,()=>Ot,(Be,$e)=>{$e(Be,{children:(ie,Me)=>{var ee=Ta(),Ae=$(ee);x(Ae,()=>Ut,(_e,pe)=>{pe(_e,{})});var De=t(Ae,2);x(De,()=>Ht,(_e,pe)=>{pe(_e,{class:"sm:max-w-[425px] p-6",children:(Ue,fe)=>{var ae=Na(),me=$(ae);x(me,()=>Vt,(s,a)=>{a(s,{children:(o,i)=>{var S=ga(),b=$(S);x(b,()=>jt,(m,v)=>{v(m,{children:(_,y)=>{n();var N=u("Add New Booking");e(_,N)},$$slots:{default:!0}})});var C=t(b,2);x(C,()=>Jt,(m,v)=>{v(m,{children:(_,y)=>{n();var N=u("Enter the booking details below.");e(_,N)},$$slots:{default:!0}})}),e(o,S)},$$slots:{default:!0}})});var he=t(me,2),Ne=p(he),ye=p(Ne);{var Te=s=>{Nt(s,{variant:"destructive",children:(a,o)=>{var i=xa(),S=$(i);Ft(S,{class:"h-4 w-4"});var b=t(S,2);Xt(b,{children:(C,m)=>{n();var v=u();D(()=>z(v,r(T))),e(C,v)},$$slots:{default:!0}}),e(a,i)},$$slots:{default:!0}})};nt(ye,s=>{r(T)&&s(Te)})}var Le=t(ye,2),Q=p(Le);Se(Q,{for:"client_id_create",children:(s,a)=>{n();var o=u("Client *");e(s,o)},$$slots:{default:!0}});var ue=t(Q,2);Ye(ue,{type:"single",required:!0,get value(){return r(Ve)},set value(s){c(Ve,s,!0)},children:(s,a)=>{var o=ya(),i=$(o);Ze(i,{children:(b,C)=>{var m=Pa(),v=p(m,!0);f(m),D(_=>z(v,_),[()=>{var _;return((_=k.data.clients.find(y=>y.id===r(Ve)))==null?void 0:_.name)||"Select client"}]),e(b,m)},$$slots:{default:!0}});var S=t(i,2);et(S,{children:(b,C)=>{var m=de(),v=$(m);St(v,17,()=>k.data.clients,Ct,(_,y)=>{W(_,{get value(){return r(y).id},children:(N,H)=>{n();var xe=u();D(()=>z(xe,r(y).name)),e(N,xe)},$$slots:{default:!0}})}),e(b,m)},$$slots:{default:!0}}),e(s,o)},$$slots:{default:!0}});var se=t(ue,2);Re(se),f(Le);var oe=t(Le,2),w=p(oe);Se(w,{for:"purpose_create",children:(s,a)=>{n();var o=u("Purpose *");e(s,o)},$$slots:{default:!0}});var h=t(w,2);Ye(h,{type:"single",required:!0,get value(){return r(je)},set value(s){c(je,s,!0)},children:(s,a)=>{var o=Sa(),i=$(o);Ze(i,{children:(b,C)=>{var m=ba(),v=p(m,!0);f(m),D(()=>z(v,r(je)||"Select purpose")),e(b,m)},$$slots:{default:!0}});var S=t(i,2);et(S,{children:(b,C)=>{var m=wa(),v=$(m);W(v,{value:"reservation",children:(y,N)=>{n();var H=u("Reservation");e(y,H)},$$slots:{default:!0}});var _=t(v,2);W(_,{value:"consultation",children:(y,N)=>{n();var H=u("Consultation");e(y,H)},$$slots:{default:!0}}),e(b,m)},$$slots:{default:!0}}),e(s,o)},$$slots:{default:!0}});var q=t(h,2);Re(q),f(oe);var te=t(oe,2),G=p(te);Se(G,{for:"date_create",children:(s,a)=>{n();var o=u("Date *");e(s,o)},$$slots:{default:!0}});var be=t(G,2);He(be,{id:"date_create",name:"date",type:"date",required:!0,get value(){return r(it)},set value(s){c(it,s,!0)}}),f(te);var ce=t(te,2),we=p(ce);Se(we,{for:"time_create",children:(s,a)=>{n();var o=u("Time *");e(s,o)},$$slots:{default:!0}});var Ie=t(we,2);He(Ie,{id:"time_create",name:"time",type:"time",required:!0,get value(){return r(ut)},set value(s){c(ut,s,!0)}}),f(ce);var B=t(ce,2),Z=p(B);Se(Z,{for:"notes_create",children:(s,a)=>{n();var o=u("Notes");e(s,o)},$$slots:{default:!0}});var g=t(Z,2);He(g,{id:"notes_create",name:"notes",type:"text",maxlength:255,get value(){return r(ct)},set value(s){c(ct,s,!0)}}),f(B);var E=t(B,2),O=p(E);Se(O,{for:"status_create",children:(s,a)=>{n();var o=u("Status *");e(s,o)},$$slots:{default:!0}});var P=t(O,2);Ye(P,{type:"single",required:!0,get value(){return r(Je)},set value(s){c(Je,s,!0)},children:(s,a)=>{var o=Aa(),i=$(o);Ze(i,{children:(b,C)=>{var m=Ca(),v=p(m,!0);f(m),D(_=>z(v,_),[()=>Pt(r(Je))||"Select status"]),e(b,m)},$$slots:{default:!0}});var S=t(i,2);et(S,{children:(b,C)=>{var m=ka(),v=$(m);W(v,{value:"pending",children:(J,V)=>{n();var F=u("Pending");e(J,F)},$$slots:{default:!0}});var _=t(v,2);W(_,{value:"confirmed",children:(J,V)=>{n();var F=u("Confirmed");e(J,F)},$$slots:{default:!0}});var y=t(_,2);W(y,{value:"completed",children:(J,V)=>{n();var F=u("Completed");e(J,F)},$$slots:{default:!0}});var N=t(y,2);W(N,{value:"cancelled",children:(J,V)=>{n();var F=u("Cancelled");e(J,F)},$$slots:{default:!0}});var H=t(N,2);W(H,{value:"no_show",children:(J,V)=>{n();var F=u("No Show");e(J,F)},$$slots:{default:!0}});var xe=t(H,2);W(xe,{value:"expired",children:(J,V)=>{n();var F=u("Expired");e(J,F)},$$slots:{default:!0}}),e(b,m)},$$slots:{default:!0}}),e(s,o)},$$slots:{default:!0}});var ge=t(P,2);Re(ge),f(E);var A=t(E,2),U=p(A);qe(U,{type:"submit",class:"flex-1",children:(s,a)=>{n();var o=u("Add Booking");e(s,o)},$$slots:{default:!0}});var le=t(U,2);qe(le,{type:"button",variant:"outline",onclick:()=>c(Ce,!1),children:(s,a)=>{n();var o=u("Cancel");e(s,o)},$$slots:{default:!0}}),f(A),f(Ne),f(he),kt(he,(s,a)=>{var o;return(o=At)==null?void 0:o(s,a)},()=>()=>async({result:s})=>{var a,o;s.type==="success"?(c(Ce,!1),await dt("app:bookings"),mt("Booking created successfully!","create"),c(Ve,void 0),c(je,void 0),c(it,""),c(ut,""),c(ct,""),c(Je,"pending"),c(T,null)):s.type==="failure"&&(c(T,typeof((a=s.data)==null?void 0:a.error)=="string"?s.data.error:JSON.stringify((o=s.data)==null?void 0:o.error)||"An error occurred",!0),ht(r(T)))}),D(()=>{ze(se,r(Ve)),ze(q,r(je)),ze(ge,r(Je))}),e(Ue,ae)},$$slots:{default:!0}})}),e(ie,ee)},$$slots:{default:!0}})}),e(I,ke)},$$slots:{default:!0}})});var It=t(Lt,2);x(It,()=>Qt,(l,L)=>{L(l,{get open(){return r(M)},set open(I){c(M,I,!0)},children:(I,X)=>{var ke=de(),Pe=$(ke);x(Pe,()=>Ot,(Be,$e)=>{$e(Be,{children:(ie,Me)=>{var ee=Ha(),Ae=$(ee);x(Ae,()=>Ut,(_e,pe)=>{pe(_e,{})});var De=t(Ae,2);x(De,()=>Ht,(_e,pe)=>{pe(_e,{class:"sm:max-w-[425px] p-6",children:(Ue,fe)=>{var ae=Ua(),me=$(ae);x(me,()=>Vt,(a,o)=>{o(a,{children:(i,S)=>{var b=Ba(),C=$(b);x(C,()=>jt,(v,_)=>{_(v,{children:(y,N)=>{n();var H=u("Edit Booking");e(y,H)},$$slots:{default:!0}})});var m=t(C,2);x(m,()=>Jt,(v,_)=>{_(v,{children:(y,N)=>{n();var H=u("Update the booking details below.");e(y,H)},$$slots:{default:!0}})}),e(i,b)},$$slots:{default:!0}})});var he=t(me,2),Ne=p(he);Re(Ne);var ye=t(Ne,2),Te=p(ye);{var Le=a=>{Nt(a,{variant:"destructive",children:(o,i)=>{var S=Da(),b=$(S);Ft(b,{class:"h-4 w-4"});var C=t(b,2);Xt(C,{children:(m,v)=>{n();var _=u();D(()=>z(_,r(T))),e(m,_)},$$slots:{default:!0}}),e(o,S)},$$slots:{default:!0}})};nt(Te,a=>{r(T)&&a(Le)})}var Q=t(Te,2),ue=p(Q);Se(ue,{for:"client_id_edit",children:(a,o)=>{n();var i=u("Client *");e(a,i)},$$slots:{default:!0}});var se=t(ue,2);Ye(se,{type:"single",required:!0,get value(){return r(R).client_id},set value(a){r(R).client_id=a},children:(a,o)=>{var i=La(),S=$(i);Ze(S,{children:(C,m)=>{var v=Ma(),_=p(v,!0);f(v),D(y=>z(_,y),[()=>{var y;return((y=k.data.clients.find(N=>N.id===r(R).client_id))==null?void 0:y.name)||"Select client"}]),e(C,v)},$$slots:{default:!0}});var b=t(S,2);et(b,{children:(C,m)=>{var v=de(),_=$(v);St(_,17,()=>k.data.clients,Ct,(y,N)=>{W(y,{get value(){return r(N).id},children:(H,xe)=>{n();var J=u();D(()=>z(J,r(N).name)),e(H,J)},$$slots:{default:!0}})}),e(C,v)},$$slots:{default:!0}}),e(a,i)},$$slots:{default:!0}});var oe=t(se,2);Re(oe),f(Q);var w=t(Q,2),h=p(w);Se(h,{for:"purpose_edit",children:(a,o)=>{n();var i=u("Purpose *");e(a,i)},$$slots:{default:!0}});var q=t(h,2);Ye(q,{type:"single",required:!0,get value(){return r(R).purpose},set value(a){r(R).purpose=a},children:(a,o)=>{var i=Ra(),S=$(i);Ze(S,{children:(C,m)=>{var v=Ia(),_=p(v,!0);f(v),D(()=>z(_,r(R).purpose||"Select purpose")),e(C,v)},$$slots:{default:!0}});var b=t(S,2);et(b,{children:(C,m)=>{var v=qa(),_=$(v);W(_,{value:"reservation",children:(N,H)=>{n();var xe=u("Reservation");e(N,xe)},$$slots:{default:!0}});var y=t(_,2);W(y,{value:"consultation",children:(N,H)=>{n();var xe=u("Consultation");e(N,xe)},$$slots:{default:!0}}),e(C,v)},$$slots:{default:!0}}),e(a,i)},$$slots:{default:!0}});var te=t(q,2);Re(te),f(w);var G=t(w,2),be=p(G);Se(be,{for:"date_edit",children:(a,o)=>{n();var i=u("Date *");e(a,i)},$$slots:{default:!0}});var ce=t(be,2);He(ce,{id:"date_edit",name:"date",type:"date",required:!0,get value(){return r(R).date},set value(a){r(R).date=a}}),f(G);var we=t(G,2),Ie=p(we);Se(Ie,{for:"time_edit",children:(a,o)=>{n();var i=u("Time *");e(a,i)},$$slots:{default:!0}});var B=t(Ie,2);He(B,{id:"time_edit",name:"time",type:"time",required:!0,get value(){return r(R).time},set value(a){r(R).time=a}}),f(we);var Z=t(we,2),g=p(Z);Se(g,{for:"notes_edit",children:(a,o)=>{n();var i=u("Notes");e(a,i)},$$slots:{default:!0}});var E=t(g,2);He(E,{id:"notes_edit",name:"notes",type:"text",maxlength:255,get value(){return r(R).notes},set value(a){r(R).notes=a}}),f(Z);var O=t(Z,2),P=p(O);Se(P,{for:"status_edit",children:(a,o)=>{n();var i=u("Status *");e(a,i)},$$slots:{default:!0}});var ge=t(P,2);Ye(ge,{type:"single",required:!0,get value(){return r(R).status},set value(a){r(R).status=a},children:(a,o)=>{var i=Oa(),S=$(i);Ze(S,{children:(C,m)=>{var v=za(),_=p(v,!0);f(v),D(y=>z(_,y),[()=>Pt(r(R).status||"")||"Select status"]),e(C,v)},$$slots:{default:!0}});var b=t(S,2);et(b,{children:(C,m)=>{var v=Ea(),_=$(v);W(_,{value:"pending",children:(V,F)=>{n();var ne=u("Pending");e(V,ne)},$$slots:{default:!0}});var y=t(_,2);W(y,{value:"confirmed",children:(V,F)=>{n();var ne=u("Confirmed");e(V,ne)},$$slots:{default:!0}});var N=t(y,2);W(N,{value:"completed",children:(V,F)=>{n();var ne=u("Completed");e(V,ne)},$$slots:{default:!0}});var H=t(N,2);W(H,{value:"cancelled",children:(V,F)=>{n();var ne=u("Cancelled");e(V,ne)},$$slots:{default:!0}});var xe=t(H,2);W(xe,{value:"no_show",children:(V,F)=>{n();var ne=u("No Show");e(V,ne)},$$slots:{default:!0}});var J=t(xe,2);W(J,{value:"expired",children:(V,F)=>{n();var ne=u("Expired");e(V,ne)},$$slots:{default:!0}}),e(C,v)},$$slots:{default:!0}}),e(a,i)},$$slots:{default:!0}});var A=t(ge,2);Re(A),f(O);var U=t(O,2),le=p(U);qe(le,{type:"submit",class:"flex-1",children:(a,o)=>{n();var i=u("Save Changes");e(a,i)},$$slots:{default:!0}});var s=t(le,2);qe(s,{type:"button",variant:"outline",onclick:Kt,children:(a,o)=>{n();var i=u("Cancel");e(a,i)},$$slots:{default:!0}}),f(U),f(ye),f(he),kt(he,(a,o)=>{var i;return(i=At)==null?void 0:i(a,o)},()=>()=>async({result:a})=>{var o,i;a.type==="success"?(c(M,!1),await dt("app:bookings"),mt("Booking updated successfully!","update"),c(vt,null),c(R,{},!0),c(re,null)):a.type==="failure"&&(c(T,typeof((o=a.data)==null?void 0:o.error)=="string"?a.data.error:JSON.stringify((i=a.data)==null?void 0:i.error)||"An error occurred",!0),ht(r(T)))}),D(()=>{ze(Ne,r(vt)),ze(oe,r(R).client_id),ze(te,r(R).purpose),ze(A,r(R).status)}),e(Ue,ae)},$$slots:{default:!0}})}),e(ie,ee)},$$slots:{default:!0}})}),e(I,ke)},$$slots:{default:!0}})});var qt=t(It,2);x(qt,()=>kr,(l,L)=>{L(l,{get open(){return r(Y)},set open(I){c(Y,I,!0)},children:(I,X)=>{var ke=de(),Pe=$(ke);x(Pe,()=>xr,(Be,$e)=>{$e(Be,{children:(ie,Me)=>{var ee=Fa(),Ae=$(ee);x(Ae,()=>Pr,(_e,pe)=>{pe(_e,{})});var De=t(Ae,2);x(De,()=>yr,(_e,pe)=>{pe(_e,{children:(Ue,fe)=>{var ae=Ja(),me=$(ae);x(me,()=>br,(Ne,ye)=>{ye(Ne,{children:(Te,Le)=>{var Q=Va(),ue=$(Q);x(ue,()=>wr,(oe,w)=>{w(oe,{children:(h,q)=>{n();var te=u("Delete Booking");e(h,te)},$$slots:{default:!0}})});var se=t(ue,2);x(se,()=>Sr,(oe,w)=>{w(oe,{children:(h,q)=>{n();var te=u();D((G,be)=>{var ce;return z(te,`Are you sure you want to delete the booking for "${((ce=r(ot))==null?void 0:ce.client_name)??""}" on ${G??""} at ${be??""}? This action cannot be undone.`)},[()=>{var G;return xt((G=r(ot))==null?void 0:G.date)},()=>{var G;return Bt((G=r(ot))==null?void 0:G.time)}]),e(h,te)},$$slots:{default:!0}})}),e(Te,Q)},$$slots:{default:!0}})});var he=t(me,2);x(he,()=>Cr,(Ne,ye)=>{ye(Ne,{children:(Te,Le)=>{var Q=ja(),ue=p(Q);Re(ue);var se=t(ue,2);qe(se,{type:"button",variant:"outline",onclick:()=>c(Y,!1),children:(w,h)=>{n();var q=u("Cancel");e(w,q)},$$slots:{default:!0}});var oe=t(se,2);qe(oe,{type:"submit",variant:"destructive",children:(w,h)=>{n();var q=u("Delete");e(w,q)},$$slots:{default:!0}}),f(Q),kt(Q,(w,h)=>{var q;return(q=At)==null?void 0:q(w,h)},()=>()=>async({result:w})=>{var h,q;w.type==="success"?(c(Y,!1),await dt("app:bookings"),mt("Booking deleted successfully!","delete")):w.type==="failure"&&(c(T,typeof((h=w.data)==null?void 0:h.error)=="string"?w.data.error:JSON.stringify((q=w.data)==null?void 0:q.error)||"An error occurred",!0),ht(r(T)))}),D(()=>{var w;return ze(ue,(w=r(ot))==null?void 0:w.id)}),e(Te,Q)},$$slots:{default:!0}})}),e(Ue,ae)},$$slots:{default:!0}})}),e(ie,ee)},$$slots:{default:!0}})}),e(I,ke)},$$slots:{default:!0}})});var Rt=t(qt,2),or=p(Rt);{var lr=l=>{var L=Qa(),I=p(L);Nt(I,{get variant(){return Fe},get class(){return Xe},children:(X,ke)=>{var Pe=Xa(),Be=$(Pe);gr(Be,{});var $e=t(Be,2);Ar($e,{children:(ie,Me)=>{n();var ee=u();D(()=>z(ee,ft)),e(ie,ee)},$$slots:{default:!0}}),e(X,Pe)},$$slots:{default:!0}}),f(L),e(l,L)};nt(or,l=>{r(pt)&&l(lr)})}f(Rt),e(ve,Dt),ur()}export{As as component};
