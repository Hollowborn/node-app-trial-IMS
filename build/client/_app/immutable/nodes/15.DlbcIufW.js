import{f as $,a as t,t as c,c as We}from"../chunks/Do_-mL-j.js";import{p as Vt,a as A,b as tt,f as x,t as R,d as Xt,c as v,s as e,e as s,n as i,r as _,g as a,u as Yt}from"../chunks/CSgM7ggg.js";import{s as N}from"../chunks/Cc2sBIKg.js";import{i as Ue}from"../chunks/DFkGWr6I.js";import{e as Zt,i as er}from"../chunks/BveS6AeT.js";import{c as h}from"../chunks/BxwOPTHF.js";import{a as ct,e as ut,A as $t}from"../chunks/BOZ4giT5.js";import{r as kt,s as At}from"../chunks/eOTtUvit.js";import{i as je,g as Ct}from"../chunks/uKHEHksz.js";import{B as ye}from"../chunks/BVmkDKMc.js";import{I as F}from"../chunks/B5-iWWaj.js";import{C as tr,a as rr,b as ar,c as or}from"../chunks/BBrFK00f.js";import{L as H}from"../chunks/Bo2GsiZ3.js";import{T as sr,a as lr,b as St,c as Pe,d as dr,P as Tt,D as Rt,e as Dt,f as Nt,g as Ft,h as Lt,A as Bt,i as Ot,R as Ht,j as be,S as nr,C as ir}from"../chunks/CdrzcX6z.js";import{P as vr,A as _r,a as cr,b as ur,c as $r,d as pr,e as fr,R as mr,f as hr}from"../chunks/DRgJLo_S.js";import{B as gr}from"../chunks/Dlm0QRJp.js";import{R as xr}from"../chunks/BAa4oyvZ.js";import{S as yr}from"../chunks/C9JwNqn8.js";import{A as Pr}from"../chunks/jrVE8UPr.js";import{S as br}from"../chunks/C0R_oNfb.js";import{P as wr,C as kr,T as Ar}from"../chunks/ARt1Dh6s.js";import{A as Cr,a as Sr}from"../chunks/B3v1Wr7v.js";import{t as rt}from"../chunks/Ca16gRfA.js";import{F as Tr}from"../chunks/OZ3l4Dmb.js";import{T as Rr,a as Dr}from"../chunks/HFpTe9lc.js";var Nr=$("<!> Back to Ponds",1),Fr=$("<!> <!>",1),Lr=$("<!> Add Report",1),Br=$('<div class="text-center py-8 text-gray-500">No production reports found for this pond.</div>'),Or=$('<div class="flex items-center gap-1">Species <!></div>'),Hr=$('<div class="flex items-center gap-1">Report Date <!></div>'),Wr=$('<div class="flex items-center gap-1">Harvest (kg) <!></div>'),Er=$('<div class="flex items-center gap-1">Harvest (count) <!></div>'),qr=$('<div class="flex items-center gap-1">Avg. Weight (g) <!></div>'),Ir=$('<div class="flex items-center gap-1">Mortality <!></div>'),Mr=$('<div class="flex items-center gap-1">Feed Used (kg) <!></div>'),Ur=$('<div class="flex items-center gap-1">Created At <!></div>'),jr=$("<!> <!> <!> <!> <!> <!> <!> <!> <!> <!>",1),zr=$("<!> ",1),Jr=$("<p> </p>"),Kr=$("<!> <!>",1),Gr=$('<span class="text-gray-400 italic">N/A</span>'),Qr=$('<div class="flex flex justify-center space-x-2"><!> <!></div>'),Vr=$("<!> <!> <!> <!> <!> <!> <!> <!> <!> <!>",1),Xr=$("<!> <!>",1),Yr=$('<div class="border rounded-lg"><!></div>'),Zr=$('<div class="flex items-center gap-4 mb-4"><div class="relative flex-1"><!> <!></div> <!></div> <!>',1),ea=$("<!> <!>",1),ta=$("<!> <!>",1),ra=$("<!> <!>",1),aa=$('<!> <form method="POST" action="?/create"><div class="space-y-4 mt-6"><!> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="flex gap-2 pt-4"><!> <!></div></div></form>',1),oa=$("<!> <!>",1),sa=$("<!> <!>",1),la=$("<!> <!>",1),da=$('<!> <form method="POST" action="?/update"><input type="hidden" name="id"/> <div class="space-y-4 mt-6"><!> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="flex gap-2 pt-4"><!> <!></div></div></form>',1),na=$("<!> <!>",1),ia=$("<!> <!>",1),va=$('<form method="POST" action="?/delete"><input type="hidden" name="id"/> <!> <!></form>'),_a=$("<!> <!>",1),ca=$("<!> <!>",1),ua=$("<!> <!>",1),$a=$('<div class="pointer-events-auto"><!></div>'),pa=$('<div class="space-y-6"><div class="flex justify-between items-center"><div><!> <h1 class="text-2xl font-bold"> </h1> <p class="text-gray-500"> </p></div></div></div> <!> <!> <!> <!> <div class="fixed inset-x-0 bottom-6 flex justify-center z-50 pointer-events-none"><!></div>',1);function Ia(Wt,M){Vt(M,!0);let Fe=A(tt(M.data.search||"")),re=A(null),at=A(null),Ee=A(!1),qe=A(!1),Ie=A(!1),ze=A(null),Je=A(""),Ke=A(""),Ge=A(null),Qe=A(null),Ve=A(null),Xe=A(0),Ye=A(null),Ze=A(""),et=A(null),C=A(tt({})),ot=A(!1),st="",Le="default",Be="",Me=A(tt(M.data.sortBy||"report_date")),Oe=A(tt(M.data.sortOrder||"desc"));function lt(d,S){switch(st=d,S){case"create":Le="default",Be="bg-[var(--primary)] text-[var(--primary-foreground)]",rt.success(d);break;case"update":Le="default",Be="bg-[var(--secondary)] text-[var(--secondary-foreground)]",rt.success(d);break;case"delete":Le="destructive",Be="",rt.info(d);break;default:Le="default",Be="bg-[var(--primary)] text-[var(--primary-foreground)]"}setTimeout(()=>s(ot,!1),3e3)}function dt(d){st=d,Le="destructive",Be="",rt.error(d),setTimeout(()=>s(ot,!1),3e3)}let nt=Yt(()=>{var d;return((d=M.data.reports)==null?void 0:d.filter(S=>{var P;return S.species_name.toLowerCase().includes(a(Fe).toLowerCase())||((P=S.notes)==null?void 0:P.toLowerCase().includes(a(Fe).toLowerCase()))}))||[]});function Et(d){s(et,d.id,!0),s(at,{...d},!0),s(C,{...d},!0),s(qe,!0)}function qt(){s(et,null),s(C,{},!0),s(at,null),s(qe,!1)}async function It(){const d=new URL(window.location.href);a(Fe)?d.searchParams.set("search",a(Fe)):d.searchParams.delete("search"),d.searchParams.set("sort",a(Me)),d.searchParams.set("order",a(Oe)),await Ct(d.pathname+d.search,{replaceState:!0}),je(`app:production_reports:${M.data.pond.id}`)}function Mt(d){s(ze,d,!0),s(Ie,!0)}function it(d){return d?new Date(d+"T00:00:00").toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"}function Ut(){s(Ee,!0),s(Je,""),s(Ke,""),s(Ge,null),s(Qe,null),s(Ve,null),s(Xe,0),s(Ye,null),s(Ze,""),s(re,null)}async function Te(d){let S=d,P;a(Me)===d?a(Oe)==="asc"?P="desc":P="asc":(S=d,P="asc"),s(Me,S,!0),s(Oe,P,!0);const L=new URL(window.location.href);L.searchParams.set("sort",a(Me)),L.searchParams.set("order",a(Oe)),console.log("Navigating to:",L.pathname+L.search),await Ct(L.pathname+L.search),je(`app:production_reports:${M.data.pond.id}`)}function Re(d){if(a(Me)===d){if(a(Oe)==="asc")return Cr;if(a(Oe)==="desc")return Sr}return kr}var pt=pa(),vt=x(pt),ft=v(vt),mt=v(ft),ht=v(mt);ye(ht,{variant:"ghost",href:"/dashboard/ponds",class:"mb-2 -ml-4",children:(d,S)=>{var P=Nr(),L=x(P);Pr(L,{class:"h-4 w-4 mr-2"}),i(),t(d,P)},$$slots:{default:!0}});var _t=e(ht,2),jt=v(_t);_(_t);var gt=e(_t,2),zt=v(gt);_(gt),_(mt),_(ft),_(vt);var xt=e(vt,2);tr(xt,{children:(d,S)=>{var P=ea(),L=x(P);rr(L,{class:"h-4",children:(ae,fe)=>{var G=Fr(),U=x(G);ar(U,{children:(B,ve)=>{i();var me=c();R(()=>N(me,`Total Reports for ${M.data.pond.pond_number??""}: ${a(nt).length??""}`)),t(B,me)},$$slots:{default:!0}});var we=e(U,2);yr(we,{class:"my-2"}),t(ae,G)},$$slots:{default:!0}});var ie=e(L,2);or(ie,{children:(ae,fe)=>{var G=Zr(),U=x(G),we=v(U),B=v(we);F(B,{placeholder:"Search by species or notes...",class:"pl-10",get value(){return a(Fe)},set value(X){s(Fe,X,!0)},$$events:{input:It}});var ve=e(B,2);br(ve,{class:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),_(we);var me=e(we,2);ye(me,{onclick:Ut,children:(X,W)=>{var Y=Lr(),Z=x(Y);wr(Z,{class:"h-4 w-4 mr-2"}),i(),t(X,Y)},$$slots:{default:!0}}),_(U);var Q=e(U,2);{var V=X=>{var W=Br();t(X,W)},De=X=>{var W=Yr(),Y=v(W);sr(Y,{children:(Z,_e)=>{var oe=Xr(),ce=x(oe);lr(ce,{children:(T,ee)=>{St(T,{children:(E,q)=>{var y=jr(),p=x(y);Pe(p,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Te("species_name"),children:(g,D)=>{var n=Or(),b=e(v(n));h(b,()=>Re("species_name"),(k,u)=>{u(k,{class:"h-4 w-4"})}),_(n),t(g,n)},$$slots:{default:!0}});var w=e(p,2);Pe(w,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Te("report_date"),children:(g,D)=>{var n=Hr(),b=e(v(n));h(b,()=>Re("report_date"),(k,u)=>{u(k,{class:"h-4 w-4"})}),_(n),t(g,n)},$$slots:{default:!0}});var j=e(w,2);Pe(j,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Te("total_harvest_weight_kg"),children:(g,D)=>{var n=Wr(),b=e(v(n));h(b,()=>Re("total_harvest_weight_kg"),(k,u)=>{u(k,{class:"h-4 w-4"})}),_(n),t(g,n)},$$slots:{default:!0}});var z=e(j,2);Pe(z,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Te("total_harvest_count"),children:(g,D)=>{var n=Er(),b=e(v(n));h(b,()=>Re("total_harvest_count"),(k,u)=>{u(k,{class:"h-4 w-4"})}),_(n),t(g,n)},$$slots:{default:!0}});var I=e(z,2);Pe(I,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Te("average_fish_weight_g"),children:(g,D)=>{var n=qr(),b=e(v(n));h(b,()=>Re("average_fish_weight_g"),(k,u)=>{u(k,{class:"h-4 w-4"})}),_(n),t(g,n)},$$slots:{default:!0}});var he=e(I,2);Pe(he,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Te("mortality_count"),children:(g,D)=>{var n=Ir(),b=e(v(n));h(b,()=>Re("mortality_count"),(k,u)=>{u(k,{class:"h-4 w-4"})}),_(n),t(g,n)},$$slots:{default:!0}});var ue=e(he,2);Pe(ue,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Te("feed_consumed_kg"),children:(g,D)=>{var n=Mr(),b=e(v(n));h(b,()=>Re("feed_consumed_kg"),(k,u)=>{u(k,{class:"h-4 w-4"})}),_(n),t(g,n)},$$slots:{default:!0}});var se=e(ue,2);Pe(se,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2",children:(g,D)=>{i();var n=c("Notes");t(g,n)},$$slots:{default:!0}});var ge=e(se,2);Pe(ge,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Te("created_at"),children:(g,D)=>{var n=Ur(),b=e(v(n));h(b,()=>Re("created_at"),(k,u)=>{u(k,{class:"h-4 w-4"})}),_(n),t(g,n)},$$slots:{default:!0}});var xe=e(ge,2);Pe(xe,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 text-center",children:(g,D)=>{i();var n=c("Actions");t(g,n)},$$slots:{default:!0}}),t(E,y)},$$slots:{default:!0}})},$$slots:{default:!0}});var ke=e(ce,2);dr(ke,{children:(T,ee)=>{var E=We(),q=x(E);Zt(q,17,()=>a(nt),er,(y,p,w)=>{St(y,{class:w%2===0?"bg-gray-50 dark:bg-card":"bg-white dark:bg-background",children:(j,z)=>{var I=Vr(),he=x(I);be(he,{children:(u,O)=>{gr(u,{variant:"outline",class:"flex items-center gap-1",children:(f,J)=>{var le=zr(),te=x(le);Tr(te,{class:"h-3 w-3"});var o=e(te);R(()=>N(o,` ${a(p).species_name??""}`)),t(f,le)},$$slots:{default:!0}})},$$slots:{default:!0}});var ue=e(he,2);be(ue,{children:(u,O)=>{i();var f=c();R(J=>N(f,J),[()=>it(a(p).report_date)]),t(u,f)},$$slots:{default:!0}});var se=e(ue,2);be(se,{children:(u,O)=>{i();var f=c();R(()=>N(f,a(p).total_harvest_weight_kg!==null?a(p).total_harvest_weight_kg+" kg":"N/A")),t(u,f)},$$slots:{default:!0}});var ge=e(se,2);be(ge,{children:(u,O)=>{i();var f=c();R(()=>N(f,a(p).total_harvest_count!==null?a(p).total_harvest_count:"N/A")),t(u,f)},$$slots:{default:!0}});var xe=e(ge,2);be(xe,{children:(u,O)=>{i();var f=c();R(()=>N(f,a(p).average_fish_weight_g!==null?a(p).average_fish_weight_g+" g":"N/A")),t(u,f)},$$slots:{default:!0}});var g=e(xe,2);be(g,{children:(u,O)=>{i();var f=c();R(()=>N(f,a(p).mortality_count)),t(u,f)},$$slots:{default:!0}});var D=e(g,2);be(D,{children:(u,O)=>{i();var f=c();R(()=>N(f,a(p).feed_consumed_kg!==null?a(p).feed_consumed_kg+" kg":"N/A")),t(u,f)},$$slots:{default:!0}});var n=e(D,2);be(n,{class:"max-w-xs truncate",children:(u,O)=>{var f=We(),J=x(f);{var le=o=>{var r=We(),l=x(r);h(l,()=>xr,(m,$e)=>{$e(m,{children:(de,Ae)=>{var pe=Kr(),K=x(pe);h(K,()=>Rr,(Ce,Se)=>{Se(Ce,{class:"truncate max-w-xs block",children:(Ne,Gt)=>{i();var He=c();R(()=>N(He,a(p).notes)),t(Ne,He)},$$slots:{default:!0}})});var ne=e(K,2);h(ne,()=>Dr,(Ce,Se)=>{Se(Ce,{children:(Ne,Gt)=>{var He=Jr(),Qt=v(He,!0);_(He),R(()=>N(Qt,a(p).notes)),t(Ne,He)},$$slots:{default:!0}})}),t(de,pe)},$$slots:{default:!0}})}),t(o,r)},te=o=>{var r=Gr();t(o,r)};Ue(J,o=>{a(p).notes?o(le):o(te,!1)})}t(u,f)},$$slots:{default:!0}});var b=e(n,2);be(b,{class:"text-gray-500 text-sm",children:(u,O)=>{i();var f=c();R(J=>N(f,J),[()=>it(a(p).created_at)]),t(u,f)},$$slots:{default:!0}});var k=e(b,2);be(k,{children:(u,O)=>{var f=Qr(),J=v(f);ye(J,{variant:"outline",size:"sm",onclick:()=>Et(a(p)),children:(te,o)=>{nr(te,{})},$$slots:{default:!0}});var le=e(J,2);ye(le,{variant:"outline",size:"sm",onclick:()=>Mt(a(p)),children:(te,o)=>{Ar(te,{class:"h-4 w-4 text-red-500"})},$$slots:{default:!0}}),_(f),t(u,f)},$$slots:{default:!0}}),t(j,I)},$$slots:{default:!0}})}),t(T,E)},$$slots:{default:!0}}),t(Z,oe)},$$slots:{default:!0}}),_(W),t(X,W)};Ue(Q,X=>{a(nt).length===0?X(V):X(De,!1)})}t(ae,G)},$$slots:{default:!0}}),t(d,P)},$$slots:{default:!0}});var yt=e(xt,2);h(yt,()=>Ht,(d,S)=>{S(d,{get open(){return a(Ee)},set open(P){s(Ee,P,!0)},children:(P,L)=>{var ie=We(),ae=x(ie);h(ae,()=>Tt,(fe,G)=>{G(fe,{children:(U,we)=>{var B=oa(),ve=x(B);h(ve,()=>Rt,(Q,V)=>{V(Q,{})});var me=e(ve,2);h(me,()=>Dt,(Q,V)=>{V(Q,{class:"sm:max-w-[425px] p-6",children:(De,X)=>{var W=aa(),Y=x(W);h(Y,()=>Nt,(o,r)=>{r(o,{children:(l,m)=>{var $e=ta(),de=x($e);h(de,()=>Ft,(pe,K)=>{K(pe,{children:(ne,Ce)=>{i();var Se=c("Add New Production Report");t(ne,Se)},$$slots:{default:!0}})});var Ae=e(de,2);h(Ae,()=>Lt,(pe,K)=>{K(pe,{children:(ne,Ce)=>{i();var Se=c("Enter the production report details below.");t(ne,Se)},$$slots:{default:!0}})}),t(l,$e)},$$slots:{default:!0}})});var Z=e(Y,2),_e=v(Z),oe=v(_e);{var ce=o=>{$t(o,{variant:"destructive",children:(r,l)=>{var m=ra(),$e=x(m);Bt($e,{class:"h-4 w-4"});var de=e($e,2);Ot(de,{children:(Ae,pe)=>{i();var K=c();R(()=>N(K,a(re))),t(Ae,K)},$$slots:{default:!0}}),t(r,m)},$$slots:{default:!0}})};Ue(oe,o=>{a(re)&&o(ce)})}var ke=e(oe,2),T=v(ke);H(T,{for:"species_name_create",children:(o,r)=>{i();var l=c("Species Name *");t(o,l)},$$slots:{default:!0}});var ee=e(T,2);F(ee,{id:"species_name_create",name:"species_name",type:"text",required:!0,maxlength:50,get value(){return a(Je)},set value(o){s(Je,o,!0)}}),_(ke);var E=e(ke,2),q=v(E);H(q,{for:"report_date_create",children:(o,r)=>{i();var l=c("Report Date *");t(o,l)},$$slots:{default:!0}});var y=e(q,2);F(y,{id:"report_date_create",name:"report_date",type:"date",required:!0,get value(){return a(Ke)},set value(o){s(Ke,o,!0)}}),_(E);var p=e(E,2),w=v(p);H(w,{for:"total_harvest_weight_kg_create",children:(o,r)=>{i();var l=c("Total Harvest Weight (kg)");t(o,l)},$$slots:{default:!0}});var j=e(w,2);F(j,{id:"total_harvest_weight_kg_create",name:"total_harvest_weight_kg",type:"number",step:"0.01",get value(){return a(Ge)},set value(o){s(Ge,o,!0)}}),_(p);var z=e(p,2),I=v(z);H(I,{for:"total_harvest_count_create",children:(o,r)=>{i();var l=c("Total Harvest Count");t(o,l)},$$slots:{default:!0}});var he=e(I,2);F(he,{id:"total_harvest_count_create",name:"total_harvest_count",type:"number",step:"1",get value(){return a(Qe)},set value(o){s(Qe,o,!0)}}),_(z);var ue=e(z,2),se=v(ue);H(se,{for:"average_fish_weight_g_create",children:(o,r)=>{i();var l=c("Average Fish Weight (g)");t(o,l)},$$slots:{default:!0}});var ge=e(se,2);F(ge,{id:"average_fish_weight_g_create",name:"average_fish_weight_g",type:"number",step:"0.01",get value(){return a(Ve)},set value(o){s(Ve,o,!0)}}),_(ue);var xe=e(ue,2),g=v(xe);H(g,{for:"mortality_count_create",children:(o,r)=>{i();var l=c("Mortality Count");t(o,l)},$$slots:{default:!0}});var D=e(g,2);F(D,{id:"mortality_count_create",name:"mortality_count",type:"number",step:"1",get value(){return a(Xe)},set value(o){s(Xe,o,!0)}}),_(xe);var n=e(xe,2),b=v(n);H(b,{for:"feed_consumed_kg_create",children:(o,r)=>{i();var l=c("Feed Consumed (kg)");t(o,l)},$$slots:{default:!0}});var k=e(b,2);F(k,{id:"feed_consumed_kg_create",name:"feed_consumed_kg",type:"number",step:"0.01",get value(){return a(Ye)},set value(o){s(Ye,o,!0)}}),_(n);var u=e(n,2),O=v(u);H(O,{for:"notes_create",children:(o,r)=>{i();var l=c("Notes");t(o,l)},$$slots:{default:!0}});var f=e(O,2);F(f,{id:"notes_create",name:"notes",type:"text",maxlength:255,get value(){return a(Ze)},set value(o){s(Ze,o,!0)}}),_(u);var J=e(u,2),le=v(J);ye(le,{type:"submit",class:"flex-1",children:(o,r)=>{i();var l=c("Add Report");t(o,l)},$$slots:{default:!0}});var te=e(le,2);ye(te,{type:"button",variant:"outline",onclick:()=>s(Ee,!1),children:(o,r)=>{i();var l=c("Cancel");t(o,l)},$$slots:{default:!0}}),_(J),_(_e),_(Z),ct(Z,(o,r)=>{var l;return(l=ut)==null?void 0:l(o,r)},()=>()=>async({result:o})=>{var r,l;o.type==="success"?(s(Ee,!1),await je(`app:production_reports:${M.data.pond.id}`),lt("Production report created successfully!","create"),s(Je,""),s(Ke,""),s(Ge,null),s(Qe,null),s(Ve,null),s(Xe,0),s(Ye,null),s(Ze,""),s(re,null)):o.type==="failure"&&(s(re,typeof((r=o.data)==null?void 0:r.error)=="string"?o.data.error:JSON.stringify((l=o.data)==null?void 0:l.error)||"An error occurred",!0),dt(a(re)))}),t(De,W)},$$slots:{default:!0}})}),t(U,B)},$$slots:{default:!0}})}),t(P,ie)},$$slots:{default:!0}})});var Pt=e(yt,2);h(Pt,()=>Ht,(d,S)=>{S(d,{get open(){return a(qe)},set open(P){s(qe,P,!0)},children:(P,L)=>{var ie=We(),ae=x(ie);h(ae,()=>Tt,(fe,G)=>{G(fe,{children:(U,we)=>{var B=na(),ve=x(B);h(ve,()=>Rt,(Q,V)=>{V(Q,{})});var me=e(ve,2);h(me,()=>Dt,(Q,V)=>{V(Q,{class:"sm:max-w-[425px] p-6",children:(De,X)=>{var W=da(),Y=x(W);h(Y,()=>Nt,(r,l)=>{l(r,{children:(m,$e)=>{var de=sa(),Ae=x(de);h(Ae,()=>Ft,(K,ne)=>{ne(K,{children:(Ce,Se)=>{i();var Ne=c("Edit Production Report");t(Ce,Ne)},$$slots:{default:!0}})});var pe=e(Ae,2);h(pe,()=>Lt,(K,ne)=>{ne(K,{children:(Ce,Se)=>{i();var Ne=c("Update the production report details below.");t(Ce,Ne)},$$slots:{default:!0}})}),t(m,de)},$$slots:{default:!0}})});var Z=e(Y,2),_e=v(Z);kt(_e);var oe=e(_e,2),ce=v(oe);{var ke=r=>{$t(r,{variant:"destructive",children:(l,m)=>{var $e=la(),de=x($e);Bt(de,{class:"h-4 w-4"});var Ae=e(de,2);Ot(Ae,{children:(pe,K)=>{i();var ne=c();R(()=>N(ne,a(re))),t(pe,ne)},$$slots:{default:!0}}),t(l,$e)},$$slots:{default:!0}})};Ue(ce,r=>{a(re)&&r(ke)})}var T=e(ce,2),ee=v(T);H(ee,{for:"species_name_edit",children:(r,l)=>{i();var m=c("Species Name *");t(r,m)},$$slots:{default:!0}});var E=e(ee,2);F(E,{id:"species_name_edit",name:"species_name",type:"text",required:!0,maxlength:50,get value(){return a(C).species_name},set value(r){a(C).species_name=r}}),_(T);var q=e(T,2),y=v(q);H(y,{for:"report_date_edit",children:(r,l)=>{i();var m=c("Report Date *");t(r,m)},$$slots:{default:!0}});var p=e(y,2);F(p,{id:"report_date_edit",name:"report_date",type:"date",required:!0,get value(){return a(C).report_date},set value(r){a(C).report_date=r}}),_(q);var w=e(q,2),j=v(w);H(j,{for:"total_harvest_weight_kg_edit",children:(r,l)=>{i();var m=c("Total Harvest Weight (kg)");t(r,m)},$$slots:{default:!0}});var z=e(j,2);F(z,{id:"total_harvest_weight_kg_edit",name:"total_harvest_weight_kg",type:"number",step:"0.01",get value(){return a(C).total_harvest_weight_kg},set value(r){a(C).total_harvest_weight_kg=r}}),_(w);var I=e(w,2),he=v(I);H(he,{for:"total_harvest_count_edit",children:(r,l)=>{i();var m=c("Total Harvest Count");t(r,m)},$$slots:{default:!0}});var ue=e(he,2);F(ue,{id:"total_harvest_count_edit",name:"total_harvest_count",type:"number",step:"1",get value(){return a(C).total_harvest_count},set value(r){a(C).total_harvest_count=r}}),_(I);var se=e(I,2),ge=v(se);H(ge,{for:"average_fish_weight_g_edit",children:(r,l)=>{i();var m=c("Average Fish Weight (g)");t(r,m)},$$slots:{default:!0}});var xe=e(ge,2);F(xe,{id:"average_fish_weight_g_edit",name:"average_fish_weight_g",type:"number",step:"0.01",get value(){return a(C).average_fish_weight_g},set value(r){a(C).average_fish_weight_g=r}}),_(se);var g=e(se,2),D=v(g);H(D,{for:"mortality_count_edit",children:(r,l)=>{i();var m=c("Mortality Count");t(r,m)},$$slots:{default:!0}});var n=e(D,2);F(n,{id:"mortality_count_edit",name:"mortality_count",type:"number",step:"1",get value(){return a(C).mortality_count},set value(r){a(C).mortality_count=r}}),_(g);var b=e(g,2),k=v(b);H(k,{for:"feed_consumed_kg_edit",children:(r,l)=>{i();var m=c("Feed Consumed (kg)");t(r,m)},$$slots:{default:!0}});var u=e(k,2);F(u,{id:"feed_consumed_kg_edit",name:"feed_consumed_kg",type:"number",step:"0.01",get value(){return a(C).feed_consumed_kg},set value(r){a(C).feed_consumed_kg=r}}),_(b);var O=e(b,2),f=v(O);H(f,{for:"notes_edit",children:(r,l)=>{i();var m=c("Notes");t(r,m)},$$slots:{default:!0}});var J=e(f,2);F(J,{id:"notes_edit",name:"notes",type:"text",maxlength:255,get value(){return a(C).notes},set value(r){a(C).notes=r}}),_(O);var le=e(O,2),te=v(le);ye(te,{type:"submit",class:"flex-1",children:(r,l)=>{i();var m=c("Save Changes");t(r,m)},$$slots:{default:!0}});var o=e(te,2);ye(o,{type:"button",variant:"outline",onclick:qt,children:(r,l)=>{i();var m=c("Cancel");t(r,m)},$$slots:{default:!0}}),_(le),_(oe),_(Z),ct(Z,(r,l)=>{var m;return(m=ut)==null?void 0:m(r,l)},()=>()=>async({result:r})=>{var l,m;r.type==="success"?(s(qe,!1),await je(`app:production_reports:${M.data.pond.id}`),lt("Production report updated successfully!","update"),s(et,null),s(C,{},!0),s(at,null)):r.type==="failure"&&(s(re,typeof((l=r.data)==null?void 0:l.error)=="string"?r.data.error:JSON.stringify((m=r.data)==null?void 0:m.error)||"An error occurred",!0),dt(a(re)))}),R(()=>At(_e,a(et))),t(De,W)},$$slots:{default:!0}})}),t(U,B)},$$slots:{default:!0}})}),t(P,ie)},$$slots:{default:!0}})});var bt=e(Pt,2);h(bt,()=>mr,(d,S)=>{S(d,{get open(){return a(Ie)},set open(P){s(Ie,P,!0)},children:(P,L)=>{var ie=We(),ae=x(ie);h(ae,()=>vr,(fe,G)=>{G(fe,{children:(U,we)=>{var B=ca(),ve=x(B);h(ve,()=>_r,(Q,V)=>{V(Q,{})});var me=e(ve,2);h(me,()=>cr,(Q,V)=>{V(Q,{children:(De,X)=>{var W=_a(),Y=x(W);h(Y,()=>ur,(_e,oe)=>{oe(_e,{children:(ce,ke)=>{var T=ia(),ee=x(T);h(ee,()=>$r,(q,y)=>{y(q,{children:(p,w)=>{i();var j=c("Delete Production Report");t(p,j)},$$slots:{default:!0}})});var E=e(ee,2);h(E,()=>pr,(q,y)=>{y(q,{children:(p,w)=>{i();var j=c();R(z=>{var I;return N(j,`Are you sure you want to delete the report for "${((I=a(ze))==null?void 0:I.species_name)??""}" on ${z??""}? This action cannot be undone.`)},[()=>{var z;return it((z=a(ze))==null?void 0:z.report_date)}]),t(p,j)},$$slots:{default:!0}})}),t(ce,T)},$$slots:{default:!0}})});var Z=e(Y,2);h(Z,()=>fr,(_e,oe)=>{oe(_e,{children:(ce,ke)=>{var T=va(),ee=v(T);kt(ee);var E=e(ee,2);ye(E,{type:"button",variant:"outline",onclick:()=>s(Ie,!1),children:(y,p)=>{i();var w=c("Cancel");t(y,w)},$$slots:{default:!0}});var q=e(E,2);ye(q,{type:"submit",variant:"destructive",children:(y,p)=>{i();var w=c("Delete");t(y,w)},$$slots:{default:!0}}),_(T),ct(T,(y,p)=>{var w;return(w=ut)==null?void 0:w(y,p)},()=>()=>async({result:y})=>{var p,w;y.type==="success"?(s(Ie,!1),await je(`app:production_reports:${M.data.pond.id}`),lt("Production report deleted successfully!","delete")):y.type==="failure"&&(s(re,typeof((p=y.data)==null?void 0:p.error)=="string"?y.data.error:JSON.stringify((w=y.data)==null?void 0:w.error)||"An error occurred",!0),dt(a(re)))}),R(()=>{var y;return At(ee,(y=a(ze))==null?void 0:y.id)}),t(ce,T)},$$slots:{default:!0}})}),t(De,W)},$$slots:{default:!0}})}),t(U,B)},$$slots:{default:!0}})}),t(P,ie)},$$slots:{default:!0}})});var wt=e(bt,2),Jt=v(wt);{var Kt=d=>{var S=$a(),P=v(S);$t(P,{get variant(){return Le},get class(){return Be},children:(L,ie)=>{var ae=ua(),fe=x(ae);ir(fe,{});var G=e(fe,2);hr(G,{children:(U,we)=>{i();var B=c();R(()=>N(B,st)),t(U,B)},$$slots:{default:!0}}),t(L,ae)},$$slots:{default:!0}}),_(S),t(d,S)};Ue(Jt,d=>{a(ot)&&d(Kt)})}_(wt),R(()=>{N(jt,`Production Reports for ${M.data.pond.pond_number??""}`),N(zt,`Location: ${M.data.pond.location||"N/A"} | Status: ${M.data.pond.status??""}`)}),t(Wt,pt),Xt()}export{Ia as component};
