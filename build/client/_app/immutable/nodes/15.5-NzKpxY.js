import{f as $,a as t,t as c,c as We}from"../chunks/Do_-mL-j.js";import{p as Qt,a as A,b as rt,f as x,t as R,d as Vt,c as i,s as e,e as s,n,r as v,g as a,u as Xt}from"../chunks/CSgM7ggg.js";import{s as N}from"../chunks/Cc2sBIKg.js";import{i as je}from"../chunks/DFkGWr6I.js";import{e as Yt,i as Zt}from"../chunks/BveS6AeT.js";import{c as g}from"../chunks/BxwOPTHF.js";import{a as _t,e as ct,A as ut}from"../chunks/Dl7G6IOE.js";import{r as wt,s as kt}from"../chunks/eOTtUvit.js";import{i as ze,g as At}from"../chunks/DiJvn89z.js";import{B as ye}from"../chunks/BVmkDKMc.js";import{I as F}from"../chunks/B5-iWWaj.js";import{C as er,a as tr,b as rr,c as ar}from"../chunks/BBrFK00f.js";import{L as H}from"../chunks/Bo2GsiZ3.js";import{T as or,a as sr,b as Ct,c as Pe,d as lr,P as St,D as Tt,e as Rt,f as Dt,g as Nt,h as Ft,A as Lt,i as Bt,R as Ot,j as be,S as dr,C as nr}from"../chunks/CdrzcX6z.js";import{P as ir,A as vr,a as _r,b as cr,c as ur,d as $r,e as pr,R as fr,f as mr}from"../chunks/DRgJLo_S.js";import{B as gr}from"../chunks/Dlm0QRJp.js";import{R as hr}from"../chunks/BAa4oyvZ.js";import{S as xr}from"../chunks/C9JwNqn8.js";import{A as yr}from"../chunks/jrVE8UPr.js";import{S as Pr}from"../chunks/C0R_oNfb.js";import{P as br,C as wr,T as kr}from"../chunks/ARt1Dh6s.js";import{A as Ar,a as Cr}from"../chunks/B3v1Wr7v.js";import{F as Sr}from"../chunks/OZ3l4Dmb.js";import{T as Tr,a as Rr}from"../chunks/HFpTe9lc.js";var Dr=$("<!> Back to Ponds",1),Nr=$("<!> <!>",1),Fr=$("<!> Add Report",1),Lr=$('<div class="text-center py-8 text-gray-500">No production reports found for this pond.</div>'),Br=$('<div class="flex items-center gap-1">Species <!></div>'),Or=$('<div class="flex items-center gap-1">Report Date <!></div>'),Hr=$('<div class="flex items-center gap-1">Harvest (kg) <!></div>'),Wr=$('<div class="flex items-center gap-1">Harvest (count) <!></div>'),Er=$('<div class="flex items-center gap-1">Avg. Weight (g) <!></div>'),qr=$('<div class="flex items-center gap-1">Mortality <!></div>'),Ir=$('<div class="flex items-center gap-1">Feed Used (kg) <!></div>'),Mr=$('<div class="flex items-center gap-1">Created At <!></div>'),Ur=$("<!> <!> <!> <!> <!> <!> <!> <!> <!> <!>",1),jr=$("<!> ",1),zr=$("<p> </p>"),Jr=$("<!> <!>",1),Kr=$('<span class="text-gray-400 italic">N/A</span>'),Gr=$('<div class="flex flex justify-center space-x-2"><!> <!></div>'),Qr=$("<!> <!> <!> <!> <!> <!> <!> <!> <!> <!>",1),Vr=$("<!> <!>",1),Xr=$('<div class="border rounded-lg"><!></div>'),Yr=$('<div class="flex items-center gap-4 mb-4"><div class="relative flex-1"><!> <!></div> <!></div> <!>',1),Zr=$("<!> <!>",1),ea=$("<!> <!>",1),ta=$("<!> <!>",1),ra=$('<!> <form method="POST" action="?/create"><div class="space-y-4 mt-6"><!> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="flex gap-2 pt-4"><!> <!></div></div></form>',1),aa=$("<!> <!>",1),oa=$("<!> <!>",1),sa=$("<!> <!>",1),la=$('<!> <form method="POST" action="?/update"><input type="hidden" name="id"/> <div class="space-y-4 mt-6"><!> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="flex gap-2 pt-4"><!> <!></div></div></form>',1),da=$("<!> <!>",1),na=$("<!> <!>",1),ia=$('<form method="POST" action="?/delete"><input type="hidden" name="id"/> <!> <!></form>'),va=$("<!> <!>",1),_a=$("<!> <!>",1),ca=$("<!> <!>",1),ua=$('<div class="pointer-events-auto"><!></div>'),$a=$('<div class="space-y-6"><div class="flex justify-between items-center"><div><!> <h1 class="text-2xl font-bold"> </h1> <p class="text-gray-500"> </p></div></div></div> <!> <!> <!> <!> <div class="fixed inset-x-0 bottom-6 flex justify-center z-50 pointer-events-none"><!></div>',1);function Ea(Ht,M){Qt(M,!0);let Fe=A(rt(M.data.search||"")),re=A(null),at=A(null),Ee=A(!1),qe=A(!1),Ie=A(!1),Je=A(null),Ke=A(""),Ge=A(""),Qe=A(null),Ve=A(null),Xe=A(null),Ye=A(0),Ze=A(null),et=A(""),tt=A(null),C=A(rt({})),Me=A(!1),ot="",Le="default",Be="",Ue=A(rt(M.data.sortBy||"report_date")),Oe=A(rt(M.data.sortOrder||"desc"));function st(_,S){switch(ot=_,s(Me,!0),S){case"create":Le="default",Be="bg-[var(--primary)] text-[var(--primary-foreground)]";break;case"update":Le="default",Be="bg-[var(--secondary)] text-[var(--secondary-foreground)]";break;case"delete":Le="destructive",Be="";break;default:Le="default",Be="bg-[var(--primary)] text-[var(--primary-foreground)]"}setTimeout(()=>s(Me,!1),3e3)}function lt(_){ot=_,Le="destructive",Be="",s(Me,!0),setTimeout(()=>s(Me,!1),3e3)}let dt=Xt(()=>{var _;return((_=M.data.reports)==null?void 0:_.filter(S=>{var P;return S.species_name.toLowerCase().includes(a(Fe).toLowerCase())||((P=S.notes)==null?void 0:P.toLowerCase().includes(a(Fe).toLowerCase()))}))||[]});function Wt(_){s(tt,_.id,!0),s(at,{..._},!0),s(C,{..._},!0),s(qe,!0)}function Et(){s(tt,null),s(C,{},!0),s(at,null),s(qe,!1)}async function qt(){const _=new URL(window.location.href);a(Fe)?_.searchParams.set("search",a(Fe)):_.searchParams.delete("search"),_.searchParams.set("sort",a(Ue)),_.searchParams.set("order",a(Oe)),await At(_.pathname+_.search,{replaceState:!0}),ze(`app:production_reports:${M.data.pond.id}`)}function It(_){s(Je,_,!0),s(Ie,!0)}function nt(_){return _?new Date(_+"T00:00:00").toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"}function Mt(){s(Ee,!0),s(Ke,""),s(Ge,""),s(Qe,null),s(Ve,null),s(Xe,null),s(Ye,0),s(Ze,null),s(et,""),s(re,null)}async function Te(_){let S=_,P;a(Ue)===_?a(Oe)==="asc"?P="desc":P="asc":(S=_,P="asc"),s(Ue,S,!0),s(Oe,P,!0);const L=new URL(window.location.href);L.searchParams.set("sort",a(Ue)),L.searchParams.set("order",a(Oe)),console.log("Navigating to:",L.pathname+L.search),await At(L.pathname+L.search),ze(`app:production_reports:${M.data.pond.id}`)}function Re(_){if(a(Ue)===_){if(a(Oe)==="asc")return Ar;if(a(Oe)==="desc")return Cr}return wr}var $t=$a(),it=x($t),pt=i(it),ft=i(pt),mt=i(ft);ye(mt,{variant:"ghost",href:"/dashboard/ponds",class:"mb-2 -ml-4",children:(_,S)=>{var P=Dr(),L=x(P);yr(L,{class:"h-4 w-4 mr-2"}),n(),t(_,P)},$$slots:{default:!0}});var vt=e(mt,2),Ut=i(vt);v(vt);var gt=e(vt,2),jt=i(gt);v(gt),v(ft),v(pt),v(it);var ht=e(it,2);er(ht,{children:(_,S)=>{var P=Zr(),L=x(P);tr(L,{class:"h-4",children:(ae,fe)=>{var G=Nr(),U=x(G);rr(U,{children:(B,ve)=>{n();var me=c();R(()=>N(me,`Total Reports for ${M.data.pond.pond_number??""}: ${a(dt).length??""}`)),t(B,me)},$$slots:{default:!0}});var we=e(U,2);xr(we,{class:"my-2"}),t(ae,G)},$$slots:{default:!0}});var ie=e(L,2);ar(ie,{children:(ae,fe)=>{var G=Yr(),U=x(G),we=i(U),B=i(we);F(B,{placeholder:"Search by species or notes...",class:"pl-10",get value(){return a(Fe)},set value(X){s(Fe,X,!0)},$$events:{input:qt}});var ve=e(B,2);Pr(ve,{class:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),v(we);var me=e(we,2);ye(me,{onclick:Mt,children:(X,W)=>{var Y=Fr(),Z=x(Y);br(Z,{class:"h-4 w-4 mr-2"}),n(),t(X,Y)},$$slots:{default:!0}}),v(U);var Q=e(U,2);{var V=X=>{var W=Lr();t(X,W)},De=X=>{var W=Xr(),Y=i(W);or(Y,{children:(Z,_e)=>{var oe=Vr(),ce=x(oe);sr(ce,{children:(T,ee)=>{Ct(T,{children:(E,q)=>{var y=Ur(),p=x(y);Pe(p,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Te("species_name"),children:(h,D)=>{var d=Br(),b=e(i(d));g(b,()=>Re("species_name"),(k,u)=>{u(k,{class:"h-4 w-4"})}),v(d),t(h,d)},$$slots:{default:!0}});var w=e(p,2);Pe(w,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Te("report_date"),children:(h,D)=>{var d=Or(),b=e(i(d));g(b,()=>Re("report_date"),(k,u)=>{u(k,{class:"h-4 w-4"})}),v(d),t(h,d)},$$slots:{default:!0}});var j=e(w,2);Pe(j,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Te("total_harvest_weight_kg"),children:(h,D)=>{var d=Hr(),b=e(i(d));g(b,()=>Re("total_harvest_weight_kg"),(k,u)=>{u(k,{class:"h-4 w-4"})}),v(d),t(h,d)},$$slots:{default:!0}});var z=e(j,2);Pe(z,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Te("total_harvest_count"),children:(h,D)=>{var d=Wr(),b=e(i(d));g(b,()=>Re("total_harvest_count"),(k,u)=>{u(k,{class:"h-4 w-4"})}),v(d),t(h,d)},$$slots:{default:!0}});var I=e(z,2);Pe(I,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Te("average_fish_weight_g"),children:(h,D)=>{var d=Er(),b=e(i(d));g(b,()=>Re("average_fish_weight_g"),(k,u)=>{u(k,{class:"h-4 w-4"})}),v(d),t(h,d)},$$slots:{default:!0}});var ge=e(I,2);Pe(ge,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Te("mortality_count"),children:(h,D)=>{var d=qr(),b=e(i(d));g(b,()=>Re("mortality_count"),(k,u)=>{u(k,{class:"h-4 w-4"})}),v(d),t(h,d)},$$slots:{default:!0}});var ue=e(ge,2);Pe(ue,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Te("feed_consumed_kg"),children:(h,D)=>{var d=Ir(),b=e(i(d));g(b,()=>Re("feed_consumed_kg"),(k,u)=>{u(k,{class:"h-4 w-4"})}),v(d),t(h,d)},$$slots:{default:!0}});var se=e(ue,2);Pe(se,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2",children:(h,D)=>{n();var d=c("Notes");t(h,d)},$$slots:{default:!0}});var he=e(se,2);Pe(he,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Te("created_at"),children:(h,D)=>{var d=Mr(),b=e(i(d));g(b,()=>Re("created_at"),(k,u)=>{u(k,{class:"h-4 w-4"})}),v(d),t(h,d)},$$slots:{default:!0}});var xe=e(he,2);Pe(xe,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 text-center",children:(h,D)=>{n();var d=c("Actions");t(h,d)},$$slots:{default:!0}}),t(E,y)},$$slots:{default:!0}})},$$slots:{default:!0}});var ke=e(ce,2);lr(ke,{children:(T,ee)=>{var E=We(),q=x(E);Yt(q,17,()=>a(dt),Zt,(y,p,w)=>{Ct(y,{class:w%2===0?"bg-gray-50 dark:bg-card":"bg-white dark:bg-background",children:(j,z)=>{var I=Qr(),ge=x(I);be(ge,{children:(u,O)=>{gr(u,{variant:"outline",class:"flex items-center gap-1",children:(f,J)=>{var le=jr(),te=x(le);Sr(te,{class:"h-3 w-3"});var o=e(te);R(()=>N(o,` ${a(p).species_name??""}`)),t(f,le)},$$slots:{default:!0}})},$$slots:{default:!0}});var ue=e(ge,2);be(ue,{children:(u,O)=>{n();var f=c();R(J=>N(f,J),[()=>nt(a(p).report_date)]),t(u,f)},$$slots:{default:!0}});var se=e(ue,2);be(se,{children:(u,O)=>{n();var f=c();R(()=>N(f,a(p).total_harvest_weight_kg!==null?a(p).total_harvest_weight_kg+" kg":"N/A")),t(u,f)},$$slots:{default:!0}});var he=e(se,2);be(he,{children:(u,O)=>{n();var f=c();R(()=>N(f,a(p).total_harvest_count!==null?a(p).total_harvest_count:"N/A")),t(u,f)},$$slots:{default:!0}});var xe=e(he,2);be(xe,{children:(u,O)=>{n();var f=c();R(()=>N(f,a(p).average_fish_weight_g!==null?a(p).average_fish_weight_g+" g":"N/A")),t(u,f)},$$slots:{default:!0}});var h=e(xe,2);be(h,{children:(u,O)=>{n();var f=c();R(()=>N(f,a(p).mortality_count)),t(u,f)},$$slots:{default:!0}});var D=e(h,2);be(D,{children:(u,O)=>{n();var f=c();R(()=>N(f,a(p).feed_consumed_kg!==null?a(p).feed_consumed_kg+" kg":"N/A")),t(u,f)},$$slots:{default:!0}});var d=e(D,2);be(d,{class:"max-w-xs truncate",children:(u,O)=>{var f=We(),J=x(f);{var le=o=>{var r=We(),l=x(r);g(l,()=>hr,(m,$e)=>{$e(m,{children:(de,Ae)=>{var pe=Jr(),K=x(pe);g(K,()=>Tr,(Ce,Se)=>{Se(Ce,{class:"truncate max-w-xs block",children:(Ne,Kt)=>{n();var He=c();R(()=>N(He,a(p).notes)),t(Ne,He)},$$slots:{default:!0}})});var ne=e(K,2);g(ne,()=>Rr,(Ce,Se)=>{Se(Ce,{children:(Ne,Kt)=>{var He=zr(),Gt=i(He,!0);v(He),R(()=>N(Gt,a(p).notes)),t(Ne,He)},$$slots:{default:!0}})}),t(de,pe)},$$slots:{default:!0}})}),t(o,r)},te=o=>{var r=Kr();t(o,r)};je(J,o=>{a(p).notes?o(le):o(te,!1)})}t(u,f)},$$slots:{default:!0}});var b=e(d,2);be(b,{class:"text-gray-500 text-sm",children:(u,O)=>{n();var f=c();R(J=>N(f,J),[()=>nt(a(p).created_at)]),t(u,f)},$$slots:{default:!0}});var k=e(b,2);be(k,{children:(u,O)=>{var f=Gr(),J=i(f);ye(J,{variant:"outline",size:"sm",onclick:()=>Wt(a(p)),children:(te,o)=>{dr(te,{})},$$slots:{default:!0}});var le=e(J,2);ye(le,{variant:"outline",size:"sm",onclick:()=>It(a(p)),children:(te,o)=>{kr(te,{class:"h-4 w-4 text-red-500"})},$$slots:{default:!0}}),v(f),t(u,f)},$$slots:{default:!0}}),t(j,I)},$$slots:{default:!0}})}),t(T,E)},$$slots:{default:!0}}),t(Z,oe)},$$slots:{default:!0}}),v(W),t(X,W)};je(Q,X=>{a(dt).length===0?X(V):X(De,!1)})}t(ae,G)},$$slots:{default:!0}}),t(_,P)},$$slots:{default:!0}});var xt=e(ht,2);g(xt,()=>Ot,(_,S)=>{S(_,{get open(){return a(Ee)},set open(P){s(Ee,P,!0)},children:(P,L)=>{var ie=We(),ae=x(ie);g(ae,()=>St,(fe,G)=>{G(fe,{children:(U,we)=>{var B=aa(),ve=x(B);g(ve,()=>Tt,(Q,V)=>{V(Q,{})});var me=e(ve,2);g(me,()=>Rt,(Q,V)=>{V(Q,{class:"sm:max-w-[425px] p-6",children:(De,X)=>{var W=ra(),Y=x(W);g(Y,()=>Dt,(o,r)=>{r(o,{children:(l,m)=>{var $e=ea(),de=x($e);g(de,()=>Nt,(pe,K)=>{K(pe,{children:(ne,Ce)=>{n();var Se=c("Add New Production Report");t(ne,Se)},$$slots:{default:!0}})});var Ae=e(de,2);g(Ae,()=>Ft,(pe,K)=>{K(pe,{children:(ne,Ce)=>{n();var Se=c("Enter the production report details below.");t(ne,Se)},$$slots:{default:!0}})}),t(l,$e)},$$slots:{default:!0}})});var Z=e(Y,2),_e=i(Z),oe=i(_e);{var ce=o=>{ut(o,{variant:"destructive",children:(r,l)=>{var m=ta(),$e=x(m);Lt($e,{class:"h-4 w-4"});var de=e($e,2);Bt(de,{children:(Ae,pe)=>{n();var K=c();R(()=>N(K,a(re))),t(Ae,K)},$$slots:{default:!0}}),t(r,m)},$$slots:{default:!0}})};je(oe,o=>{a(re)&&o(ce)})}var ke=e(oe,2),T=i(ke);H(T,{for:"species_name_create",children:(o,r)=>{n();var l=c("Species Name *");t(o,l)},$$slots:{default:!0}});var ee=e(T,2);F(ee,{id:"species_name_create",name:"species_name",type:"text",required:!0,maxlength:50,get value(){return a(Ke)},set value(o){s(Ke,o,!0)}}),v(ke);var E=e(ke,2),q=i(E);H(q,{for:"report_date_create",children:(o,r)=>{n();var l=c("Report Date *");t(o,l)},$$slots:{default:!0}});var y=e(q,2);F(y,{id:"report_date_create",name:"report_date",type:"date",required:!0,get value(){return a(Ge)},set value(o){s(Ge,o,!0)}}),v(E);var p=e(E,2),w=i(p);H(w,{for:"total_harvest_weight_kg_create",children:(o,r)=>{n();var l=c("Total Harvest Weight (kg)");t(o,l)},$$slots:{default:!0}});var j=e(w,2);F(j,{id:"total_harvest_weight_kg_create",name:"total_harvest_weight_kg",type:"number",step:"0.01",get value(){return a(Qe)},set value(o){s(Qe,o,!0)}}),v(p);var z=e(p,2),I=i(z);H(I,{for:"total_harvest_count_create",children:(o,r)=>{n();var l=c("Total Harvest Count");t(o,l)},$$slots:{default:!0}});var ge=e(I,2);F(ge,{id:"total_harvest_count_create",name:"total_harvest_count",type:"number",step:"1",get value(){return a(Ve)},set value(o){s(Ve,o,!0)}}),v(z);var ue=e(z,2),se=i(ue);H(se,{for:"average_fish_weight_g_create",children:(o,r)=>{n();var l=c("Average Fish Weight (g)");t(o,l)},$$slots:{default:!0}});var he=e(se,2);F(he,{id:"average_fish_weight_g_create",name:"average_fish_weight_g",type:"number",step:"0.01",get value(){return a(Xe)},set value(o){s(Xe,o,!0)}}),v(ue);var xe=e(ue,2),h=i(xe);H(h,{for:"mortality_count_create",children:(o,r)=>{n();var l=c("Mortality Count");t(o,l)},$$slots:{default:!0}});var D=e(h,2);F(D,{id:"mortality_count_create",name:"mortality_count",type:"number",step:"1",get value(){return a(Ye)},set value(o){s(Ye,o,!0)}}),v(xe);var d=e(xe,2),b=i(d);H(b,{for:"feed_consumed_kg_create",children:(o,r)=>{n();var l=c("Feed Consumed (kg)");t(o,l)},$$slots:{default:!0}});var k=e(b,2);F(k,{id:"feed_consumed_kg_create",name:"feed_consumed_kg",type:"number",step:"0.01",get value(){return a(Ze)},set value(o){s(Ze,o,!0)}}),v(d);var u=e(d,2),O=i(u);H(O,{for:"notes_create",children:(o,r)=>{n();var l=c("Notes");t(o,l)},$$slots:{default:!0}});var f=e(O,2);F(f,{id:"notes_create",name:"notes",type:"text",maxlength:255,get value(){return a(et)},set value(o){s(et,o,!0)}}),v(u);var J=e(u,2),le=i(J);ye(le,{type:"submit",class:"flex-1",children:(o,r)=>{n();var l=c("Add Report");t(o,l)},$$slots:{default:!0}});var te=e(le,2);ye(te,{type:"button",variant:"outline",onclick:()=>s(Ee,!1),children:(o,r)=>{n();var l=c("Cancel");t(o,l)},$$slots:{default:!0}}),v(J),v(_e),v(Z),_t(Z,(o,r)=>{var l;return(l=ct)==null?void 0:l(o,r)},()=>()=>async({result:o})=>{var r,l;o.type==="success"?(s(Ee,!1),await ze(`app:production_reports:${M.data.pond.id}`),st("Production report created successfully!","create"),s(Ke,""),s(Ge,""),s(Qe,null),s(Ve,null),s(Xe,null),s(Ye,0),s(Ze,null),s(et,""),s(re,null)):o.type==="failure"&&(s(re,typeof((r=o.data)==null?void 0:r.error)=="string"?o.data.error:JSON.stringify((l=o.data)==null?void 0:l.error)||"An error occurred",!0),lt(a(re)))}),t(De,W)},$$slots:{default:!0}})}),t(U,B)},$$slots:{default:!0}})}),t(P,ie)},$$slots:{default:!0}})});var yt=e(xt,2);g(yt,()=>Ot,(_,S)=>{S(_,{get open(){return a(qe)},set open(P){s(qe,P,!0)},children:(P,L)=>{var ie=We(),ae=x(ie);g(ae,()=>St,(fe,G)=>{G(fe,{children:(U,we)=>{var B=da(),ve=x(B);g(ve,()=>Tt,(Q,V)=>{V(Q,{})});var me=e(ve,2);g(me,()=>Rt,(Q,V)=>{V(Q,{class:"sm:max-w-[425px] p-6",children:(De,X)=>{var W=la(),Y=x(W);g(Y,()=>Dt,(r,l)=>{l(r,{children:(m,$e)=>{var de=oa(),Ae=x(de);g(Ae,()=>Nt,(K,ne)=>{ne(K,{children:(Ce,Se)=>{n();var Ne=c("Edit Production Report");t(Ce,Ne)},$$slots:{default:!0}})});var pe=e(Ae,2);g(pe,()=>Ft,(K,ne)=>{ne(K,{children:(Ce,Se)=>{n();var Ne=c("Update the production report details below.");t(Ce,Ne)},$$slots:{default:!0}})}),t(m,de)},$$slots:{default:!0}})});var Z=e(Y,2),_e=i(Z);wt(_e);var oe=e(_e,2),ce=i(oe);{var ke=r=>{ut(r,{variant:"destructive",children:(l,m)=>{var $e=sa(),de=x($e);Lt(de,{class:"h-4 w-4"});var Ae=e(de,2);Bt(Ae,{children:(pe,K)=>{n();var ne=c();R(()=>N(ne,a(re))),t(pe,ne)},$$slots:{default:!0}}),t(l,$e)},$$slots:{default:!0}})};je(ce,r=>{a(re)&&r(ke)})}var T=e(ce,2),ee=i(T);H(ee,{for:"species_name_edit",children:(r,l)=>{n();var m=c("Species Name *");t(r,m)},$$slots:{default:!0}});var E=e(ee,2);F(E,{id:"species_name_edit",name:"species_name",type:"text",required:!0,maxlength:50,get value(){return a(C).species_name},set value(r){a(C).species_name=r}}),v(T);var q=e(T,2),y=i(q);H(y,{for:"report_date_edit",children:(r,l)=>{n();var m=c("Report Date *");t(r,m)},$$slots:{default:!0}});var p=e(y,2);F(p,{id:"report_date_edit",name:"report_date",type:"date",required:!0,get value(){return a(C).report_date},set value(r){a(C).report_date=r}}),v(q);var w=e(q,2),j=i(w);H(j,{for:"total_harvest_weight_kg_edit",children:(r,l)=>{n();var m=c("Total Harvest Weight (kg)");t(r,m)},$$slots:{default:!0}});var z=e(j,2);F(z,{id:"total_harvest_weight_kg_edit",name:"total_harvest_weight_kg",type:"number",step:"0.01",get value(){return a(C).total_harvest_weight_kg},set value(r){a(C).total_harvest_weight_kg=r}}),v(w);var I=e(w,2),ge=i(I);H(ge,{for:"total_harvest_count_edit",children:(r,l)=>{n();var m=c("Total Harvest Count");t(r,m)},$$slots:{default:!0}});var ue=e(ge,2);F(ue,{id:"total_harvest_count_edit",name:"total_harvest_count",type:"number",step:"1",get value(){return a(C).total_harvest_count},set value(r){a(C).total_harvest_count=r}}),v(I);var se=e(I,2),he=i(se);H(he,{for:"average_fish_weight_g_edit",children:(r,l)=>{n();var m=c("Average Fish Weight (g)");t(r,m)},$$slots:{default:!0}});var xe=e(he,2);F(xe,{id:"average_fish_weight_g_edit",name:"average_fish_weight_g",type:"number",step:"0.01",get value(){return a(C).average_fish_weight_g},set value(r){a(C).average_fish_weight_g=r}}),v(se);var h=e(se,2),D=i(h);H(D,{for:"mortality_count_edit",children:(r,l)=>{n();var m=c("Mortality Count");t(r,m)},$$slots:{default:!0}});var d=e(D,2);F(d,{id:"mortality_count_edit",name:"mortality_count",type:"number",step:"1",get value(){return a(C).mortality_count},set value(r){a(C).mortality_count=r}}),v(h);var b=e(h,2),k=i(b);H(k,{for:"feed_consumed_kg_edit",children:(r,l)=>{n();var m=c("Feed Consumed (kg)");t(r,m)},$$slots:{default:!0}});var u=e(k,2);F(u,{id:"feed_consumed_kg_edit",name:"feed_consumed_kg",type:"number",step:"0.01",get value(){return a(C).feed_consumed_kg},set value(r){a(C).feed_consumed_kg=r}}),v(b);var O=e(b,2),f=i(O);H(f,{for:"notes_edit",children:(r,l)=>{n();var m=c("Notes");t(r,m)},$$slots:{default:!0}});var J=e(f,2);F(J,{id:"notes_edit",name:"notes",type:"text",maxlength:255,get value(){return a(C).notes},set value(r){a(C).notes=r}}),v(O);var le=e(O,2),te=i(le);ye(te,{type:"submit",class:"flex-1",children:(r,l)=>{n();var m=c("Save Changes");t(r,m)},$$slots:{default:!0}});var o=e(te,2);ye(o,{type:"button",variant:"outline",onclick:Et,children:(r,l)=>{n();var m=c("Cancel");t(r,m)},$$slots:{default:!0}}),v(le),v(oe),v(Z),_t(Z,(r,l)=>{var m;return(m=ct)==null?void 0:m(r,l)},()=>()=>async({result:r})=>{var l,m;r.type==="success"?(s(qe,!1),await ze(`app:production_reports:${M.data.pond.id}`),st("Production report updated successfully!","update"),s(tt,null),s(C,{},!0),s(at,null)):r.type==="failure"&&(s(re,typeof((l=r.data)==null?void 0:l.error)=="string"?r.data.error:JSON.stringify((m=r.data)==null?void 0:m.error)||"An error occurred",!0),lt(a(re)))}),R(()=>kt(_e,a(tt))),t(De,W)},$$slots:{default:!0}})}),t(U,B)},$$slots:{default:!0}})}),t(P,ie)},$$slots:{default:!0}})});var Pt=e(yt,2);g(Pt,()=>fr,(_,S)=>{S(_,{get open(){return a(Ie)},set open(P){s(Ie,P,!0)},children:(P,L)=>{var ie=We(),ae=x(ie);g(ae,()=>ir,(fe,G)=>{G(fe,{children:(U,we)=>{var B=_a(),ve=x(B);g(ve,()=>vr,(Q,V)=>{V(Q,{})});var me=e(ve,2);g(me,()=>_r,(Q,V)=>{V(Q,{children:(De,X)=>{var W=va(),Y=x(W);g(Y,()=>cr,(_e,oe)=>{oe(_e,{children:(ce,ke)=>{var T=na(),ee=x(T);g(ee,()=>ur,(q,y)=>{y(q,{children:(p,w)=>{n();var j=c("Delete Production Report");t(p,j)},$$slots:{default:!0}})});var E=e(ee,2);g(E,()=>$r,(q,y)=>{y(q,{children:(p,w)=>{n();var j=c();R(z=>{var I;return N(j,`Are you sure you want to delete the report for "${((I=a(Je))==null?void 0:I.species_name)??""}" on ${z??""}? This action cannot be undone.`)},[()=>{var z;return nt((z=a(Je))==null?void 0:z.report_date)}]),t(p,j)},$$slots:{default:!0}})}),t(ce,T)},$$slots:{default:!0}})});var Z=e(Y,2);g(Z,()=>pr,(_e,oe)=>{oe(_e,{children:(ce,ke)=>{var T=ia(),ee=i(T);wt(ee);var E=e(ee,2);ye(E,{type:"button",variant:"outline",onclick:()=>s(Ie,!1),children:(y,p)=>{n();var w=c("Cancel");t(y,w)},$$slots:{default:!0}});var q=e(E,2);ye(q,{type:"submit",variant:"destructive",children:(y,p)=>{n();var w=c("Delete");t(y,w)},$$slots:{default:!0}}),v(T),_t(T,(y,p)=>{var w;return(w=ct)==null?void 0:w(y,p)},()=>()=>async({result:y})=>{var p,w;y.type==="success"?(s(Ie,!1),await ze(`app:production_reports:${M.data.pond.id}`),st("Production report deleted successfully!","delete")):y.type==="failure"&&(s(re,typeof((p=y.data)==null?void 0:p.error)=="string"?y.data.error:JSON.stringify((w=y.data)==null?void 0:w.error)||"An error occurred",!0),lt(a(re)))}),R(()=>{var y;return kt(ee,(y=a(Je))==null?void 0:y.id)}),t(ce,T)},$$slots:{default:!0}})}),t(De,W)},$$slots:{default:!0}})}),t(U,B)},$$slots:{default:!0}})}),t(P,ie)},$$slots:{default:!0}})});var bt=e(Pt,2),zt=i(bt);{var Jt=_=>{var S=ua(),P=i(S);ut(P,{get variant(){return Le},get class(){return Be},children:(L,ie)=>{var ae=ca(),fe=x(ae);nr(fe,{});var G=e(fe,2);mr(G,{children:(U,we)=>{n();var B=c();R(()=>N(B,ot)),t(U,B)},$$slots:{default:!0}}),t(L,ae)},$$slots:{default:!0}}),v(S),t(_,S)};je(zt,_=>{a(Me)&&_(Jt)})}v(bt),R(()=>{N(Ut,`Production Reports for ${M.data.pond.pond_number??""}`),N(jt,`Location: ${M.data.pond.location||"N/A"} | Status: ${M.data.pond.status??""}`)}),t(Ht,$t),Vt()}export{Ea as component};
