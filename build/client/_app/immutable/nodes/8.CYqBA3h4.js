import{f as c,a as e,t as v,c as Ce}from"../chunks/Do_-mL-j.js";import{p as Jt,a as S,b as ze,f as m,t as L,d as Gt,g as a,u as yt,c as u,s as t,e as o,n,r as _}from"../chunks/CSgM7ggg.js";import{s as j}from"../chunks/Cc2sBIKg.js";import{i as Oe}from"../chunks/DFkGWr6I.js";import{e as Mt,i as Qt}from"../chunks/BveS6AeT.js";import{c as p}from"../chunks/BxwOPTHF.js";import{a as dt,e as nt,A as it}from"../chunks/BOZ4giT5.js";import{r as xt,s as bt}from"../chunks/eOTtUvit.js";import{i as Ie,g as Pt}from"../chunks/uKHEHksz.js";import{B as pe}from"../chunks/BVmkDKMc.js";import{I as X}from"../chunks/B5-iWWaj.js";import{C as Xt,a as Yt,b as Zt,c as er}from"../chunks/BBrFK00f.js";import{L as se}from"../chunks/Bo2GsiZ3.js";import{T as tr,a as rr,b as kt,c as be,d as ar,P as wt,D as At,e as St,f as Dt,g as Ct,h as Ht,A as Tt,i as Rt,R as Nt,j as Pe,S as sr,C as or}from"../chunks/CdrzcX6z.js";import{P as lr,A as dr,a as nr,b as ir,c as vr,d as ur,e as _r,R as cr,f as $r}from"../chunks/DRgJLo_S.js";import"../chunks/Dlm0QRJp.js";import{R as fr}from"../chunks/BAa4oyvZ.js";import{S as pr}from"../chunks/C9JwNqn8.js";import{A as gr}from"../chunks/jrVE8UPr.js";import{S as hr}from"../chunks/C0R_oNfb.js";import{P as mr,C as yr,T as xr}from"../chunks/ARt1Dh6s.js";import{A as br,a as Pr}from"../chunks/B3v1Wr7v.js";import{t as Je}from"../chunks/Ca16gRfA.js";import{T as kr,a as wr}from"../chunks/HFpTe9lc.js";var Ar=c("<!> Back to Stocking Info",1),Sr=c("<!> <!>",1),Dr=c("<!> Add Harvest",1),Cr=c('<div class="text-center py-8 text-gray-500">No harvest records found for this stocking event.</div>'),Hr=c('<div class="flex items-center gap-1">Harvest Date <!></div>'),Tr=c('<div class="flex items-center gap-1">Avg. Body Weight (g) <!></div>'),Rr=c('<div class="flex items-center gap-1">Culture Days <!></div>'),Nr=c('<div class="flex items-center gap-1">Harvest Volume (kg) <!></div>'),qr=c('<div class="flex items-center gap-1">Price per Kg (₱) <!></div>'),Br=c("<!> <!> <!> <!> <!> <!> <!>",1),Lr=c("<p> </p>"),Or=c("<!> <!>",1),Ir=c('<span class="text-gray-400 italic">N/A</span>'),Er=c('<div class="flex flex justify-center space-x-2"><!> <!></div>'),Kr=c("<!> <!> <!> <!> <!> <!> <!>",1),Vr=c("<!> <!>",1),jr=c('<div class="border rounded-lg"><!></div>'),Fr=c('<div class="flex items-center gap-4 mb-4"><div class="relative flex-1"><!> <!></div> <!></div> <!>',1),Ur=c("<!> <!>",1),Wr=c("<!> <!>",1),zr=c("<!> <!>",1),Jr=c('<!> <form method="POST" action="?/create"><div class="space-y-4 mt-6"><!> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="flex gap-2 pt-4"><!> <!></div></div></form>',1),Gr=c("<!> <!>",1),Mr=c("<!> <!>",1),Qr=c("<!> <!>",1),Xr=c('<!> <form method="POST" action="?/update"><input type="hidden" name="id"/> <div class="space-y-4 mt-6"><!> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="flex gap-2 pt-4"><!> <!></div></div></form>',1),Yr=c("<!> <!>",1),Zr=c("<!> <!>",1),ea=c('<form method="POST" action="?/delete"><input type="hidden" name="id"/> <!> <!></form>'),ta=c("<!> <!>",1),ra=c("<!> <!>",1),aa=c("<!> <!>",1),sa=c('<div class="pointer-events-auto"><!></div>'),oa=c('<div class="space-y-6"><div class="flex justify-between items-center"><div><!> <h1 class="text-2xl font-bold"> </h1> <p class="text-gray-500"> </p></div></div></div> <!> <!> <!> <!> <div class="fixed inset-x-0 bottom-6 flex justify-center z-50 pointer-events-none"><!></div>',1);function Ha(qt,D){Jt(D,!0);let ke=S(ze(D.data.search||"")),Y=S(null),Ge=S(null),He=S(!1),Te=S(!1),Re=S(!1),Me=S(null),Ee=S(""),Ke=S(null),Ve=S(null),je=S(null),Fe=S(null),Ue=S(""),We=S(null),R=S(ze({})),Qe=S(!1),Xe="",we="default",Ae="",Ne=S(ze(D.data.sortBy||"harvest_date")),Se=S(ze(D.data.sortOrder||"desc"));function Ye(l,k){switch(Xe=l,k){case"create":we="default",Ae="bg-[var(--primary)] text-[var(--primary-foreground)]",Je.success(l);break;case"update":we="default",Ae="bg-[var(--secondary)] text-[var(--secondary-foreground)]",Je.success(l);break;case"delete":we="destructive",Ae="",Je.info(l);break;default:we="default",Ae="bg-[var(--primary)] text-[var(--primary-foreground)]"}setTimeout(()=>o(Qe,!1),3e3)}function Ze(l){Xe=l,we="destructive",Ae="",Je.error(l),setTimeout(()=>o(Qe,!1),3e3)}let et=yt(()=>{var l;return((l=D.data.harvestRecords)==null?void 0:l.filter(k=>{var y;return((y=k.notes)==null?void 0:y.toLowerCase().includes(a(ke).toLowerCase()))||k.harvest_date.toLowerCase().includes(a(ke).toLowerCase())}))||[]});function Bt(l){o(We,l.id,!0),o(Ge,{...l},!0),o(R,{...l},!0),o(Te,!0)}function Lt(){o(We,null),o(R,{},!0),o(Ge,null),o(Te,!1)}async function Ot(){const l=new URL(window.location.href);a(ke)?l.searchParams.set("search",a(ke)):l.searchParams.delete("search"),l.searchParams.set("sort",a(Ne)),l.searchParams.set("order",a(Se)),await Pt(l.pathname+l.search,{replaceState:!0}),Ie(`app:harvest_info:${D.data.stocking.id}`)}function It(l){o(Me,l,!0),o(Re,!0)}function tt(l){return l?new Date(l+"T00:00:00").toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"}function Et(){o(He,!0),o(Ee,""),o(Ke,null),o(Ve,null),o(je,null),o(Fe,null),o(Ue,""),o(Y,null)}async function qe(l){let k=l,y;a(Ne)===l?a(Se)==="asc"?y="desc":y="asc":(k=l,y="asc"),o(Ne,k,!0),o(Se,y,!0);const C=new URL(window.location.href);C.searchParams.set("sort",a(Ne)),C.searchParams.set("order",a(Se)),console.log("Navigating to:",C.pathname+C.search),await Pt(C.pathname+C.search),Ie(`app:harvest_info:${D.data.stocking.id}`)}function Be(l){if(a(Ne)===l){if(a(Se)==="asc")return br;if(a(Se)==="desc")return Pr}return yr}var vt=oa(),rt=m(vt),ut=u(rt),_t=u(ut),ct=u(_t);const Kt=yt(()=>`/dashboard/clients/${D.data.client.id}/stocking-info`);pe(ct,{variant:"ghost",get href(){return a(Kt)},class:"mb-2 -ml-4",children:(l,k)=>{var y=Ar(),C=m(y);gr(C,{class:"h-4 w-4 mr-2"}),n(),e(l,y)},$$slots:{default:!0}});var at=t(ct,2),Vt=u(at);_(at);var $t=t(at,2),jt=u($t);_($t),_(_t),_(ut),_(rt);var ft=t(rt,2);Xt(ft,{children:(l,k)=>{var y=Ur(),C=m(y);Yt(C,{class:"h-4",children:(Z,ve)=>{var F=Sr(),O=m(F);Zt(O,{children:(H,le)=>{n();var ue=v();L(()=>j(ue,`Total Harvest Records: ${a(et).length??""}`)),e(H,ue)},$$slots:{default:!0}});var ge=t(O,2);pr(ge,{class:"my-2"}),e(Z,F)},$$slots:{default:!0}});var oe=t(C,2);er(oe,{children:(Z,ve)=>{var F=Fr(),O=m(F),ge=u(O),H=u(ge);X(H,{placeholder:"Search by notes or harvest date...",class:"pl-10",get value(){return a(ke)},set value(z){o(ke,z,!0)},$$events:{input:Ot}});var le=t(H,2);hr(le,{class:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),_(ge);var ue=t(ge,2);pe(ue,{onclick:Et,children:(z,N)=>{var J=Dr(),G=m(J);mr(G,{class:"h-4 w-4 mr-2"}),n(),e(z,J)},$$slots:{default:!0}}),_(O);var U=t(O,2);{var W=z=>{var N=Cr();e(z,N)},xe=z=>{var N=jr(),J=u(N);tr(J,{children:(G,de)=>{var ee=Vr(),ne=m(ee);rr(ne,{children:(A,M)=>{kt(A,{children:(q,B)=>{var g=Br(),f=m(g);be(f,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>qe("harvest_date"),children:(P,K)=>{var $=Hr(),w=t(u($));p(w,()=>Be("harvest_date"),(T,h)=>{h(T,{class:"h-4 w-4"})}),_($),e(P,$)},$$slots:{default:!0}});var b=t(f,2);be(b,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>qe("actual_body_weight_g"),children:(P,K)=>{var $=Tr(),w=t(u($));p(w,()=>Be("actual_body_weight_g"),(T,h)=>{h(T,{class:"h-4 w-4"})}),_($),e(P,$)},$$slots:{default:!0}});var I=t(b,2);be(I,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>qe("culture_days"),children:(P,K)=>{var $=Rr(),w=t(u($));p(w,()=>Be("culture_days"),(T,h)=>{h(T,{class:"h-4 w-4"})}),_($),e(P,$)},$$slots:{default:!0}});var E=t(I,2);be(E,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>qe("harvest_volume_kg"),children:(P,K)=>{var $=Nr(),w=t(u($));p(w,()=>Be("harvest_volume_kg"),(T,h)=>{h(T,{class:"h-4 w-4"})}),_($),e(P,$)},$$slots:{default:!0}});var te=t(E,2);be(te,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>qe("price_per_kg"),children:(P,K)=>{var $=qr(),w=t(u($));p(w,()=>Be("price_per_kg"),(T,h)=>{h(T,{class:"h-4 w-4"})}),_($),e(P,$)},$$slots:{default:!0}});var _e=t(te,2);be(_e,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2",children:(P,K)=>{n();var $=v("Notes");e(P,$)},$$slots:{default:!0}});var ce=t(_e,2);be(ce,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 text-center",children:(P,K)=>{n();var $=v("Actions");e(P,$)},$$slots:{default:!0}}),e(q,g)},$$slots:{default:!0}})},$$slots:{default:!0}});var he=t(ne,2);ar(he,{children:(A,M)=>{var q=Ce(),B=m(q);Mt(B,17,()=>a(et),Qt,(g,f,b)=>{kt(g,{class:b%2===0?"bg-gray-50 dark:bg-card":"bg-white dark:bg-background",children:(I,E)=>{var te=Kr(),_e=m(te);Pe(_e,{children:(h,re)=>{n();var x=v();L(s=>j(x,s),[()=>tt(a(f).harvest_date)]),e(h,x)},$$slots:{default:!0}});var ce=t(_e,2);Pe(ce,{children:(h,re)=>{n();var x=v();L(()=>j(x,`${a(f).actual_body_weight_g??""} g`)),e(h,x)},$$slots:{default:!0}});var P=t(ce,2);Pe(P,{children:(h,re)=>{n();var x=v();L(()=>j(x,`${a(f).culture_days??""} days`)),e(h,x)},$$slots:{default:!0}});var K=t(P,2);Pe(K,{children:(h,re)=>{n();var x=v();L(()=>j(x,`${a(f).harvest_volume_kg??""} kg`)),e(h,x)},$$slots:{default:!0}});var $=t(K,2);Pe($,{children:(h,re)=>{n();var x=v();L(s=>j(x,`₱${s??""}`),[()=>a(f).price_per_kg.toFixed(2)]),e(h,x)},$$slots:{default:!0}});var w=t($,2);Pe(w,{class:"max-w-xs truncate",children:(h,re)=>{var x=Ce(),s=m(x);{var r=i=>{var V=Ce(),ae=m(V);p(ae,()=>fr,($e,fe)=>{fe($e,{children:(Q,ie)=>{var me=Or(),ye=m(me);p(ye,()=>kr,(st,ot)=>{ot(st,{class:"truncate max-w-xs block",children:(lt,Wt)=>{n();var De=v();L(()=>j(De,a(f).notes)),e(lt,De)},$$slots:{default:!0}})});var Le=t(ye,2);p(Le,()=>wr,(st,ot)=>{ot(st,{children:(lt,Wt)=>{var De=Lr(),zt=u(De,!0);_(De),L(()=>j(zt,a(f).notes)),e(lt,De)},$$slots:{default:!0}})}),e(Q,me)},$$slots:{default:!0}})}),e(i,V)},d=i=>{var V=Ir();e(i,V)};Oe(s,i=>{a(f).notes?i(r):i(d,!1)})}e(h,x)},$$slots:{default:!0}});var T=t(w,2);Pe(T,{children:(h,re)=>{var x=Er(),s=u(x);pe(s,{variant:"outline",size:"sm",onclick:()=>Bt(a(f)),children:(d,i)=>{sr(d,{})},$$slots:{default:!0}});var r=t(s,2);pe(r,{variant:"outline",size:"sm",onclick:()=>It(a(f)),children:(d,i)=>{xr(d,{class:"h-4 w-4 text-red-500"})},$$slots:{default:!0}}),_(x),e(h,x)},$$slots:{default:!0}}),e(I,te)},$$slots:{default:!0}})}),e(A,q)},$$slots:{default:!0}}),e(G,ee)},$$slots:{default:!0}}),_(N),e(z,N)};Oe(U,z=>{a(et).length===0?z(W):z(xe,!1)})}e(Z,F)},$$slots:{default:!0}}),e(l,y)},$$slots:{default:!0}});var pt=t(ft,2);p(pt,()=>Nt,(l,k)=>{k(l,{get open(){return a(He)},set open(y){o(He,y,!0)},children:(y,C)=>{var oe=Ce(),Z=m(oe);p(Z,()=>wt,(ve,F)=>{F(ve,{children:(O,ge)=>{var H=Gr(),le=m(H);p(le,()=>At,(U,W)=>{W(U,{})});var ue=t(le,2);p(ue,()=>St,(U,W)=>{W(U,{class:"sm:max-w-[425px] p-6",children:(xe,z)=>{var N=Jr(),J=m(N);p(J,()=>Dt,(s,r)=>{r(s,{children:(d,i)=>{var V=Wr(),ae=m(V);p(ae,()=>Ct,(fe,Q)=>{Q(fe,{children:(ie,me)=>{n();var ye=v("Add New Harvest Record");e(ie,ye)},$$slots:{default:!0}})});var $e=t(ae,2);p($e,()=>Ht,(fe,Q)=>{Q(fe,{children:(ie,me)=>{n();var ye=v("Enter the harvest details below.");e(ie,ye)},$$slots:{default:!0}})}),e(d,V)},$$slots:{default:!0}})});var G=t(J,2),de=u(G),ee=u(de);{var ne=s=>{it(s,{variant:"destructive",children:(r,d)=>{var i=zr(),V=m(i);Tt(V,{class:"h-4 w-4"});var ae=t(V,2);Rt(ae,{children:($e,fe)=>{n();var Q=v();L(()=>j(Q,a(Y))),e($e,Q)},$$slots:{default:!0}}),e(r,i)},$$slots:{default:!0}})};Oe(ee,s=>{a(Y)&&s(ne)})}var he=t(ee,2),A=u(he);se(A,{for:"harvest_date_create",children:(s,r)=>{n();var d=v("Harvest Date *");e(s,d)},$$slots:{default:!0}});var M=t(A,2);X(M,{id:"harvest_date_create",name:"harvest_date",type:"date",required:!0,get value(){return a(Ee)},set value(s){o(Ee,s,!0)}}),_(he);var q=t(he,2),B=u(q);se(B,{for:"actual_body_weight_g_create",children:(s,r)=>{n();var d=v("Average Body Weight (g) *");e(s,d)},$$slots:{default:!0}});var g=t(B,2);X(g,{id:"actual_body_weight_g_create",name:"actual_body_weight_g",type:"number",step:"0.01",required:!0,get value(){return a(Ke)},set value(s){o(Ke,s,!0)}}),_(q);var f=t(q,2),b=u(f);se(b,{for:"culture_days_create",children:(s,r)=>{n();var d=v("Culture Days *");e(s,d)},$$slots:{default:!0}});var I=t(b,2);X(I,{id:"culture_days_create",name:"culture_days",type:"number",step:"1",required:!0,get value(){return a(Ve)},set value(s){o(Ve,s,!0)}}),_(f);var E=t(f,2),te=u(E);se(te,{for:"harvest_volume_kg_create",children:(s,r)=>{n();var d=v("Harvest Volume (kg) *");e(s,d)},$$slots:{default:!0}});var _e=t(te,2);X(_e,{id:"harvest_volume_kg_create",name:"harvest_volume_kg",type:"number",step:"0.01",required:!0,get value(){return a(je)},set value(s){o(je,s,!0)}}),_(E);var ce=t(E,2),P=u(ce);se(P,{for:"price_per_kg_create",children:(s,r)=>{n();var d=v("Price per Kg (₱) *");e(s,d)},$$slots:{default:!0}});var K=t(P,2);X(K,{id:"price_per_kg_create",name:"price_per_kg",type:"number",step:"0.01",required:!0,get value(){return a(Fe)},set value(s){o(Fe,s,!0)}}),_(ce);var $=t(ce,2),w=u($);se(w,{for:"notes_create",children:(s,r)=>{n();var d=v("Notes");e(s,d)},$$slots:{default:!0}});var T=t(w,2);X(T,{id:"notes_create",name:"notes",type:"text",maxlength:255,get value(){return a(Ue)},set value(s){o(Ue,s,!0)}}),_($);var h=t($,2),re=u(h);pe(re,{type:"submit",class:"flex-1",children:(s,r)=>{n();var d=v("Add Harvest");e(s,d)},$$slots:{default:!0}});var x=t(re,2);pe(x,{type:"button",variant:"outline",onclick:()=>o(He,!1),children:(s,r)=>{n();var d=v("Cancel");e(s,d)},$$slots:{default:!0}}),_(h),_(de),_(G),dt(G,(s,r)=>{var d;return(d=nt)==null?void 0:d(s,r)},()=>()=>async({result:s})=>{var r,d;s.type==="success"?(o(He,!1),await Ie(`app:harvest_info:${D.data.stocking.id}`),Ye("Harvest record created successfully!","create"),o(Ee,""),o(Ke,null),o(Ve,null),o(je,null),o(Fe,null),o(Ue,""),o(Y,null)):s.type==="failure"&&(o(Y,typeof((r=s.data)==null?void 0:r.error)=="string"?s.data.error:JSON.stringify((d=s.data)==null?void 0:d.error)||"An error occurred",!0),Ze(a(Y)))}),e(xe,N)},$$slots:{default:!0}})}),e(O,H)},$$slots:{default:!0}})}),e(y,oe)},$$slots:{default:!0}})});var gt=t(pt,2);p(gt,()=>Nt,(l,k)=>{k(l,{get open(){return a(Te)},set open(y){o(Te,y,!0)},children:(y,C)=>{var oe=Ce(),Z=m(oe);p(Z,()=>wt,(ve,F)=>{F(ve,{children:(O,ge)=>{var H=Yr(),le=m(H);p(le,()=>At,(U,W)=>{W(U,{})});var ue=t(le,2);p(ue,()=>St,(U,W)=>{W(U,{class:"sm:max-w-[425px] p-6",children:(xe,z)=>{var N=Xr(),J=m(N);p(J,()=>Dt,(r,d)=>{d(r,{children:(i,V)=>{var ae=Mr(),$e=m(ae);p($e,()=>Ct,(Q,ie)=>{ie(Q,{children:(me,ye)=>{n();var Le=v("Edit Harvest Record");e(me,Le)},$$slots:{default:!0}})});var fe=t($e,2);p(fe,()=>Ht,(Q,ie)=>{ie(Q,{children:(me,ye)=>{n();var Le=v("Update the harvest details below.");e(me,Le)},$$slots:{default:!0}})}),e(i,ae)},$$slots:{default:!0}})});var G=t(J,2),de=u(G);xt(de);var ee=t(de,2),ne=u(ee);{var he=r=>{it(r,{variant:"destructive",children:(d,i)=>{var V=Qr(),ae=m(V);Tt(ae,{class:"h-4 w-4"});var $e=t(ae,2);Rt($e,{children:(fe,Q)=>{n();var ie=v();L(()=>j(ie,a(Y))),e(fe,ie)},$$slots:{default:!0}}),e(d,V)},$$slots:{default:!0}})};Oe(ne,r=>{a(Y)&&r(he)})}var A=t(ne,2),M=u(A);se(M,{for:"harvest_date_edit",children:(r,d)=>{n();var i=v("Harvest Date *");e(r,i)},$$slots:{default:!0}});var q=t(M,2);X(q,{id:"harvest_date_edit",name:"harvest_date",type:"date",required:!0,get value(){return a(R).harvest_date},set value(r){a(R).harvest_date=r}}),_(A);var B=t(A,2),g=u(B);se(g,{for:"actual_body_weight_g_edit",children:(r,d)=>{n();var i=v("Average Body Weight (g) *");e(r,i)},$$slots:{default:!0}});var f=t(g,2);X(f,{id:"actual_body_weight_g_edit",name:"actual_body_weight_g",type:"number",step:"0.01",required:!0,get value(){return a(R).actual_body_weight_g},set value(r){a(R).actual_body_weight_g=r}}),_(B);var b=t(B,2),I=u(b);se(I,{for:"culture_days_edit",children:(r,d)=>{n();var i=v("Culture Days *");e(r,i)},$$slots:{default:!0}});var E=t(I,2);X(E,{id:"culture_days_edit",name:"culture_days",type:"number",step:"1",required:!0,get value(){return a(R).culture_days},set value(r){a(R).culture_days=r}}),_(b);var te=t(b,2),_e=u(te);se(_e,{for:"harvest_volume_kg_edit",children:(r,d)=>{n();var i=v("Harvest Volume (kg) *");e(r,i)},$$slots:{default:!0}});var ce=t(_e,2);X(ce,{id:"harvest_volume_kg_edit",name:"harvest_volume_kg",type:"number",step:"0.01",required:!0,get value(){return a(R).harvest_volume_kg},set value(r){a(R).harvest_volume_kg=r}}),_(te);var P=t(te,2),K=u(P);se(K,{for:"price_per_kg_edit",children:(r,d)=>{n();var i=v("Price per Kg (₱) *");e(r,i)},$$slots:{default:!0}});var $=t(K,2);X($,{id:"price_per_kg_edit",name:"price_per_kg",type:"number",step:"0.01",required:!0,get value(){return a(R).price_per_kg},set value(r){a(R).price_per_kg=r}}),_(P);var w=t(P,2),T=u(w);se(T,{for:"notes_edit",children:(r,d)=>{n();var i=v("Notes");e(r,i)},$$slots:{default:!0}});var h=t(T,2);X(h,{id:"notes_edit",name:"notes",type:"text",maxlength:255,get value(){return a(R).notes},set value(r){a(R).notes=r}}),_(w);var re=t(w,2),x=u(re);pe(x,{type:"submit",class:"flex-1",children:(r,d)=>{n();var i=v("Save Changes");e(r,i)},$$slots:{default:!0}});var s=t(x,2);pe(s,{type:"button",variant:"outline",onclick:Lt,children:(r,d)=>{n();var i=v("Cancel");e(r,i)},$$slots:{default:!0}}),_(re),_(ee),_(G),dt(G,(r,d)=>{var i;return(i=nt)==null?void 0:i(r,d)},()=>()=>async({result:r})=>{var d,i;r.type==="success"?(o(Te,!1),await Ie(`app:harvest_info:${D.data.stocking.id}`),Ye("Harvest record updated successfully!","update"),o(We,null),o(R,{},!0),o(Ge,null)):r.type==="failure"&&(o(Y,typeof((d=r.data)==null?void 0:d.error)=="string"?r.data.error:JSON.stringify((i=r.data)==null?void 0:i.error)||"An error occurred",!0),Ze(a(Y)))}),L(()=>bt(de,a(We))),e(xe,N)},$$slots:{default:!0}})}),e(O,H)},$$slots:{default:!0}})}),e(y,oe)},$$slots:{default:!0}})});var ht=t(gt,2);p(ht,()=>cr,(l,k)=>{k(l,{get open(){return a(Re)},set open(y){o(Re,y,!0)},children:(y,C)=>{var oe=Ce(),Z=m(oe);p(Z,()=>lr,(ve,F)=>{F(ve,{children:(O,ge)=>{var H=ra(),le=m(H);p(le,()=>dr,(U,W)=>{W(U,{})});var ue=t(le,2);p(ue,()=>nr,(U,W)=>{W(U,{children:(xe,z)=>{var N=ta(),J=m(N);p(J,()=>ir,(de,ee)=>{ee(de,{children:(ne,he)=>{var A=Zr(),M=m(A);p(M,()=>vr,(B,g)=>{g(B,{children:(f,b)=>{n();var I=v("Delete Harvest Record");e(f,I)},$$slots:{default:!0}})});var q=t(M,2);p(q,()=>ur,(B,g)=>{g(B,{children:(f,b)=>{n();var I=v();L(E=>j(I,`Are you sure you want to delete the harvest record for ${E??""}? This action cannot be undone.`),[()=>{var E;return tt((E=a(Me))==null?void 0:E.harvest_date)}]),e(f,I)},$$slots:{default:!0}})}),e(ne,A)},$$slots:{default:!0}})});var G=t(J,2);p(G,()=>_r,(de,ee)=>{ee(de,{children:(ne,he)=>{var A=ea(),M=u(A);xt(M);var q=t(M,2);pe(q,{type:"button",variant:"outline",onclick:()=>o(Re,!1),children:(g,f)=>{n();var b=v("Cancel");e(g,b)},$$slots:{default:!0}});var B=t(q,2);pe(B,{type:"submit",variant:"destructive",children:(g,f)=>{n();var b=v("Delete");e(g,b)},$$slots:{default:!0}}),_(A),dt(A,(g,f)=>{var b;return(b=nt)==null?void 0:b(g,f)},()=>()=>async({result:g})=>{var f,b;g.type==="success"?(o(Re,!1),await Ie(`app:harvest_info:${D.data.stocking.id}`),Ye("Harvest record deleted successfully!","delete")):g.type==="failure"&&(o(Y,typeof((f=g.data)==null?void 0:f.error)=="string"?g.data.error:JSON.stringify((b=g.data)==null?void 0:b.error)||"An error occurred",!0),Ze(a(Y)))}),L(()=>{var g;return bt(M,(g=a(Me))==null?void 0:g.id)}),e(ne,A)},$$slots:{default:!0}})}),e(xe,N)},$$slots:{default:!0}})}),e(O,H)},$$slots:{default:!0}})}),e(y,oe)},$$slots:{default:!0}})});var mt=t(ht,2),Ft=u(mt);{var Ut=l=>{var k=sa(),y=u(k);it(y,{get variant(){return we},get class(){return Ae},children:(C,oe)=>{var Z=aa(),ve=m(Z);or(ve,{});var F=t(ve,2);$r(F,{children:(O,ge)=>{n();var H=v();L(()=>j(H,Xe)),e(O,H)},$$slots:{default:!0}}),e(C,Z)},$$slots:{default:!0}}),_(k),e(l,k)};Oe(Ft,l=>{a(Qe)&&l(Ut)})}_(mt),L(l=>{j(Vt,`Harvest Records for ${D.data.client.name??""} - Stocking on ${l??""} (${D.data.stocking.species_name??""})`),j(jt,`Stocking ID: ${D.data.stocking.id??""} | Fingerlings Stocked: ${D.data.stocking.fingerlings_stocked_count_ma??""}`)},[()=>tt(D.data.stocking.stocking_date)]),e(qt,vt),Gt()}export{Ha as component};
