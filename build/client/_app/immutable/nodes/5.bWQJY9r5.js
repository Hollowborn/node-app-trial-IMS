import{d as de,a as e,f as d,t as u}from"../chunks/BxWPM7vt.js";import{k as $,p as dr,l as K,m as _t,s as t,o as ir,n,t as D,u as r,v as bt,c as p,q as v,r as f}from"../chunks/VrzbJYtp.js";import{s as z}from"../chunks/jPwQk_2E.js";import{l as tt,s as rt,i as dt}from"../chunks/K2z4qc4G.js";import{e as wt,i as St}from"../chunks/3dJlLkWl.js";import{c as x}from"../chunks/DhHZR6J_.js";import{a as Ct,e as kt,A as At}from"../chunks/q_geWe1R.js";import{r as Re,s as ze}from"../chunks/BHm98m4T.js";import{i as it,g as Rt}from"../chunks/Co0R7JPe.js";import{B as qe}from"../chunks/DGxjUAYV.js";import{I as He}from"../chunks/Cl_oq7nf.js";import{C as ur,a as vr,b as cr,c as $r}from"../chunks/_Y1sUBdb.js";import{L as Se}from"../chunks/BUlJYItk.js";import{A as zt,a as Et}from"../chunks/C43ptUaS.js";import{P as _r,A as pr,a as fr,b as mr,c as hr,d as gr,e as xr,R as Pr,f as yr}from"../chunks/DOd2QSgZ.js";import{T as br,a as wr,b as Ot,c as Ee,d as Sr,P as Ut,D as Ht,e as Vt,f as jt,g as Jt,h as Ft,R as Xt,i as Oe,S as Cr,C as kr}from"../chunks/BeUoQy-y.js";import{R as Ye,S as Ze,a as et,b as W}from"../chunks/CbD0lEU8.js";import{B as Nt}from"../chunks/Dcluerj8.js";import{R as Ar,P as Nr}from"../chunks/BMspJ8Yh.js";import{S as Tr}from"../chunks/CfhtIqMF.js";import{S as Br}from"../chunks/D47F4gF3.js";import{P as Dr,C as Mr,T as Lr}from"../chunks/CvWd9xh1.js";import{A as Ir,a as qr}from"../chunks/CkucYYup.js";import{U as Rr}from"../chunks/DOotmoI5.js";import{T as zr,a as Er}from"../chunks/Jos_wYTi.js";import"../chunks/twlfZeI1.js";import{s as at}from"../chunks/Cvje7MCY.js";import{I as st}from"../chunks/D1dXutnj.js";import{I as Or}from"../chunks/BBOATMWh.js";import{X as Ur}from"../chunks/BD6Ecydl.js";import{C as Hr}from"../chunks/CCIBMD7x.js";import{C as Vr}from"../chunks/BwLKvIYz.js";function jr(ce,k){const j=tt(k,["children","$$slots","$$events","$$legacy"]),T=[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"}]];st(ce,rt({name:"book-open"},()=>j,{get iconNode(){return T},children:(re,Ce)=>{var M=de(),Y=$(M);at(Y,k,"default",{}),e(re,M)},$$slots:{default:!0}}))}function Jr(ce,k){const j=tt(k,["children","$$slots","$$events","$$legacy"]),T=[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}],["path",{d:"M3 10h18"}],["path",{d:"m9 16 2 2 4-4"}]];st(ce,rt({name:"calendar-check"},()=>j,{get iconNode(){return T},children:(re,Ce)=>{var M=de(),Y=$(M);at(Y,k,"default",{}),e(re,M)},$$slots:{default:!0}}))}function Fr(ce,k){const j=tt(k,["children","$$slots","$$events","$$legacy"]),T=[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22"}]];st(ce,rt({name:"eye-off"},()=>j,{get iconNode(){return T},children:(re,Ce)=>{var M=de(),Y=$(M);at(Y,k,"default",{}),e(re,M)},$$slots:{default:!0}}))}function Xr(ce,k){const j=tt(k,["children","$$slots","$$events","$$legacy"]),T=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}],["path",{d:"M3 3v5h5"}],["path",{d:"M12 7v5l4 2"}]];st(ce,rt({name:"history"},()=>j,{get iconNode(){return T},children:(re,Ce)=>{var M=de(),Y=$(M);at(Y,k,"default",{}),e(re,M)},$$slots:{default:!0}}))}function Qr(ce,k){const j=tt(k,["children","$$slots","$$events","$$legacy"]),T=[["path",{d:"M5 22h14"}],["path",{d:"M5 2h14"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2"}]];st(ce,rt({name:"hourglass"},()=>j,{get iconNode(){return T},children:(re,Ce)=>{var M=de(),Y=$(M);at(Y,k,"default",{}),e(re,M)},$$slots:{default:!0}}))}function Gr(ce,k){const j=tt(k,["children","$$slots","$$events","$$legacy"]),T=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}]];st(ce,rt({name:"message-square"},()=>j,{get iconNode(){return T},children:(re,Ce)=>{var M=de(),Y=$(M);at(Y,k,"default",{}),e(re,M)},$$slots:{default:!0}}))}var Kr=d("<!> <!>",1),Wr=d("<!> Add Booking",1),Yr=d('<div class="text-center py-8 text-gray-500">No bookings found</div>'),Zr=d('<div class="flex items-center gap-1">Client <!></div>'),ea=d('<div class="flex items-center gap-1">Purpose <!></div>'),ta=d('<div class="flex items-center gap-1">Date <!></div>'),ra=d('<div class="flex items-center gap-1">Time <!></div>'),aa=d('<div class="flex items-center gap-1">Status <!></div>'),sa=d('<div class="flex items-center gap-1">Created At <!></div>'),oa=d("<!> <!> <!> <!> <!> <!> <!> <!>",1),la=d("<!> ",1),na=d("<!> ",1),da=d("<p> </p>"),ia=d("<!> <!>",1),ua=d('<span class="text-gray-400 italic">N/A</span>'),va=d("<!> ",1),ca=d('<div class="flex flex justify-center space-x-2"><!> <!></div>'),$a=d("<!> <!> <!> <!> <!> <!> <!> <!>",1),_a=d("<!> <!>",1),pa=d('<div class="border rounded-lg"><!></div>'),fa=d('<div class="flex items-center gap-4 mb-4"><div class="relative flex-1"><!> <!></div> <!></div> <!>',1),ma=d("<!> <!>",1),ha=d("<!> <!>",1),ga=d("<!> <!>",1),xa=d("<span> </span>"),Pa=d("<!> <!>",1),ya=d("<span> </span>"),ba=d("<!> <!>",1),wa=d("<!> <!>",1),Sa=d("<span> </span>"),Ca=d("<!> <!> <!> <!> <!> <!>",1),ka=d("<!> <!>",1),Aa=d('<!> <form method="POST" action="?/create"><div class="space-y-4 mt-6"><!> <div class="space-y-2"><!> <!> <input type="hidden" name="client_id"/></div> <div class="space-y-2"><!> <!> <input type="hidden" name="purpose"/></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!> <input type="hidden" name="status"/></div> <div class="flex gap-2 pt-4"><!> <!></div></div></form>',1),Na=d("<!> <!>",1),Ta=d("<!> <!>",1),Ba=d("<!> <!>",1),Da=d("<span> </span>"),Ma=d("<!> <!>",1),La=d("<span> </span>"),Ia=d("<!> <!>",1),qa=d("<!> <!>",1),Ra=d("<span> </span>"),za=d("<!> <!> <!> <!> <!> <!>",1),Ea=d("<!> <!>",1),Oa=d('<!> <form method="POST" action="?/update"><input type="hidden" name="id"/> <div class="space-y-4 mt-6"><!> <div class="space-y-2"><!> <!> <input type="hidden" name="client_id"/></div> <div class="space-y-2"><!> <!> <input type="hidden" name="purpose"/></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!> <input type="hidden" name="status"/></div> <div class="flex gap-2 pt-4"><!> <!></div></div></form>',1),Ua=d("<!> <!>",1),Ha=d("<!> <!>",1),Va=d('<form method="POST" action="?/delete"><input type="hidden" name="id"/> <!> <!></form>'),ja=d("<!> <!>",1),Ja=d("<!> <!>",1),Fa=d("<!> <!>",1),Xa=d('<div class="pointer-events-auto"><!></div>'),Qa=d('<div class="space-y-6"><div class="flex justify-between items-center"><div><h1 class="text-2xl font-bold">Bookings Management</h1> <p class="text-gray-500">Manage client reservations and consultations</p></div></div></div> <!> <!> <!> <!> <div class="fixed inset-x-0 bottom-6 flex justify-center z-50 pointer-events-none"><!></div>',1);function ks(ce,k){dr(k,!0);let j=K(_t(k.data.search||"")),T=K(null),re=K(null),Ce=K(!1),M=K(!1),Y=K(!1),ot=K(null),Ve=K(void 0),je=K(void 0),ut=K(""),vt=K(""),ct=K(""),Je=K("pending"),$t=K(null),R=K(_t({})),lt=K(!1),pt="",Fe="default",Xe="",nt=K(_t(k.data.sortBy||"date")),Qe=K(_t(k.data.sortOrder||"asc"));function ft(l,L){switch(pt=l,v(lt,!0),L){case"create":Fe="default",Xe="bg-[var(--primary)] text-[var(--primary-foreground)]";break;case"update":Fe="default",Xe="bg-[var(--secondary)] text-[var(--secondary-foreground)]";break;case"delete":Fe="destructive",Xe="";break;default:Fe="default",Xe="bg-[var(--primary)] text-[var(--primary-foreground)]"}setTimeout(()=>v(lt,!1),3e3)}function mt(l){pt=l,Fe="destructive",Xe="",v(lt,!0),setTimeout(()=>v(lt,!1),3e3)}let ht=bt(()=>{var l;return((l=k.data.bookings)==null?void 0:l.filter(L=>L.client_name.toLowerCase().includes(r(j).toLowerCase())||L.purpose.toLowerCase().includes(r(j).toLowerCase())||L.status.toLowerCase().includes(r(j).toLowerCase())))||[]});function Qt(l){v($t,l.id,!0),v(re,{...l},!0),v(R,{...l},!0),v(M,!0)}function Gt(){v($t,null),v(R,{},!0),v(re,null),v(M,!1)}async function Kt(){const l=new URL(window.location.href);r(j)?l.searchParams.set("search",r(j)):l.searchParams.delete("search"),l.searchParams.set("sort",r(nt)),l.searchParams.set("order",r(Qe)),await Rt(l.pathname+l.search,{replaceState:!0}),it("app:bookings")}function Wt(l){v(ot,l,!0),v(Y,!0)}function gt(l){return l?new Date(l+"T00:00:00").toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"}function Tt(l){if(!l)return"N/A";const[L,I]=l.split(":"),X=new Date;return X.setHours(parseInt(L,10)),X.setMinutes(parseInt(I,10)),X.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}function Yt(l){return{reservation:"Reservation",consultation:"Consultation"}[l]||l}function xt(l){return{pending:"Pending",confirmed:"Confirmed",completed:"Completed",cancelled:"Cancelled",no_show:"No Show",expired:"Expired"}[l]||l}function Zt(l){switch(l){case"reservation":return Jr;case"consultation":return Gr;default:return jr}}function er(l){switch(l){case"pending":return Qr;case"confirmed":return Vr;case"completed":return Hr;case"cancelled":return Ur;case"no_show":return Fr;case"expired":return Xr;default:return Or}}function tr(l){return"outline"}function rr(l){switch(l){case"pending":return"text-yellow-500";case"confirmed":case"completed":return"text-green-500";case"cancelled":case"no_show":case"expired":return"text-red-500";default:return"text-gray-500"}}function ar(){v(Ce,!0),v(Ve,void 0),v(je,void 0),v(ut,""),v(vt,""),v(ct,""),v(Je,"pending"),v(T,null)}async function Ge(l){let L=l,I;r(nt)===l?r(Qe)==="asc"?I="desc":I="asc":(L=l,I="asc"),v(nt,L,!0),v(Qe,I,!0);const X=new URL(window.location.href);X.searchParams.set("sort",r(nt)),X.searchParams.set("order",r(Qe)),console.log("Navigating to:",X.pathname+X.search),await Rt(X.pathname+X.search),it("app:bookings")}function Ke(l){if(r(nt)===l){if(r(Qe)==="asc")return Ir;if(r(Qe)==="desc")return qr}return Mr}var Bt=Qa(),Dt=t($(Bt),2);ur(Dt,{children:(l,L)=>{var I=ma(),X=$(I);vr(X,{class:"h-4",children:(Pe,Be)=>{var $e=Kr(),ie=$($e);cr(ie,{children:(ee,Ae)=>{n();var De=u();D(()=>z(De,`Total Bookings: ${r(ht).length??""}`)),e(ee,De)},$$slots:{default:!0}});var Me=t(ie,2);Tr(Me,{class:"my-2"}),e(Pe,$e)},$$slots:{default:!0}});var ke=t(X,2);$r(ke,{children:(Pe,Be)=>{var $e=fa(),ie=$($e),Me=p(ie),ee=p(Me);He(ee,{placeholder:"Search by client name, purpose, or status...",class:"pl-10",get value(){return r(j)},set value(fe){v(j,fe,!0)},$$events:{input:Kt}});var Ae=t(ee,2);Br(Ae,{class:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),f(Me);var De=t(Me,2);qe(De,{onclick:ar,children:(fe,ae)=>{var me=Wr(),he=$(me);Dr(he,{class:"h-4 w-4 mr-2"}),n(),e(fe,me)},$$slots:{default:!0}}),f(ie);var _e=t(ie,2);{var pe=fe=>{var ae=Yr();e(fe,ae)},Ue=fe=>{var ae=pa(),me=p(ae);br(me,{children:(he,Ne)=>{var ye=_a(),Te=$(ye);wr(Te,{children:(Q,ue)=>{Ot(Q,{children:(se,oe)=>{var w=oa(),h=$(w);Ee(h,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Ge("client_name"),children:(B,Z)=>{var g=Zr(),E=t(p(g));x(E,()=>Ke("client_name"),(O,P)=>{P(O,{class:"h-4 w-4"})}),f(g),e(B,g)},$$slots:{default:!0}});var q=t(h,2);Ee(q,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Ge("purpose"),children:(B,Z)=>{var g=ea(),E=t(p(g));x(E,()=>Ke("purpose"),(O,P)=>{P(O,{class:"h-4 w-4"})}),f(g),e(B,g)},$$slots:{default:!0}});var te=t(q,2);Ee(te,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Ge("date"),children:(B,Z)=>{var g=ta(),E=t(p(g));x(E,()=>Ke("date"),(O,P)=>{P(O,{class:"h-4 w-4"})}),f(g),e(B,g)},$$slots:{default:!0}});var G=t(te,2);Ee(G,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Ge("time"),children:(B,Z)=>{var g=ra(),E=t(p(g));x(E,()=>Ke("time"),(O,P)=>{P(O,{class:"h-4 w-4"})}),f(g),e(B,g)},$$slots:{default:!0}});var be=t(G,2);Ee(be,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2",children:(B,Z)=>{n();var g=u("Notes");e(B,g)},$$slots:{default:!0}});var ve=t(be,2);Ee(ve,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Ge("status"),children:(B,Z)=>{var g=aa(),E=t(p(g));x(E,()=>Ke("status"),(O,P)=>{P(O,{class:"h-4 w-4"})}),f(g),e(B,g)},$$slots:{default:!0}});var we=t(ve,2);Ee(we,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Ge("created_at"),children:(B,Z)=>{var g=sa(),E=t(p(g));x(E,()=>Ke("created_at"),(O,P)=>{P(O,{class:"h-4 w-4"})}),f(g),e(B,g)},$$slots:{default:!0}});var Ie=t(we,2);Ee(Ie,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 text-center",children:(B,Z)=>{n();var g=u("Actions");e(B,g)},$$slots:{default:!0}}),e(se,w)},$$slots:{default:!0}})},$$slots:{default:!0}});var Le=t(Te,2);Sr(Le,{children:(Q,ue)=>{var se=de(),oe=$(se);wt(oe,17,()=>r(ht),St,(w,h,q)=>{Ot(w,{class:`${q%2===0?"bg-gray-50 dark:bg-card":"bg-white dark:bg-background"} `,children:(te,G)=>{var be=$a(),ve=$(be);Oe(ve,{children:(P,ge)=>{Nt(P,{variant:"outline",class:"flex items-center gap-1",children:(A,U)=>{var le=la(),s=$(le);Rr(s,{class:"h-3 w-3"});var a=t(s);D(()=>z(a,` ${r(h).client_name??""}`)),e(A,le)},$$slots:{default:!0}})},$$slots:{default:!0}});var we=t(ve,2);Oe(we,{children:(P,ge)=>{Nt(P,{variant:"outline",class:"flex items-center gap-1",children:(A,U)=>{var le=na(),s=$(le);x(s,()=>Zt(r(h).purpose),(o,i)=>{i(o,{class:"h-3 w-3"})});var a=t(s);D(o=>z(a,` ${o??""}`),[()=>Yt(r(h).purpose)]),e(A,le)},$$slots:{default:!0}})},$$slots:{default:!0}});var Ie=t(we,2);Oe(Ie,{children:(P,ge)=>{n();var A=u();D(U=>z(A,U),[()=>gt(r(h).date)]),e(P,A)},$$slots:{default:!0}});var B=t(Ie,2);Oe(B,{children:(P,ge)=>{n();var A=u();D(U=>z(A,U),[()=>Tt(r(h).time)]),e(P,A)},$$slots:{default:!0}});var Z=t(B,2);Oe(Z,{class:"max-w-xs truncate",children:(P,ge)=>{var A=de(),U=$(A);{var le=a=>{var o=de(),i=$(o);x(i,()=>Nr,(S,b)=>{b(S,{delayDuration:100,children:(C,m)=>{var c=de(),_=$(c);x(_,()=>Ar,(y,N)=>{N(y,{children:(H,xe)=>{var J=ia(),V=$(J);x(V,()=>zr,(ne,Pt)=>{Pt(ne,{class:"truncate max-w-xs block",children:(yt,lr)=>{n();var We=u();D(()=>z(We,r(h).notes)),e(yt,We)},$$slots:{default:!0}})});var F=t(V,2);x(F,()=>Er,(ne,Pt)=>{Pt(ne,{children:(yt,lr)=>{var We=da(),nr=p(We,!0);f(We),D(()=>z(nr,r(h).notes)),e(yt,We)},$$slots:{default:!0}})}),e(H,J)},$$slots:{default:!0}})}),e(C,c)},$$slots:{default:!0}})}),e(a,o)},s=a=>{var o=ua();e(a,o)};dt(U,a=>{r(h).notes?a(le):a(s,!1)})}e(P,A)},$$slots:{default:!0}});var g=t(Z,2);Oe(g,{children:(P,ge)=>{const A=bt(()=>tr(r(h).status));Nt(P,{get variant(){return r(A)},class:"flex items-center gap-1",children:(U,le)=>{var s=va(),a=$(s);const o=bt(()=>rr(r(h).status)+" h-3 w-3");x(a,()=>er(r(h).status),(S,b)=>{b(S,{get class(){return r(o)}})});var i=t(a);D(S=>z(i,` ${S??""}`),[()=>xt(r(h).status)]),e(U,s)},$$slots:{default:!0}})},$$slots:{default:!0}});var E=t(g,2);Oe(E,{class:"text-gray-500 text-sm",children:(P,ge)=>{n();var A=u();D(U=>z(A,U),[()=>gt(r(h).created_at)]),e(P,A)},$$slots:{default:!0}});var O=t(E,2);Oe(O,{children:(P,ge)=>{var A=ca(),U=p(A);qe(U,{variant:"outline",size:"sm",onclick:()=>Qt(r(h)),children:(s,a)=>{Cr(s,{})},$$slots:{default:!0}});var le=t(U,2);qe(le,{variant:"outline",size:"sm",onclick:()=>Wt(r(h)),children:(s,a)=>{Lr(s,{class:"h-4 w-4 text-red-500"})},$$slots:{default:!0}}),f(A),e(P,A)},$$slots:{default:!0}}),e(te,be)},$$slots:{default:!0}})}),e(Q,se)},$$slots:{default:!0}}),e(he,ye)},$$slots:{default:!0}}),f(ae),e(fe,ae)};dt(_e,fe=>{r(ht).length===0?fe(pe):fe(Ue,!1)})}e(Pe,$e)},$$slots:{default:!0}}),e(l,I)},$$slots:{default:!0}});var Mt=t(Dt,2);x(Mt,()=>Xt,(l,L)=>{L(l,{get open(){return r(Ce)},set open(I){v(Ce,I,!0)},children:(I,X)=>{var ke=de(),Pe=$(ke);x(Pe,()=>Ut,(Be,$e)=>{$e(Be,{children:(ie,Me)=>{var ee=Na(),Ae=$(ee);x(Ae,()=>Ht,(_e,pe)=>{pe(_e,{})});var De=t(Ae,2);x(De,()=>Vt,(_e,pe)=>{pe(_e,{class:"sm:max-w-[425px] p-6",children:(Ue,fe)=>{var ae=Aa(),me=$(ae);x(me,()=>jt,(s,a)=>{a(s,{children:(o,i)=>{var S=ha(),b=$(S);x(b,()=>Jt,(m,c)=>{c(m,{children:(_,y)=>{n();var N=u("Add New Booking");e(_,N)},$$slots:{default:!0}})});var C=t(b,2);x(C,()=>Ft,(m,c)=>{c(m,{children:(_,y)=>{n();var N=u("Enter the booking details below.");e(_,N)},$$slots:{default:!0}})}),e(o,S)},$$slots:{default:!0}})});var he=t(me,2),Ne=p(he),ye=p(Ne);{var Te=s=>{At(s,{variant:"destructive",children:(a,o)=>{var i=ga(),S=$(i);zt(S,{class:"h-4 w-4"});var b=t(S,2);Et(b,{children:(C,m)=>{n();var c=u();D(()=>z(c,r(T))),e(C,c)},$$slots:{default:!0}}),e(a,i)},$$slots:{default:!0}})};dt(ye,s=>{r(T)&&s(Te)})}var Le=t(ye,2),Q=p(Le);Se(Q,{for:"client_id_create",children:(s,a)=>{n();var o=u("Client *");e(s,o)},$$slots:{default:!0}});var ue=t(Q,2);Ye(ue,{type:"single",required:!0,get value(){return r(Ve)},set value(s){v(Ve,s,!0)},children:(s,a)=>{var o=Pa(),i=$(o);Ze(i,{children:(b,C)=>{var m=xa(),c=p(m,!0);f(m),D(_=>z(c,_),[()=>{var _;return((_=k.data.clients.find(y=>y.id===r(Ve)))==null?void 0:_.name)||"Select client"}]),e(b,m)},$$slots:{default:!0}});var S=t(i,2);et(S,{children:(b,C)=>{var m=de(),c=$(m);wt(c,17,()=>k.data.clients,St,(_,y)=>{W(_,{get value(){return r(y).id},children:(N,H)=>{n();var xe=u();D(()=>z(xe,r(y).name)),e(N,xe)},$$slots:{default:!0}})}),e(b,m)},$$slots:{default:!0}}),e(s,o)},$$slots:{default:!0}});var se=t(ue,2);Re(se),f(Le);var oe=t(Le,2),w=p(oe);Se(w,{for:"purpose_create",children:(s,a)=>{n();var o=u("Purpose *");e(s,o)},$$slots:{default:!0}});var h=t(w,2);Ye(h,{type:"single",required:!0,get value(){return r(je)},set value(s){v(je,s,!0)},children:(s,a)=>{var o=wa(),i=$(o);Ze(i,{children:(b,C)=>{var m=ya(),c=p(m,!0);f(m),D(()=>z(c,r(je)||"Select purpose")),e(b,m)},$$slots:{default:!0}});var S=t(i,2);et(S,{children:(b,C)=>{var m=ba(),c=$(m);W(c,{value:"reservation",children:(y,N)=>{n();var H=u("Reservation");e(y,H)},$$slots:{default:!0}});var _=t(c,2);W(_,{value:"consultation",children:(y,N)=>{n();var H=u("Consultation");e(y,H)},$$slots:{default:!0}}),e(b,m)},$$slots:{default:!0}}),e(s,o)},$$slots:{default:!0}});var q=t(h,2);Re(q),f(oe);var te=t(oe,2),G=p(te);Se(G,{for:"date_create",children:(s,a)=>{n();var o=u("Date *");e(s,o)},$$slots:{default:!0}});var be=t(G,2);He(be,{id:"date_create",name:"date",type:"date",required:!0,get value(){return r(ut)},set value(s){v(ut,s,!0)}}),f(te);var ve=t(te,2),we=p(ve);Se(we,{for:"time_create",children:(s,a)=>{n();var o=u("Time *");e(s,o)},$$slots:{default:!0}});var Ie=t(we,2);He(Ie,{id:"time_create",name:"time",type:"time",required:!0,get value(){return r(vt)},set value(s){v(vt,s,!0)}}),f(ve);var B=t(ve,2),Z=p(B);Se(Z,{for:"notes_create",children:(s,a)=>{n();var o=u("Notes");e(s,o)},$$slots:{default:!0}});var g=t(Z,2);He(g,{id:"notes_create",name:"notes",type:"text",maxlength:255,get value(){return r(ct)},set value(s){v(ct,s,!0)}}),f(B);var E=t(B,2),O=p(E);Se(O,{for:"status_create",children:(s,a)=>{n();var o=u("Status *");e(s,o)},$$slots:{default:!0}});var P=t(O,2);Ye(P,{type:"single",required:!0,get value(){return r(Je)},set value(s){v(Je,s,!0)},children:(s,a)=>{var o=ka(),i=$(o);Ze(i,{children:(b,C)=>{var m=Sa(),c=p(m,!0);f(m),D(_=>z(c,_),[()=>xt(r(Je))||"Select status"]),e(b,m)},$$slots:{default:!0}});var S=t(i,2);et(S,{children:(b,C)=>{var m=Ca(),c=$(m);W(c,{value:"pending",children:(J,V)=>{n();var F=u("Pending");e(J,F)},$$slots:{default:!0}});var _=t(c,2);W(_,{value:"confirmed",children:(J,V)=>{n();var F=u("Confirmed");e(J,F)},$$slots:{default:!0}});var y=t(_,2);W(y,{value:"completed",children:(J,V)=>{n();var F=u("Completed");e(J,F)},$$slots:{default:!0}});var N=t(y,2);W(N,{value:"cancelled",children:(J,V)=>{n();var F=u("Cancelled");e(J,F)},$$slots:{default:!0}});var H=t(N,2);W(H,{value:"no_show",children:(J,V)=>{n();var F=u("No Show");e(J,F)},$$slots:{default:!0}});var xe=t(H,2);W(xe,{value:"expired",children:(J,V)=>{n();var F=u("Expired");e(J,F)},$$slots:{default:!0}}),e(b,m)},$$slots:{default:!0}}),e(s,o)},$$slots:{default:!0}});var ge=t(P,2);Re(ge),f(E);var A=t(E,2),U=p(A);qe(U,{type:"submit",class:"flex-1",variant:"secondary",children:(s,a)=>{n();var o=u("Add Booking");e(s,o)},$$slots:{default:!0}});var le=t(U,2);qe(le,{type:"button",variant:"outline",onclick:()=>v(Ce,!1),children:(s,a)=>{n();var o=u("Cancel");e(s,o)},$$slots:{default:!0}}),f(A),f(Ne),f(he),Ct(he,(s,a)=>{var o;return(o=kt)==null?void 0:o(s,a)},()=>()=>async({result:s})=>{var a,o;s.type==="success"?(v(Ce,!1),await it("app:bookings"),ft("Booking created successfully!","create"),v(Ve,void 0),v(je,void 0),v(ut,""),v(vt,""),v(ct,""),v(Je,"pending"),v(T,null)):s.type==="failure"&&(v(T,typeof((a=s.data)==null?void 0:a.error)=="string"?s.data.error:JSON.stringify((o=s.data)==null?void 0:o.error)||"An error occurred",!0),mt(r(T)))}),D(()=>{ze(se,r(Ve)),ze(q,r(je)),ze(ge,r(Je))}),e(Ue,ae)},$$slots:{default:!0}})}),e(ie,ee)},$$slots:{default:!0}})}),e(I,ke)},$$slots:{default:!0}})});var Lt=t(Mt,2);x(Lt,()=>Xt,(l,L)=>{L(l,{get open(){return r(M)},set open(I){v(M,I,!0)},children:(I,X)=>{var ke=de(),Pe=$(ke);x(Pe,()=>Ut,(Be,$e)=>{$e(Be,{children:(ie,Me)=>{var ee=Ua(),Ae=$(ee);x(Ae,()=>Ht,(_e,pe)=>{pe(_e,{})});var De=t(Ae,2);x(De,()=>Vt,(_e,pe)=>{pe(_e,{class:"sm:max-w-[425px] p-6",children:(Ue,fe)=>{var ae=Oa(),me=$(ae);x(me,()=>jt,(a,o)=>{o(a,{children:(i,S)=>{var b=Ta(),C=$(b);x(C,()=>Jt,(c,_)=>{_(c,{children:(y,N)=>{n();var H=u("Edit Booking");e(y,H)},$$slots:{default:!0}})});var m=t(C,2);x(m,()=>Ft,(c,_)=>{_(c,{children:(y,N)=>{n();var H=u("Update the booking details below.");e(y,H)},$$slots:{default:!0}})}),e(i,b)},$$slots:{default:!0}})});var he=t(me,2),Ne=p(he);Re(Ne);var ye=t(Ne,2),Te=p(ye);{var Le=a=>{At(a,{variant:"destructive",children:(o,i)=>{var S=Ba(),b=$(S);zt(b,{class:"h-4 w-4"});var C=t(b,2);Et(C,{children:(m,c)=>{n();var _=u();D(()=>z(_,r(T))),e(m,_)},$$slots:{default:!0}}),e(o,S)},$$slots:{default:!0}})};dt(Te,a=>{r(T)&&a(Le)})}var Q=t(Te,2),ue=p(Q);Se(ue,{for:"client_id_edit",children:(a,o)=>{n();var i=u("Client *");e(a,i)},$$slots:{default:!0}});var se=t(ue,2);Ye(se,{type:"single",required:!0,get value(){return r(R).client_id},set value(a){r(R).client_id=a},children:(a,o)=>{var i=Ma(),S=$(i);Ze(S,{children:(C,m)=>{var c=Da(),_=p(c,!0);f(c),D(y=>z(_,y),[()=>{var y;return((y=k.data.clients.find(N=>N.id===r(R).client_id))==null?void 0:y.name)||"Select client"}]),e(C,c)},$$slots:{default:!0}});var b=t(S,2);et(b,{children:(C,m)=>{var c=de(),_=$(c);wt(_,17,()=>k.data.clients,St,(y,N)=>{W(y,{get value(){return r(N).id},children:(H,xe)=>{n();var J=u();D(()=>z(J,r(N).name)),e(H,J)},$$slots:{default:!0}})}),e(C,c)},$$slots:{default:!0}}),e(a,i)},$$slots:{default:!0}});var oe=t(se,2);Re(oe),f(Q);var w=t(Q,2),h=p(w);Se(h,{for:"purpose_edit",children:(a,o)=>{n();var i=u("Purpose *");e(a,i)},$$slots:{default:!0}});var q=t(h,2);Ye(q,{type:"single",required:!0,get value(){return r(R).purpose},set value(a){r(R).purpose=a},children:(a,o)=>{var i=qa(),S=$(i);Ze(S,{children:(C,m)=>{var c=La(),_=p(c,!0);f(c),D(()=>z(_,r(R).purpose||"Select purpose")),e(C,c)},$$slots:{default:!0}});var b=t(S,2);et(b,{children:(C,m)=>{var c=Ia(),_=$(c);W(_,{value:"reservation",children:(N,H)=>{n();var xe=u("Reservation");e(N,xe)},$$slots:{default:!0}});var y=t(_,2);W(y,{value:"consultation",children:(N,H)=>{n();var xe=u("Consultation");e(N,xe)},$$slots:{default:!0}}),e(C,c)},$$slots:{default:!0}}),e(a,i)},$$slots:{default:!0}});var te=t(q,2);Re(te),f(w);var G=t(w,2),be=p(G);Se(be,{for:"date_edit",children:(a,o)=>{n();var i=u("Date *");e(a,i)},$$slots:{default:!0}});var ve=t(be,2);He(ve,{id:"date_edit",name:"date",type:"date",required:!0,get value(){return r(R).date},set value(a){r(R).date=a}}),f(G);var we=t(G,2),Ie=p(we);Se(Ie,{for:"time_edit",children:(a,o)=>{n();var i=u("Time *");e(a,i)},$$slots:{default:!0}});var B=t(Ie,2);He(B,{id:"time_edit",name:"time",type:"time",required:!0,get value(){return r(R).time},set value(a){r(R).time=a}}),f(we);var Z=t(we,2),g=p(Z);Se(g,{for:"notes_edit",children:(a,o)=>{n();var i=u("Notes");e(a,i)},$$slots:{default:!0}});var E=t(g,2);He(E,{id:"notes_edit",name:"notes",type:"text",maxlength:255,get value(){return r(R).notes},set value(a){r(R).notes=a}}),f(Z);var O=t(Z,2),P=p(O);Se(P,{for:"status_edit",children:(a,o)=>{n();var i=u("Status *");e(a,i)},$$slots:{default:!0}});var ge=t(P,2);Ye(ge,{type:"single",required:!0,get value(){return r(R).status},set value(a){r(R).status=a},children:(a,o)=>{var i=Ea(),S=$(i);Ze(S,{children:(C,m)=>{var c=Ra(),_=p(c,!0);f(c),D(y=>z(_,y),[()=>xt(r(R).status||"")||"Select status"]),e(C,c)},$$slots:{default:!0}});var b=t(S,2);et(b,{children:(C,m)=>{var c=za(),_=$(c);W(_,{value:"pending",children:(V,F)=>{n();var ne=u("Pending");e(V,ne)},$$slots:{default:!0}});var y=t(_,2);W(y,{value:"confirmed",children:(V,F)=>{n();var ne=u("Confirmed");e(V,ne)},$$slots:{default:!0}});var N=t(y,2);W(N,{value:"completed",children:(V,F)=>{n();var ne=u("Completed");e(V,ne)},$$slots:{default:!0}});var H=t(N,2);W(H,{value:"cancelled",children:(V,F)=>{n();var ne=u("Cancelled");e(V,ne)},$$slots:{default:!0}});var xe=t(H,2);W(xe,{value:"no_show",children:(V,F)=>{n();var ne=u("No Show");e(V,ne)},$$slots:{default:!0}});var J=t(xe,2);W(J,{value:"expired",children:(V,F)=>{n();var ne=u("Expired");e(V,ne)},$$slots:{default:!0}}),e(C,c)},$$slots:{default:!0}}),e(a,i)},$$slots:{default:!0}});var A=t(ge,2);Re(A),f(O);var U=t(O,2),le=p(U);qe(le,{type:"submit",class:"flex-1",children:(a,o)=>{n();var i=u("Save Changes");e(a,i)},$$slots:{default:!0}});var s=t(le,2);qe(s,{type:"button",variant:"outline",onclick:Gt,children:(a,o)=>{n();var i=u("Cancel");e(a,i)},$$slots:{default:!0}}),f(U),f(ye),f(he),Ct(he,(a,o)=>{var i;return(i=kt)==null?void 0:i(a,o)},()=>()=>async({result:a})=>{var o,i;a.type==="success"?(v(M,!1),await it("app:bookings"),ft("Booking updated successfully!","update"),v($t,null),v(R,{},!0),v(re,null)):a.type==="failure"&&(v(T,typeof((o=a.data)==null?void 0:o.error)=="string"?a.data.error:JSON.stringify((i=a.data)==null?void 0:i.error)||"An error occurred",!0),mt(r(T)))}),D(()=>{ze(Ne,r($t)),ze(oe,r(R).client_id),ze(te,r(R).purpose),ze(A,r(R).status)}),e(Ue,ae)},$$slots:{default:!0}})}),e(ie,ee)},$$slots:{default:!0}})}),e(I,ke)},$$slots:{default:!0}})});var It=t(Lt,2);x(It,()=>Pr,(l,L)=>{L(l,{get open(){return r(Y)},set open(I){v(Y,I,!0)},children:(I,X)=>{var ke=de(),Pe=$(ke);x(Pe,()=>_r,(Be,$e)=>{$e(Be,{children:(ie,Me)=>{var ee=Ja(),Ae=$(ee);x(Ae,()=>pr,(_e,pe)=>{pe(_e,{})});var De=t(Ae,2);x(De,()=>fr,(_e,pe)=>{pe(_e,{children:(Ue,fe)=>{var ae=ja(),me=$(ae);x(me,()=>mr,(Ne,ye)=>{ye(Ne,{children:(Te,Le)=>{var Q=Ha(),ue=$(Q);x(ue,()=>hr,(oe,w)=>{w(oe,{children:(h,q)=>{n();var te=u("Delete Booking");e(h,te)},$$slots:{default:!0}})});var se=t(ue,2);x(se,()=>gr,(oe,w)=>{w(oe,{children:(h,q)=>{n();var te=u();D((G,be)=>{var ve;return z(te,`Are you sure you want to delete the booking for "${((ve=r(ot))==null?void 0:ve.client_name)??""}" on ${G??""} at ${be??""}? This action cannot be undone.`)},[()=>{var G;return gt((G=r(ot))==null?void 0:G.date)},()=>{var G;return Tt((G=r(ot))==null?void 0:G.time)}]),e(h,te)},$$slots:{default:!0}})}),e(Te,Q)},$$slots:{default:!0}})});var he=t(me,2);x(he,()=>xr,(Ne,ye)=>{ye(Ne,{children:(Te,Le)=>{var Q=Va(),ue=p(Q);Re(ue);var se=t(ue,2);qe(se,{type:"button",variant:"outline",onclick:()=>v(Y,!1),children:(w,h)=>{n();var q=u("Cancel");e(w,q)},$$slots:{default:!0}});var oe=t(se,2);qe(oe,{type:"submit",variant:"destructive",children:(w,h)=>{n();var q=u("Delete");e(w,q)},$$slots:{default:!0}}),f(Q),Ct(Q,(w,h)=>{var q;return(q=kt)==null?void 0:q(w,h)},()=>()=>async({result:w})=>{var h,q;w.type==="success"?(v(Y,!1),await it("app:bookings"),ft("Booking deleted successfully!","delete")):w.type==="failure"&&(v(T,typeof((h=w.data)==null?void 0:h.error)=="string"?w.data.error:JSON.stringify((q=w.data)==null?void 0:q.error)||"An error occurred",!0),mt(r(T)))}),D(()=>{var w;return ze(ue,(w=r(ot))==null?void 0:w.id)}),e(Te,Q)},$$slots:{default:!0}})}),e(Ue,ae)},$$slots:{default:!0}})}),e(ie,ee)},$$slots:{default:!0}})}),e(I,ke)},$$slots:{default:!0}})});var qt=t(It,2),sr=p(qt);{var or=l=>{var L=Xa(),I=p(L);At(I,{get variant(){return Fe},get class(){return Xe},children:(X,ke)=>{var Pe=Fa(),Be=$(Pe);kr(Be,{});var $e=t(Be,2);yr($e,{children:(ie,Me)=>{n();var ee=u();D(()=>z(ee,pt)),e(ie,ee)},$$slots:{default:!0}}),e(X,Pe)},$$slots:{default:!0}}),f(L),e(l,L)};dt(sr,l=>{r(lt)&&l(or)})}f(qt),e(ce,Bt),ir()}export{ks as component};
