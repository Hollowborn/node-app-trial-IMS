import{p as Je,d as q,a as e,f as v,t as _}from"../chunks/CY4Ce0c4.js";import{p as we,k as o,o as De,u as s,v as pe,c as D,w as Ke,r as C,x as Pt,l as Q,m as Xe,C as nt,s as r,t as Fe,q as d,n as f}from"../chunks/BdQXYw_T.js";import{s as He}from"../chunks/BO5sSAji.js";import{p as oe,i as J,r as ke,l as xt,s as ze,a as yt,b as wt}from"../chunks/D9hGQICX.js";import{e as Dt,i as Ct}from"../chunks/DsUCSRu3.js";import{c as ce}from"../chunks/B7wWqVz8.js";import{a as Te,e as Ue,A as It}from"../chunks/D8SxGvop.js";import{b as Ie,a as Qe,r as kt,s as At}from"../chunks/BZ9DdiR_.js";import{i as it}from"../chunks/Bex-ZZ3I.js";import{i as St,c as Tt,u as dt}from"../chunks/CPTLTW40.js";import{R as Ut,P as Nt}from"../chunks/0urWu8Wf.js";import{b as vt,B as xe}from"../chunks/MTanKdmA.js";import{I as ye}from"../chunks/79yj6mvb.js";import{L as fe}from"../chunks/BXiYU_fU.js";import{C as Le,a as Oe,b as Re,c as Be}from"../chunks/C8nz08U9.js";import{C as qe}from"../chunks/DIDi3WRX.js";import{S as Ge}from"../chunks/CPLOLVSj.js";import{a as Ft,b as Lt,A as Ot}from"../chunks/DKAGjdov.js";import{R as Rt,a as Bt,b as qt,c as zt,d as Et,e as Mt,f as jt}from"../chunks/UFUhM6vw.js";import"../chunks/BCMyTCEX.js";import{s as Vt}from"../chunks/B_4Zpmki.js";import{I as Wt}from"../chunks/BOqc4mWw.js";import{X as Xt}from"../chunks/Dt21h0cY.js";import{T as Ht,a as Gt}from"../chunks/D_UmtYL2.js";import{f as ge}from"../chunks/DYevSITT.js";import{c as Ye,m as Ze}from"../chunks/BnoYQOO4.js";import{h as Jt,A as Kt,i as Qt}from"../chunks/6xhieDVM.js";import{c as ct}from"../chunks/BDEhTM1z.js";import{C as Yt}from"../chunks/BHfZQdl9.js";var Zt=v("<button><!></button>");function er(k,t){const R=Je();we(t,!0);let j=oe(t,"id",19,()=>Ye(R)),$=oe(t,"ref",15,null),B=ke(t,["$$slots","$$events","$$legacy","children","child","id","ref"]);const I=Jt.create({id:ge.with(()=>j()),ref:ge.with(()=>$(),N=>$(N))}),P=pe(()=>Ze(B,I.props));var A=q(),V=o(A);{var te=N=>{var n=q(),b=o(n);Ie(b,()=>t.child,()=>({props:s(P)})),e(N,n)},K=N=>{var n=Zt();Qe(n,()=>({...s(P)}));var b=D(n);Ie(b,()=>t.children??Ke),C(n),e(N,n)};J(V,N=>{t.child?N(te):N(K,!1)})}e(k,A),De()}var tr=v("<button><!></button>");function rr(k,t){const R=Je();we(t,!0);let j=oe(t,"id",19,()=>Ye(R)),$=oe(t,"ref",15,null),B=oe(t,"disabled",3,!1),I=ke(t,["$$slots","$$events","$$legacy","id","ref","children","child","disabled"]);const P=Kt.create({id:ge.with(()=>j()),ref:ge.with(()=>$(),n=>$(n)),disabled:ge.with(()=>!!B())}),A=pe(()=>Ze(I,P.props));var V=q(),te=o(V);{var K=n=>{var b=q(),re=o(b);Ie(re,()=>t.child,()=>({props:s(A)})),e(n,b)},N=n=>{var b=tr();Qe(b,()=>({...s(A)}));var re=D(b);Ie(re,()=>t.children??Ke),C(b),e(n,b)};J(te,n=>{t.child?n(K):n(N,!1)})}e(k,V),De()}var ar=v("<button><!></button>");function sr(k,t){const R=Je();we(t,!0);let j=oe(t,"id",19,()=>Ye(R)),$=oe(t,"ref",15,null),B=oe(t,"disabled",3,!1),I=ke(t,["$$slots","$$events","$$legacy","id","ref","children","child","disabled"]);const P=Qt.create({id:ge.with(()=>j()),ref:ge.with(()=>$(),n=>$(n)),disabled:ge.with(()=>!!B())}),A=pe(()=>Ze(I,P.props));var V=q(),te=o(V);{var K=n=>{var b=q(),re=o(b);Ie(re,()=>t.child,()=>({props:s(A)})),e(n,b)},N=n=>{var b=ar();Qe(b,()=>({...s(A)}));var re=D(b);Ie(re,()=>t.children??Ke),C(b),e(n,b)};J(te,n=>{t.child?n(K):n(N,!1)})}e(k,V),De()}function Ne(k,t){const R=xt(t,["children","$$slots","$$events","$$legacy"]),j=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56"}]];Wt(k,ze({name:"loader-2"},()=>R,{get iconNode(){return j},children:($,B)=>{var I=q(),P=o(I);Vt(P,t,"default",{}),e($,I)},$$slots:{default:!0}}))}function or(k,t){we(t,!0);let R=oe(t,"ref",15,null),j=ke(t,["$$slots","$$events","$$legacy","ref"]);var $=q(),B=o($);ce(B,()=>sr,(I,P)=>{P(I,ze({"data-slot":"alert-dialog-trigger"},()=>j,{get ref(){return R()},set ref(A){R(A)}}))}),e(k,$),De()}function lr(k,t){we(t,!0);let R=oe(t,"ref",15,null),j=ke(t,["$$slots","$$events","$$legacy","ref","class"]);var $=q(),B=o($);const I=pe(()=>ct(vt(),t.class));ce(B,()=>er,(P,A)=>{A(P,ze({"data-slot":"alert-dialog-action",get class(){return s(I)}},()=>j,{get ref(){return R()},set ref(V){R(V)}}))}),e(k,$),De()}function nr(k,t){we(t,!0);let R=oe(t,"ref",15,null),j=ke(t,["$$slots","$$events","$$legacy","ref","class"]);var $=q(),B=o($);const I=pe(()=>ct(vt({variant:"outline"}),t.class));ce(B,()=>rr,(P,A)=>{A(P,ze({"data-slot":"alert-dialog-cancel",get class(){return s(I)}},()=>j,{get ref(){return R()},set ref(V){R(V)}}))}),e(k,$),De()}const ir=[{name:"Default",value:"default",primaryColor:"oklch(0.205 0 0)"},{name:"Tangerine",value:"tangerine",primaryColor:"oklch(0.6397 0.1720 36.4421)"},{name:"Minimal Blue",value:"blue",primaryColor:"oklch(0.5461 0.2152 262.8809)"},{name:"Ocean Breeze",value:"ocean",primaryColor:"oklch(0.7227 0.192 149.5793)"},{name:"Northern Lights",value:"northern",primaryColor:"oklch(0.6487 0.1538 150.3071)"}],dr=localStorage.getItem("custom-theme")||"default",ut=Pt(dr);ut.subscribe(k=>{document.documentElement.setAttribute("data-theme",k),localStorage.setItem("custom-theme",k)});function vr(k){ut.set(k)}var cr=v("<!> <!>",1),ur=v("<p> </p>"),fr=v("<!> <!>",1),mr=v("<!> <!>",1),_r=v("<!> <!>",1),pr=v("<!> <!>",1),gr=v("<!> Remove Image",1),$r=v('<input type="hidden" name="removeProfileImage" value="true"/>'),hr=v("<!> Saving...",1),br=v('<form method="POST" action="?/updateProfile" enctype="multipart/form-data"><div class="space-y-6"><div class="flex items-center gap-6"><!> <div class="space-y-2"><!> <!> <!> <input type="hidden" name="currentImagePath"/> <!></div></div> <div class="space-y-2"><!> <!></div> <!></div></form>'),Pr=v("<!> <!>",1),xr=v("<!> <!>",1),yr=v('<p class="text-red-500 text-sm">Passwords do not match.</p>'),wr=v("<!> Updating...",1),Dr=v('<form method="POST" action="?/updateCredentials"><div class="space-y-6"><div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!> <!></div> <!></div></form>'),Cr=v("<!> <!>",1),Ir=v("<!> <!>",1),kr=v("<!> Resetting...",1),Ar=v("<!> <!>",1),Sr=v("<!> <!>",1),Tr=v("<!> <!>",1),Ur=v("<!> <!>",1),Nr=v("<!> Saving...",1),Fr=v("<!> Importing...",1),Lr=v('<p class="text-red-500 text-sm mt-1">Invalid file type. Please select a .sqlite or .db file.</p>'),Or=v('<div class="space-y-2"><!> <p class="text-sm text-gray-700 dark:text-gray-300">Delete all data from all tables, retaining the table structure. <span class="font-semibold text-red-600 dark:text-red-400">This action is irreversible.</span></p> <!> <form id="resetDbForm" method="POST" action="?/resetDatabase" class="hidden"></form></div> <!> <div class="space-y-2"><!> <p class="text-sm text-gray-700 dark:text-gray-300">Create a backup copy of your current database file.</p> <form method="POST" action="?/saveDatabase"><!></form></div> <!> <div class="space-y-2"><!> <p class="text-sm text-gray-700 dark:text-gray-300">Overwrite the current database with a selected backup file. <span class="font-semibold text-red-600 dark:text-red-400">This action is irreversible and will replace ALL existing data.</span></p> <form method="POST" action="?/importDatabase" enctype="multipart/form-data"><!> <!> <!></form></div>',1),Rr=v("<!> <!>",1),Br=v("<!> <!>",1),qr=v('<div class="pointer-events-auto"><!></div>'),zr=v('<div class="space-y-8 p-6"><h1 class="text-3xl font-bold">Settings</h1> <p class="text-gray-500">Manage your profile, account, and application settings.</p> <!> <!> <!> <!> <!></div> <div class="fixed inset-x-0 bottom-6 flex justify-center z-50 pointer-events-none"><!></div>',1);function pa(k,t){we(t,!0);const[R,j]=yt(),$=()=>wt(Tt,"$currentUser",R);let B=Q(Xe(t.data.user.display_name||t.data.user.username)),I=Q(null),P=Q(Xe(t.data.user.profileImage)),A=Q(!1),V=Q(""),te=Q(""),K=Q(""),N=Q(""),n=Xe({profile:!1,credentials:!1,resetDb:!1,saveDb:!1,importDb:!1}),b=Q(!1),re=Q(""),Ee=Q("default"),Me=Q(""),$e=Q(null);nt(()=>{$().display_name!==s(B)&&d(B,$().display_name,!0)}),nt(()=>{$().profileImage!==s(P)&&!s(I)&&!s(A)&&d(P,$().profileImage,!0)});function ft(p){d(re,p,!0),d(Ee,"default"),d(Me,"bg-primary text-primary-foreground"),d(b,!0),setTimeout(()=>d(b,!1),3e3)}function et(p){d(re,p,!0),d(Ee,"destructive"),d(Me,""),d(b,!0),setTimeout(()=>d(b,!1),3e3)}function mt(p){const h=p.target;h.files&&h.files[0]?(d(I,h.files[0],!0),d(P,URL.createObjectURL(s(I)),!0),d(A,!1)):(d(I,null),d(P,$().profileImage,!0))}function _t(){d(I,null),d(P,null),d(A,!0)}function Ae(p){return()=>(n[p]=!0,async({result:h,update:W})=>{var E,Y,F,X,m;if(n[p]=!1,h.type==="success"){if(ft(((E=h.data)==null?void 0:E.message)||"Operation successful!"),p==="profile"){const c=(Y=h.data)!=null&&Y.profileImage?`/api/uploads/${h.data.profileImage.replace(/\\/g,"/")}`:null;dt({display_name:((F=h.data)==null?void 0:F.displayName)||s(B),profile_image:c}),d(P,c,!0),d(I,null),d(A,!1)}else if(p==="credentials")s(te)&&dt({username:s(te)}),d(V,""),d(te,""),d(K,""),d(N,"");else if(p==="importDb"){d($e,null);const c=document.getElementById("importDbFile");c&&(c.value="")}await it("app:settings"),await it("app:user-data"),W()}else h.type==="failure"?(et(((X=h.data)==null?void 0:X.message)||"Operation failed."),W()):h.type==="error"&&(et(((m=h.error)==null?void 0:m.message)||"An unexpected error occurred."),W())})}function pt(p){const h=p.target;h.files&&h.files[0]?d($e,h.files[0],!0):d($e,null)}var tt=zr(),je=o(tt),rt=r(D(je),4);Ge(rt,{});var at=r(rt,2);Le(at,{class:"max-w-2xl mx-auto",children:(p,h)=>{var W=mr(),E=o(W);Oe(E,{children:(F,X)=>{var m=cr(),c=o(m);Re(c,{children:(u,S)=>{f();var x=_("Application Theme");e(u,x)},$$slots:{default:!0}});var w=r(c,2);qe(w,{children:(u,S)=>{f();var x=_("Customize the look and feel of the application.");e(u,x)},$$slots:{default:!0}}),e(F,m)},$$slots:{default:!0}});var Y=r(E,2);Be(Y,{class:"flex gap-3",children:(F,X)=>{var m=q(),c=o(m);Dt(c,17,()=>ir,Ct,(w,u)=>{var S=q(),x=o(S);ce(x,()=>Nt,(G,le)=>{le(G,{delayDuration:50,children:(ne,ae)=>{var me=q(),ie=o(me);ce(ie,()=>Ut,(se,de)=>{de(se,{children:(ue,he)=>{var g=fr(),z=o(g);ce(z,()=>Ht,(T,a)=>{a(T,{children:(y,i)=>{xe(y,{variant:"outline",class:"icon",get style(){return`background-color: ${s(u).primaryColor??""};`},onclick:()=>vr(s(u).value)})},$$slots:{default:!0}})});var l=r(z,2);ce(l,()=>Gt,(T,a)=>{a(T,{children:(y,i)=>{var L=ur(),U=D(L,!0);C(L),Fe(()=>He(U,s(u).name)),e(y,L)},$$slots:{default:!0}})}),e(ue,g)},$$slots:{default:!0}})}),e(ne,me)},$$slots:{default:!0}})}),e(w,S)}),e(F,m)},$$slots:{default:!0}}),e(p,W)},$$slots:{default:!0}});var st=r(at,2);Le(st,{class:"max-w-2xl mx-auto",children:(p,h)=>{var W=Pr(),E=o(W);Oe(E,{children:(F,X)=>{var m=_r(),c=o(m);Re(c,{children:(u,S)=>{f();var x=_("Profile Information");e(u,x)},$$slots:{default:!0}});var w=r(c,2);qe(w,{children:(u,S)=>{f();var x=_("Update your display name and profile avatar.");e(u,x)},$$slots:{default:!0}}),e(F,m)},$$slots:{default:!0}});var Y=r(E,2);Be(Y,{children:(F,X)=>{var m=br(),c=D(m),w=D(c),u=D(w);ce(u,()=>Ot,(g,z)=>{z(g,{class:"h-24 w-24",children:(l,T)=>{var a=pr(),y=o(a);const i=pe(()=>s(P)||void 0);ce(y,()=>Ft,(U,M)=>{M(U,{get src(){return s(i)},alt:"Profile"})});var L=r(y,2);ce(L,()=>Lt,(U,M)=>{M(U,{children:(O,H)=>{f();var ve=_();Fe(Ce=>He(ve,Ce),[()=>t.data.user.display_name.substring(0,2).toUpperCase()]),e(O,ve)},$$slots:{default:!0}})}),e(l,a)},$$slots:{default:!0}})});var S=r(u,2),x=D(S);fe(x,{for:"profileImage",children:(g,z)=>{f();var l=_("Profile Image");e(g,l)},$$slots:{default:!0}});var G=r(x,2);ye(G,{id:"profileImage",name:"profileImage",type:"file",accept:"image/*",onchange:mt,class:"cursor-pointer"});var le=r(G,2);{var ne=g=>{xe(g,{type:"button",variant:"ghost",size:"sm",onclick:_t,children:(z,l)=>{var T=gr(),a=o(T);Xt(a,{class:"h-4 w-4 mr-1 text-red-500"}),f(),e(z,T)},$$slots:{default:!0}})};J(le,g=>{s(P)&&g(ne)})}var ae=r(le,2);kt(ae);var me=r(ae,2);{var ie=g=>{var z=$r();e(g,z)};J(me,g=>{s(A)&&g(ie)})}C(S),C(w);var se=r(w,2),de=D(se);fe(de,{for:"displayName",children:(g,z)=>{f();var l=_("Display Name");e(g,l)},$$slots:{default:!0}});var ue=r(de,2);ye(ue,{id:"displayName",name:"displayName",get placeholder(){return t.data.user.display_name},maxlength:20,get value(){return s(B)},set value(g){d(B,g,!0)}}),C(se);var he=r(se,2);xe(he,{type:"submit",get disabled(){return n.profile},children:(g,z)=>{var l=q(),T=o(l);{var a=i=>{var L=hr(),U=o(L);Ne(U,{class:"mr-2 h-4 w-4 animate-spin"}),f(),e(i,L)},y=i=>{var L=_("Save Profile");e(i,L)};J(T,i=>{n.profile?i(a):i(y,!1)})}e(g,l)},$$slots:{default:!0}}),C(c),C(m),Te(m,(g,z)=>{var l;return(l=Ue)==null?void 0:l(g,z)},()=>Ae("profile")),Fe(()=>At(ae,s(P)||"")),e(F,m)},$$slots:{default:!0}}),e(p,W)},$$slots:{default:!0}});var ot=r(st,2);Le(ot,{class:"max-w-2xl mx-auto",children:(p,h)=>{var W=Cr(),E=o(W);Oe(E,{children:(F,X)=>{var m=xr(),c=o(m);Re(c,{children:(u,S)=>{f();var x=_("Account Credentials");e(u,x)},$$slots:{default:!0}});var w=r(c,2);qe(w,{children:(u,S)=>{f();var x=_("Change your username and password.");e(u,x)},$$slots:{default:!0}}),e(F,m)},$$slots:{default:!0}});var Y=r(E,2);Be(Y,{children:(F,X)=>{var m=Dr(),c=D(m),w=D(c),u=D(w);fe(u,{for:"currentPassword",children:(l,T)=>{f();var a=_("Current Password *");e(l,a)},$$slots:{default:!0}});var S=r(u,2);ye(S,{id:"currentPassword",name:"currentPassword",type:"password",required:!0,get value(){return s(V)},set value(l){d(V,l,!0)}}),C(w);var x=r(w,2),G=D(x);fe(G,{for:"newUsername",children:(l,T)=>{f();var a=_("New Username");e(l,a)},$$slots:{default:!0}});var le=r(G,2);ye(le,{id:"newUsername",name:"newUsername",type:"text",placeholder:"Leave blank to keep current",maxlength:"40",get value(){return s(te)},set value(l){d(te,l,!0)}}),C(x);var ne=r(x,2),ae=D(ne);fe(ae,{for:"newPassword",children:(l,T)=>{f();var a=_("New Password");e(l,a)},$$slots:{default:!0}});var me=r(ae,2);ye(me,{id:"newPassword",name:"newPassword",type:"password",placeholder:"Leave blank to keep current",minlength:"8",get value(){return s(K)},set value(l){d(K,l,!0)}}),C(ne);var ie=r(ne,2),se=D(ie);fe(se,{for:"confirmNewPassword",children:(l,T)=>{f();var a=_("Confirm New Password");e(l,a)},$$slots:{default:!0}});var de=r(se,2);ye(de,{id:"confirmNewPassword",name:"confirmNewPassword",type:"password",get value(){return s(N)},set value(l){d(N,l,!0)}});var ue=r(de,2);{var he=l=>{var T=yr();e(l,T)};J(ue,l=>{s(K)&&s(N)&&s(K)!==s(N)&&l(he)})}C(ie);var g=r(ie,2);const z=pe(()=>n.credentials||s(K)&&s(K)!==s(N));xe(g,{type:"submit",get disabled(){return s(z)},children:(l,T)=>{var a=q(),y=o(a);{var i=U=>{var M=wr(),O=o(M);Ne(O,{class:"mr-2 h-4 w-4 animate-spin"}),f(),e(U,M)},L=U=>{var M=_("Update Credentials");e(U,M)};J(y,U=>{n.credentials?U(i):U(L,!1)})}e(l,a)},$$slots:{default:!0}}),C(c),C(m),Te(m,(l,T)=>{var a;return(a=Ue)==null?void 0:a(l,T)},()=>Ae("credentials")),e(F,m)},$$slots:{default:!0}}),e(p,W)},$$slots:{default:!0}});var gt=r(ot,2);{var $t=p=>{Le(p,{class:"max-w-2xl mx-auto border-red-500 bg-red-50/50 dark:bg-red-950/20",children:(h,W)=>{var E=Rr(),Y=o(E);Oe(Y,{children:(X,m)=>{var c=Ir(),w=o(c);Re(w,{class:"text-red-600 dark:text-red-400",children:(S,x)=>{f();var G=_("Admin: Database Management");e(S,G)},$$slots:{default:!0}});var u=r(w,2);qe(u,{class:"text-red-500 dark:text-red-300",children:(S,x)=>{f();var G=_("Caution: These operations are irreversible and affect all application data.");e(S,G)},$$slots:{default:!0}}),e(X,c)},$$slots:{default:!0}});var F=r(Y,2);Be(F,{class:"space-y-6",children:(X,m)=>{var c=Or(),w=o(c),u=D(w);fe(u,{class:"text-lg font-medium",children:(a,y)=>{f();var i=_("Reset Database");e(a,i)},$$slots:{default:!0}});var S=r(u,4);Rt(S,{children:(a,y)=>{var i=Ur(),L=o(i);or(L,{asChild:!0,children:(M,O)=>{xe(M,{variant:"destructive",class:"mt-2",get disabled(){return n.resetDb},children:(H,ve)=>{var Ce=q(),Se=o(Ce);{var Ve=Z=>{var _e=kr(),ee=o(_e);Ne(ee,{class:"mr-2 h-4 w-4 animate-spin"}),f(),e(Z,_e)},be=Z=>{var _e=_("Reset Database");e(Z,_e)};J(Se,Z=>{n.resetDb?Z(Ve):Z(be,!1)})}e(H,Ce)},$$slots:{default:!0}})},$$slots:{default:!0}});var U=r(L,2);Bt(U,{children:(M,O)=>{var H=Tr(),ve=o(H);qt(ve,{children:(Se,Ve)=>{var be=Ar(),Z=o(be);zt(Z,{children:(ee,We)=>{f();var Pe=_("Are you absolutely sure?");e(ee,Pe)},$$slots:{default:!0}});var _e=r(Z,2);Et(_e,{children:(ee,We)=>{f();var Pe=_(`This action cannot be undone. This will permanently delete all data from your database,\r
                                    while keeping the table structure.`);e(ee,Pe)},$$slots:{default:!0}}),e(Se,be)},$$slots:{default:!0}});var Ce=r(ve,2);Mt(Ce,{children:(Se,Ve)=>{var be=Sr(),Z=o(be);nr(Z,{children:(ee,We)=>{f();var Pe=_("Cancel");e(ee,Pe)},$$slots:{default:!0}});var _e=r(Z,2);lr(_e,{onclick:()=>{const ee=document.getElementById("resetDbForm");ee&&ee.requestSubmit()},children:(ee,We)=>{f();var Pe=_("Continue");e(ee,Pe)},$$slots:{default:!0}}),e(Se,be)},$$slots:{default:!0}}),e(M,H)},$$slots:{default:!0}}),e(a,i)},$$slots:{default:!0}});var x=r(S,2);Te(x,(a,y)=>{var i;return(i=Ue)==null?void 0:i(a,y)},()=>Ae("resetDb")),C(w);var G=r(w,2);Ge(G,{});var le=r(G,2),ne=D(le);fe(ne,{class:"text-lg font-medium",children:(a,y)=>{f();var i=_("Save Database");e(a,i)},$$slots:{default:!0}});var ae=r(ne,4),me=D(ae);xe(me,{type:"submit",class:"mt-2",get disabled(){return n.saveDb},children:(a,y)=>{var i=q(),L=o(i);{var U=O=>{var H=Nr(),ve=o(H);Ne(ve,{class:"mr-2 h-4 w-4 animate-spin"}),f(),e(O,H)},M=O=>{var H=_("Save Database");e(O,H)};J(L,O=>{n.saveDb?O(U):O(M,!1)})}e(a,i)},$$slots:{default:!0}}),C(ae),Te(ae,(a,y)=>{var i;return(i=Ue)==null?void 0:i(a,y)},()=>Ae("saveDb")),C(le);var ie=r(le,2);Ge(ie,{});var se=r(ie,2),de=D(se);fe(de,{class:"text-lg font-medium",children:(a,y)=>{f();var i=_("Import Database");e(a,i)},$$slots:{default:!0}});var ue=r(de,4),he=D(ue);ye(he,{id:"importDbFile",name:"dbFile",type:"file",accept:".sqlite,.db",onchange:pt,class:"cursor-pointer mb-2",required:!0});var g=r(he,2);const z=pe(()=>n.importDb||!s($e));xe(g,{type:"submit",class:"mt-2",get disabled(){return s(z)},children:(a,y)=>{var i=q(),L=o(i);{var U=O=>{var H=Fr(),ve=o(H);Ne(ve,{class:"mr-2 h-4 w-4 animate-spin"}),f(),e(O,H)},M=O=>{var H=_("Import Database");e(O,H)};J(L,O=>{n.importDb?O(U):O(M,!1)})}e(a,i)},$$slots:{default:!0}});var l=r(g,2);{var T=a=>{var y=Lr();e(a,y)};J(l,a=>{s($e)&&!s($e).name.endsWith(".sqlite")&&!s($e).name.endsWith(".db")&&a(T)})}C(ue),Te(ue,(a,y)=>{var i;return(i=Ue)==null?void 0:i(a,y)},()=>Ae("importDb")),C(se),e(X,c)},$$slots:{default:!0}}),e(h,E)},$$slots:{default:!0}})};J(gt,p=>{St($().role)&&p($t)})}C(je);var lt=r(je,2),ht=D(lt);{var bt=p=>{var h=qr(),W=D(h);It(W,{get variant(){return s(Ee)},get class(){return s(Me)},children:(E,Y)=>{var F=Br(),X=o(F);Yt(X,{});var m=r(X,2);jt(m,{children:(c,w)=>{f();var u=_();Fe(()=>He(u,s(re))),e(c,u)},$$slots:{default:!0}}),e(E,F)},$$slots:{default:!0}}),C(h),e(p,h)};J(ht,p=>{s(b)&&p(bt)})}C(lt),e(k,tt),De(),j()}export{pa as component};
