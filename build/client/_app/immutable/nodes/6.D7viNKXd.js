import{f as n,a as e,t as v,d as Le}from"../chunks/CY4Ce0c4.js";import{p as dr,l as X,m as it,s as t,k as _,o as nr,t as F,c as f,q as l,u as r,n as i,v as qe,r as m}from"../chunks/BdQXYw_T.js";import{s as Q}from"../chunks/BO5sSAji.js";import{i as pe}from"../chunks/D9hGQICX.js";import{e as ir,i as vr}from"../chunks/DsUCSRu3.js";import{c as $}from"../chunks/B7wWqVz8.js";import{a as xt,e as yt,A as Pt}from"../chunks/B6zvQKrV.js";import{r as We,s as Ye}from"../chunks/BZ9DdiR_.js";import{i as dt,g as Bt}from"../chunks/DwnJwU6j.js";import{B as xe}from"../chunks/MTanKdmA.js";import{I as ke}from"../chunks/79yj6mvb.js";import{C as ur,a as cr,b as _r,c as $r}from"../chunks/C8nz08U9.js";import{L as de}from"../chunks/BXiYU_fU.js";import{A as Rt,a as zt}from"../chunks/DG-I9f0P.js";import{P as pr,A as fr,a as mr,b as hr,c as gr,d as xr,e as yr,R as Pr,f as br}from"../chunks/UFUhM6vw.js";import{T as wr,a as Cr,b as Lt,c as Ee,d as Ar,P as qt,D as Et,e as Ft,f as Ut,g as Mt,h as jt,R as Jt,i as Fe,S as kr,C as Sr}from"../chunks/CEVutZxn.js";import{R as vt,S as ut,a as ct,b as Be}from"../chunks/0sm_qxqv.js";import{B as Vt}from"../chunks/_cz2kCqa.js";import{A as bt,a as wt,b as Ct}from"../chunks/DKAGjdov.js";import{R as Gt,P as Xt}from"../chunks/0urWu8Wf.js";import{S as Tr}from"../chunks/CPLOLVSj.js";import{S as Ir}from"../chunks/CfmL5u39.js";import{P as Dr,C as Or,T as Nr}from"../chunks/CTGOP75E.js";import{X as At}from"../chunks/Dt21h0cY.js";import{A as Br,a as Rr}from"../chunks/DgoSFWl1.js";import{F as zr}from"../chunks/CjnbRfgs.js";import{G as Lr,B as qr}from"../chunks/73OGGqlS.js";import{I as Er}from"../chunks/0dNO5ytf.js";import{T as Qt,a as Ht}from"../chunks/D_UmtYL2.js";import{C as Fr}from"../chunks/BO-JY_3Z.js";import{C as Ur}from"../chunks/BQbVfyjS.js";var Mr=n("<!> <!>",1),jr=n("<!> Add Client",1),Jr=n('<div class="text-center py-8 text-gray-500">No clients found</div>'),Vr=n('<div class="flex items-center gap-1">Name <!></div>'),Gr=n('<div class="flex items-center gap-1">Operator Type <!></div>'),Xr=n('<div class="flex items-center gap-1">Address <!></div>'),Qr=n('<div class="flex items-center gap-1">Contact Number <!></div>'),Hr=n('<div class="flex items-center gap-1">Birthday <!></div>'),Kr=n('<div class="flex items-center gap-1">Status <!></div>'),Wr=n("<!> <!> <!> <!> <!> <!> <!> <!>",1),Yr=n("<!> <!>",1),Zr=n("<!> ",1),ea=n("<p> </p>"),ta=n("<!> <!>",1),ra=n("<!> ",1),aa=n("<p>View Stocking Info</p>"),sa=n("<!> <!>",1),oa=n('<div class="flex flex justify-center space-x-2"><!> <!> <!></div>'),la=n("<!> <!> <!> <!> <!> <!> <!> <!>",1),da=n("<!> <!>",1),na=n('<div class="border rounded-lg"><!></div>'),ia=n('<div class="flex items-center gap-4 mb-4"><div class="relative flex-1"><!> <!></div> <!></div> <!>',1),va=n("<!> <!>",1),ua=n("<!> <!>",1),ca=n("<!> <!>",1),_a=n("<!> <!>",1),$a=n("<!> Remove Image",1),pa=n('<p class="text-red-500 text-sm">Image size exceeds 5MB limit.</p>'),fa=n("<span> </span>"),ma=n("<!> <!> <!>",1),ha=n("<!> <!>",1),ga=n("<span> </span>"),xa=n("<!> <!>",1),ya=n("<!> <!>",1),Pa=n('<!> <form method="POST" action="?/create" enctype="multipart/form-data"><div class="space-y-4 mt-6"><!> <div class="space-y-2"><!> <div class="flex items-center gap-4"><!> <div class="flex flex-col gap-2"><!> <!></div></div> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!> <input type="hidden" name="operator_type"/></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!> <input type="hidden" name="status"/></div> <div class="flex gap-2 pt-4"><!> <!></div></div></form>',1),ba=n("<!> <!>",1),wa=n("<!> <!>",1),Ca=n("<!> <!>",1),Aa=n("<!> <!>",1),ka=n("<!> Remove Image",1),Sa=n('<p class="text-red-500 text-sm">Image size exceeds 5MB limit.</p>'),Ta=n("<span> </span>"),Ia=n("<!> <!> <!>",1),Da=n("<!> <!>",1),Oa=n("<span> </span>"),Na=n("<!> <!>",1),Ba=n("<!> <!>",1),Ra=n('<!> <form method="POST" action="?/update" enctype="multipart/form-data"><input type="hidden" name="id"/> <div class="space-y-4 mt-6"><!> <div class="space-y-2"><!> <div class="flex items-center gap-4"><!> <div class="flex flex-col gap-2"><!> <!></div></div> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!> <input type="hidden" name="operator_type"/></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!> <input type="hidden" name="status"/></div> <div class="flex gap-2 pt-4"><!> <!></div></div></form>',1),za=n("<!> <!>",1),La=n("<!> <!>",1),qa=n('<form method="POST" action="?/delete"><input type="hidden" name="id"/> <!> <!></form>'),Ea=n("<!> <!>",1),Fa=n("<!> <!>",1),Ua=n("<!> <!>",1),Ma=n('<div class="pointer-events-auto"><!></div>'),ja=n('<div class="space-y-6"><div class="flex justify-between items-center"><div><h1 class="text-2xl font-bold">Clients Management</h1> <p class="text-gray-500">Manage aquaculture operators and their information</p></div></div></div> <!> <!> <!> <!> <div class="fixed inset-x-0 bottom-6 flex justify-center z-50 pointer-events-none"><!></div>',1);function ys(Kt,Ze){dr(Ze,!0);let Ue=X(it(Ze.data.search||"")),ye=X(null),_t=X(null),et=X(!1),tt=X(!1),rt=X(!1),$t=X(null),Je=X(void 0),nt=X(null),A=X(it({})),at=X(!1),pt="",Ve="default",Ge="",st=X(""),Se=X(null),Pe=X(null),Xe=X(!1),ot=X(it(Ze.data.sortBy||"created_at")),Qe=X(it(Ze.data.sortOrder||"desc"));function ft(u,B){switch(pt=u,l(at,!0),B){case"create":Ve="default",Ge="bg-[var(--primary)] text-[var(--primary-foreground)]";break;case"update":Ve="default",Ge="bg-[var(--secondary)] text-[var(--secondary-foreground)]";break;case"delete":Ve="destructive",Ge="";break;default:Ve="default",Ge="bg-[var(--primary)] text-[var(--primary-foreground)]"}setTimeout(()=>l(at,!1),3e3)}function mt(u){pt=u,Ve="destructive",Ge="",l(at,!0),setTimeout(()=>l(at,!1),3e3)}let ht=qe(()=>{var u;return((u=Ze.data.clients)==null?void 0:u.filter(B=>B.name.toLowerCase().includes(r(Ue).toLowerCase())||B.address.toLowerCase().includes(r(Ue).toLowerCase())||B.contact_number&&B.contact_number.includes(r(Ue))))||[]});function Wt(u){l(nt,u.id,!0),l(A,{...u},!0),l(_t,{...u},!0),l(Pe,u.profile_image||null,!0),l(Xe,!1),l(tt,!0)}function Yt(){gt(),l(nt,null),l(A,{},!0),l(tt,!1)}async function Zt(){const u=new URL(window.location.href);r(Ue)?u.searchParams.set("search",r(Ue)):u.searchParams.delete("search"),u.searchParams.set("sort",r(ot)),u.searchParams.set("order",r(Qe)),await Bt(u.pathname+u.search,{replaceState:!0}),dt("app:clients")}function er(u){l($t,u,!0),l(rt,!0)}function tr(u){return u?new Date(u).toLocaleDateString():"N/A"}function rr(u){return{pond:"Pond",cage:"Cage",org:"Organization"}[u]||u}function ar(u){return"outline"}function kt(u){var J,ae;const I=(J=u.target.files)==null?void 0:J[0];I?(l(Se,I,!0),l(Pe,URL.createObjectURL(I),!0),l(Xe,!1)):(l(Se,null),l(Pe,((ae=r(_t))==null?void 0:ae.profile_image)||null,!0))}function gt(){l(Se,null),l(Pe,null),l(Xe,!0)}function sr(){l(et,!0),l(st,""),l(Je,void 0),r(A).status="active",l(ye,null),l(Se,null),l(Pe,null),l(Xe,!1)}async function He(u){let B=u,I;r(ot)===u?r(Qe)==="asc"?I="desc":I="asc":(B=u,I="asc"),l(ot,B,!0),l(Qe,I,!0);const J=new URL(window.location.href);J.searchParams.set("sort",r(ot)),J.searchParams.set("order",r(Qe)),console.log("Navigating to:",J.pathname+J.search),await Bt(J.pathname+J.search),dt("app:clients")}function Ke(u){if(r(ot)===u){if(r(Qe)==="asc")return Br;if(r(Qe)==="desc")return Rr}return Or}var St=ja(),Tt=t(_(St),2);ur(Tt,{children:(u,B)=>{var I=va(),J=_(I);cr(J,{class:"h-4",children:(fe,Te)=>{var ne=Mr(),se=_(ne);_r(se,{children:(H,be)=>{i();var Ie=v();F(()=>Q(Ie,`Total Clients: ${r(ht).length??""}`)),e(H,Ie)},$$slots:{default:!0}});var Re=t(se,2);Tr(Re,{class:"my-2"}),e(fe,ne)},$$slots:{default:!0}});var ae=t(J,2);$r(ae,{children:(fe,Te)=>{var ne=ia(),se=_(ne),Re=f(se),H=f(Re);ke(H,{placeholder:"Search by name, address, or contact number...",class:"pl-10",get value(){return r(Ue)},set value(ue){l(Ue,ue,!0)},$$events:{input:Zt}});var be=t(H,2);Ir(be,{class:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),m(Re);var Ie=t(Re,2);xe(Ie,{onclick:sr,children:(ue,Y)=>{var ce=jr(),_e=_(ce);Dr(_e,{class:"h-4 w-4 mr-2"}),i(),e(ue,ce)},$$slots:{default:!0}}),m(se);var ie=t(se,2);{var ve=ue=>{var Y=Jr();e(ue,Y)},Me=ue=>{var Y=na(),ce=f(Y);wr(ce,{children:(_e,we)=>{var me=da(),Ce=_(me);Cr(Ce,{children:(M,Z)=>{Lt(M,{children:(K,oe)=>{var w=Wr(),g=_(w);Ee(g,{class:"text-muted",children:(D,W)=>{i();var b=v("---");e(D,b)},$$slots:{default:!0}});var q=t(g,2);Ee(q,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>He("name"),children:(D,W)=>{var b=Vr(),z=t(f(b));$(z,()=>Ke("name"),(E,U)=>{U(E,{class:"h-4 w-4"})}),m(b),e(D,b)},$$slots:{default:!0}});var $e=t(q,2);Ee($e,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>He("operator_type"),children:(D,W)=>{var b=Gr(),z=t(f(b));$(z,()=>Ke("operator_type"),(E,U)=>{U(E,{class:"h-4 w-4"})}),m(b),e(D,b)},$$slots:{default:!0}});var De=t($e,2);Ee(De,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>He("address"),children:(D,W)=>{var b=Xr(),z=t(f(b));$(z,()=>Ke("address"),(E,U)=>{U(E,{class:"h-4 w-4"})}),m(b),e(D,b)},$$slots:{default:!0}});var Ae=t(De,2);Ee(Ae,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>He("contact_number"),children:(D,W)=>{var b=Qr(),z=t(f(b));$(z,()=>Ke("contact_number"),(E,U)=>{U(E,{class:"h-4 w-4"})}),m(b),e(D,b)},$$slots:{default:!0}});var he=t(Ae,2);Ee(he,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>He("birthday"),children:(D,W)=>{var b=Hr(),z=t(f(b));$(z,()=>Ke("birthday"),(E,U)=>{U(E,{class:"h-4 w-4"})}),m(b),e(D,b)},$$slots:{default:!0}});var Oe=t(he,2);Ee(Oe,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>He("status"),children:(D,W)=>{var b=Kr(),z=t(f(b));$(z,()=>Ke("status"),(E,U)=>{U(E,{class:"h-4 w-4"})}),m(b),e(D,b)},$$slots:{default:!0}});var Ne=t(Oe,2);Ee(Ne,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 text-center",children:(D,W)=>{i();var b=v("Actions");e(D,b)},$$slots:{default:!0}}),e(K,w)},$$slots:{default:!0}})},$$slots:{default:!0}});var ze=t(Ce,2);Ar(ze,{children:(M,Z)=>{var K=Le(),oe=_(K);ir(oe,17,()=>r(ht),vr,(w,g,q)=>{Lt(w,{class:q%2===0?"bg-gray-50 dark:bg-card":"bg-white dark:bg-background",children:($e,De)=>{var Ae=la(),he=_(Ae);Fe(he,{children:(R,ge)=>{var C=Le(),j=_(C);$(j,()=>bt,(ee,V)=>{V(ee,{class:"h-10 w-10",children:(L,te)=>{var G=Yr(),O=_(G);const k=qe(()=>r(g).profile_image||void 0);$(O,()=>wt,(o,a)=>{a(o,{get src(){return r(k)}})});var le=t(O,2);$(le,()=>Ct,(o,a)=>{a(o,{children:(s,d)=>{i();var x=v();F(h=>Q(x,h),[()=>r(g).name.substring(0,2).toUpperCase()]),e(s,x)},$$slots:{default:!0}})}),e(L,G)},$$slots:{default:!0}})}),e(R,C)},$$slots:{default:!0}});var Oe=t(he,2);Fe(Oe,{class:"font-bold",children:(R,ge)=>{i();var C=v();F(()=>Q(C,r(g).name)),e(R,C)},$$slots:{default:!0}});var Ne=t(Oe,2);Fe(Ne,{children:(R,ge)=>{const C=qe(()=>ar(r(g).operator_type));Vt(R,{get variant(){return r(C)},class:"flex items-center gap-1",children:(j,ee)=>{var V=Zr(),L=_(V);{var te=k=>{zr(k,{class:"h-3 w-3"})},G=(k,le)=>{{var o=s=>{Lr(s,{class:"h-3 w-3"})},a=(s,d)=>{{var x=y=>{qr(y,{class:"h-3 w-3"})},h=y=>{Er(y,{class:"h-3 w-3"})};pe(s,y=>{r(g).operator_type==="org"?y(x):y(h,!1)},d)}};pe(k,s=>{r(g).operator_type==="cage"?s(o):s(a,!1)},le)}};pe(L,k=>{r(g).operator_type==="pond"?k(te):k(G,!1)})}var O=t(L);F(k=>Q(O,` ${k??""}`),[()=>rr(r(g).operator_type)]),e(j,V)},$$slots:{default:!0}})},$$slots:{default:!0}});var D=t(Ne,2);Fe(D,{class:"max-w-xs truncate",children:(R,ge)=>{var C=Le(),j=_(C);$(j,()=>Xt,(ee,V)=>{V(ee,{delayDuration:100,children:(L,te)=>{var G=Le(),O=_(G);$(O,()=>Gt,(k,le)=>{le(k,{children:(o,a)=>{var s=ta(),d=_(s);$(d,()=>Qt,(h,y)=>{y(h,{class:"truncate max-w-xs block",children:(P,c)=>{i();var p=v();F(()=>Q(p,r(g).address)),e(P,p)},$$slots:{default:!0}})});var x=t(d,2);$(x,()=>Ht,(h,y)=>{y(h,{children:(P,c)=>{var p=ea(),S=f(p,!0);m(p),F(()=>Q(S,r(g).address)),e(P,p)},$$slots:{default:!0}})}),e(o,s)},$$slots:{default:!0}})}),e(L,G)},$$slots:{default:!0}})}),e(R,C)},$$slots:{default:!0}});var W=t(D,2);const b=qe(()=>r(g).contact_number?"":"text-gray-400 italic");Fe(W,{get class(){return r(b)},children:(R,ge)=>{i();var C=v();F(()=>Q(C,r(g).contact_number||"N/A")),e(R,C)},$$slots:{default:!0}});var z=t(W,2);const E=qe(()=>r(g).birthday?"":"text-gray-400 italic");Fe(z,{get class(){return r(E)},children:(R,ge)=>{i();var C=v();F(j=>Q(C,j),[()=>tr(r(g).birthday)]),e(R,C)},$$slots:{default:!0}});var U=t(z,2);Fe(U,{children:(R,ge)=>{Vt(R,{variant:"outline",class:"flex items-center gap-1",children:(C,j)=>{var ee=ra(),V=_(ee);{var L=O=>{Fr(O,{class:"h-3 w-3 text-green-500"})},te=(O,k)=>{{var le=o=>{At(o,{class:"h-3 w-3 text-red-500"})};pe(O,o=>{r(g).status==="inactive"&&o(le)},k)}};pe(V,O=>{r(g).status==="active"?O(L):O(te,!1)})}var G=t(V);F(O=>Q(G,` ${O??""}`),[()=>{var O,k;return((O=r(g).status)==null?void 0:O.charAt(0).toUpperCase())+((k=r(g).status)==null?void 0:k.slice(1))}]),e(C,ee)},$$slots:{default:!0}})},$$slots:{default:!0}});var je=t(U,2);Fe(je,{children:(R,ge)=>{var C=oa(),j=f(C);$(j,()=>Xt,(L,te)=>{te(L,{delayDuration:100,children:(G,O)=>{var k=Le(),le=_(k);$(le,()=>Gt,(o,a)=>{a(o,{children:(s,d)=>{var x=sa(),h=_(x);$(h,()=>Qt,(P,c)=>{c(P,{class:"truncate max-w-xs block",children:(p,S)=>{const T=qe(()=>`/dashboard/clients/${r(g).id}/stocking-info`);xe(p,{variant:"outline",size:"sm",get href(){return r(T)},children:(N,re)=>{Ur(N,{class:"h-4 w-4"})},$$slots:{default:!0}})},$$slots:{default:!0}})});var y=t(h,2);$(y,()=>Ht,(P,c)=>{c(P,{children:(p,S)=>{var T=aa();e(p,T)},$$slots:{default:!0}})}),e(s,x)},$$slots:{default:!0}})}),e(G,k)},$$slots:{default:!0}})});var ee=t(j,2);xe(ee,{variant:"outline",size:"sm",onclick:()=>Wt(r(g)),children:(L,te)=>{kr(L,{})},$$slots:{default:!0}});var V=t(ee,2);xe(V,{variant:"outline",size:"sm",onclick:()=>er(r(g)),children:(L,te)=>{Nr(L,{class:"h-4 w-4 text-red-500"})},$$slots:{default:!0}}),m(C),e(R,C)},$$slots:{default:!0}}),e($e,Ae)},$$slots:{default:!0}})}),e(M,K)},$$slots:{default:!0}}),e(_e,me)},$$slots:{default:!0}}),m(Y),e(ue,Y)};pe(ie,ue=>{r(ht).length===0?ue(ve):ue(Me,!1)})}e(fe,ne)},$$slots:{default:!0}}),e(u,I)},$$slots:{default:!0}});var It=t(Tt,2);$(It,()=>Jt,(u,B)=>{B(u,{get open(){return r(et)},set open(I){l(et,I,!0)},children:(I,J)=>{var ae=Le(),fe=_(ae);$(fe,()=>qt,(Te,ne)=>{ne(Te,{children:(se,Re)=>{var H=ba(),be=_(H);$(be,()=>Et,(ie,ve)=>{ve(ie,{})});var Ie=t(be,2);$(Ie,()=>Ft,(ie,ve)=>{ve(ie,{class:"sm:max-w-[425px] p-6",children:(Me,ue)=>{var Y=Pa(),ce=_(Y);$(ce,()=>Ut,(o,a)=>{a(o,{children:(s,d)=>{var x=ua(),h=_(x);$(h,()=>Mt,(P,c)=>{c(P,{children:(p,S)=>{i();var T=v("Add New Client");e(p,T)},$$slots:{default:!0}})});var y=t(h,2);$(y,()=>jt,(P,c)=>{c(P,{children:(p,S)=>{i();var T=v("Enter the client's information below.");e(p,T)},$$slots:{default:!0}})}),e(s,x)},$$slots:{default:!0}})});var _e=t(ce,2),we=f(_e),me=f(we);{var Ce=o=>{Pt(o,{variant:"destructive",children:(a,s)=>{var d=ca(),x=_(d);Rt(x,{class:"h-4 w-4"});var h=t(x,2);zt(h,{children:(y,P)=>{i();var c=v();F(()=>Q(c,r(ye))),e(y,c)},$$slots:{default:!0}}),e(a,d)},$$slots:{default:!0}})};pe(me,o=>{r(ye)&&o(Ce)})}var ze=t(me,2),M=f(ze);de(M,{children:(o,a)=>{i();var s=v("Profile Image");e(o,s)},$$slots:{default:!0}});var Z=t(M,2),K=f(Z);$(K,()=>bt,(o,a)=>{a(o,{class:"h-20 w-20",children:(s,d)=>{var x=_a(),h=_(x);const y=qe(()=>r(Pe)||void 0);$(h,()=>wt,(c,p)=>{p(c,{get src(){return r(y)},alt:"Client profile"})});var P=t(h,2);$(P,()=>Ct,(c,p)=>{p(c,{children:(S,T)=>{i();var N=v("CN");e(S,N)},$$slots:{default:!0}})}),e(s,x)},$$slots:{default:!0}})});var oe=t(K,2),w=f(oe);ke(w,{id:"profile_image_create",name:"profile_image",type:"file",accept:"image/*",onchange:kt});var g=t(w,2);{var q=o=>{xe(o,{type:"button",variant:"ghost",size:"sm",onclick:gt,children:(a,s)=>{var d=$a(),x=_(d);At(x,{class:"h-4 w-4 mr-1 text-red-500"}),i(),e(a,d)},$$slots:{default:!0}})};pe(g,o=>{r(Pe)&&o(q)})}m(oe),m(Z);var $e=t(Z,2);{var De=o=>{var a=pa();e(o,a)};pe($e,o=>{r(Se)&&r(Se).size>1024*1024*5&&o(De)})}m(ze);var Ae=t(ze,2),he=f(Ae);de(he,{for:"name_create",children:(o,a)=>{i();var s=v("Name *");e(o,s)},$$slots:{default:!0}});var Oe=t(he,2);ke(Oe,{id:"name_create",name:"name",required:!0,maxlength:40,get value(){return r(st)},set value(o){l(st,o,!0)}}),m(Ae);var Ne=t(Ae,2),D=f(Ne);de(D,{for:"operator_type_create",children:(o,a)=>{i();var s=v("Operator Type *");e(o,s)},$$slots:{default:!0}});var W=t(D,2);vt(W,{type:"single",required:!0,get value(){return r(Je)},set value(o){l(Je,o,!0)},children:(o,a)=>{var s=ha(),d=_(s);ut(d,{children:(h,y)=>{var P=fa(),c=f(P,!0);m(P),F(()=>Q(c,r(Je)||"Select operator type")),e(h,P)},$$slots:{default:!0}});var x=t(d,2);ct(x,{children:(h,y)=>{var P=ma(),c=_(P);Be(c,{value:"pond",children:(T,N)=>{i();var re=v("Pond");e(T,re)},$$slots:{default:!0}});var p=t(c,2);Be(p,{value:"cage",children:(T,N)=>{i();var re=v("Cage");e(T,re)},$$slots:{default:!0}});var S=t(p,2);Be(S,{value:"org",children:(T,N)=>{i();var re=v("Organization");e(T,re)},$$slots:{default:!0}}),e(h,P)},$$slots:{default:!0}}),e(o,s)},$$slots:{default:!0}});var b=t(W,2);We(b),m(Ne);var z=t(Ne,2),E=f(z);de(E,{for:"address_create",children:(o,a)=>{i();var s=v("Address *");e(o,s)},$$slots:{default:!0}});var U=t(E,2);ke(U,{id:"address_create",name:"address",required:!0,type:"text",maxlength:60}),m(z);var je=t(z,2),R=f(je);de(R,{for:"contact_number_create",children:(o,a)=>{i();var s=v("Contact Number or Email Address");e(o,s)},$$slots:{default:!0}});var ge=t(R,2);ke(ge,{id:"contact_number_create",name:"contact_number",type:"text",maxlength:30}),m(je);var C=t(je,2),j=f(C);de(j,{for:"birthday_create",children:(o,a)=>{i();var s=v("Birthday");e(o,s)},$$slots:{default:!0}});var ee=t(j,2);ke(ee,{id:"birthday_create",name:"birthday",type:"date"}),m(C);var V=t(C,2),L=f(V);de(L,{for:"status_create",children:(o,a)=>{i();var s=v("Status *");e(o,s)},$$slots:{default:!0}});var te=t(L,2);vt(te,{type:"single",required:!0,get value(){return r(A).status},set value(o){r(A).status=o},children:(o,a)=>{var s=ya(),d=_(s);ut(d,{children:(h,y)=>{var P=ga(),c=f(P,!0);m(P),F(()=>Q(c,r(A).status||"Select status")),e(h,P)},$$slots:{default:!0}});var x=t(d,2);ct(x,{children:(h,y)=>{var P=xa(),c=_(P);Be(c,{value:"active",children:(S,T)=>{i();var N=v("Active");e(S,N)},$$slots:{default:!0}});var p=t(c,2);Be(p,{value:"inactive",children:(S,T)=>{i();var N=v("Inactive");e(S,N)},$$slots:{default:!0}}),e(h,P)},$$slots:{default:!0}}),e(o,s)},$$slots:{default:!0}});var G=t(te,2);We(G),m(V);var O=t(V,2),k=f(O);xe(k,{type:"submit",class:"flex-1",children:(o,a)=>{i();var s=v("Create Client");e(o,s)},$$slots:{default:!0}});var le=t(k,2);xe(le,{type:"button",variant:"outline",onclick:()=>l(et,!1),children:(o,a)=>{i();var s=v("Cancel");e(o,s)},$$slots:{default:!0}}),m(O),m(we),m(_e),xt(_e,(o,a)=>{var s;return(s=yt)==null?void 0:s(o,a)},()=>()=>async({result:o})=>{var a,s;o.type==="success"?(l(et,!1),await dt("app:clients"),ft(`Client ${r(st)} added successfully!`,"create"),l(st,""),l(Je,void 0),r(A).status="active",l(Se,null),l(Pe,null),l(Xe,!1)):o.type==="failure"&&(l(ye,typeof((a=o.data)==null?void 0:a.error)=="string"?o.data.error:JSON.stringify((s=o.data)==null?void 0:s.error)||"An error occurred",!0),mt(r(ye)))}),F(()=>{Ye(b,r(Je)),Ye(G,r(A).status)}),e(Me,Y)},$$slots:{default:!0}})}),e(se,H)},$$slots:{default:!0}})}),e(I,ae)},$$slots:{default:!0}})});var Dt=t(It,2);$(Dt,()=>Jt,(u,B)=>{B(u,{get open(){return r(tt)},set open(I){l(tt,I,!0)},children:(I,J)=>{var ae=Le(),fe=_(ae);$(fe,()=>qt,(Te,ne)=>{ne(Te,{children:(se,Re)=>{var H=za(),be=_(H);$(be,()=>Et,(ie,ve)=>{ve(ie,{})});var Ie=t(be,2);$(Ie,()=>Ft,(ie,ve)=>{ve(ie,{class:"sm:max-w-[425px] p-6",children:(Me,ue)=>{var Y=Ra(),ce=_(Y);$(ce,()=>Ut,(a,s)=>{s(a,{children:(d,x)=>{var h=wa(),y=_(h);$(y,()=>Mt,(c,p)=>{p(c,{children:(S,T)=>{i();var N=v("Edit Client");e(S,N)},$$slots:{default:!0}})});var P=t(y,2);$(P,()=>jt,(c,p)=>{p(c,{children:(S,T)=>{i();var N=v("Update the client's information below.");e(S,N)},$$slots:{default:!0}})}),e(d,h)},$$slots:{default:!0}})});var _e=t(ce,2),we=f(_e);We(we);var me=t(we,2),Ce=f(me);{var ze=a=>{Pt(a,{variant:"destructive",children:(s,d)=>{var x=Ca(),h=_(x);Rt(h,{class:"h-4 w-4"});var y=t(h,2);zt(y,{children:(P,c)=>{i();var p=v();F(()=>Q(p,r(ye))),e(P,p)},$$slots:{default:!0}}),e(s,x)},$$slots:{default:!0}})};pe(Ce,a=>{r(ye)&&a(ze)})}var M=t(Ce,2),Z=f(M);de(Z,{children:(a,s)=>{i();var d=v("Profile Image");e(a,d)},$$slots:{default:!0}});var K=t(Z,2),oe=f(K);$(oe,()=>bt,(a,s)=>{s(a,{class:"h-20 w-20",children:(d,x)=>{var h=Aa(),y=_(h);const P=qe(()=>r(Pe)||void 0);$(y,()=>wt,(p,S)=>{S(p,{get src(){return r(P)},alt:"Client profile"})});var c=t(y,2);$(c,()=>Ct,(p,S)=>{S(p,{children:(T,N)=>{i();var re=v("CN");e(T,re)},$$slots:{default:!0}})}),e(d,h)},$$slots:{default:!0}})});var w=t(oe,2),g=f(w);ke(g,{id:"profile_image_edit",name:"profile_image",type:"file",accept:"image/*",onchange:kt});var q=t(g,2);{var $e=a=>{xe(a,{type:"button",variant:"ghost",size:"sm",onclick:gt,children:(s,d)=>{var x=ka(),h=_(x);At(h,{class:"h-4 w-4 mr-1 text-red-500"}),i(),e(s,x)},$$slots:{default:!0}})};pe(q,a=>{r(Pe)&&a($e)})}m(w),m(K);var De=t(K,2);{var Ae=a=>{var s=Sa();e(a,s)};pe(De,a=>{r(Se)&&r(Se).size>1024*1024*5&&a(Ae)})}m(M);var he=t(M,2),Oe=f(he);de(Oe,{for:"name_edit",children:(a,s)=>{i();var d=v("Name *");e(a,d)},$$slots:{default:!0}});var Ne=t(Oe,2);ke(Ne,{id:"name_edit",name:"name",required:!0,maxlength:40,get value(){return r(A).name},set value(a){r(A).name=a}}),m(he);var D=t(he,2),W=f(D);de(W,{for:"operator_type_edit",children:(a,s)=>{i();var d=v("Operator Type *");e(a,d)},$$slots:{default:!0}});var b=t(W,2);vt(b,{type:"single",required:!0,get value(){return r(A).operator_type},set value(a){r(A).operator_type=a},children:(a,s)=>{var d=Da(),x=_(d);ut(x,{children:(y,P)=>{var c=Ta(),p=f(c,!0);m(c),F(()=>Q(p,r(A).operator_type||"Select operator type")),e(y,c)},$$slots:{default:!0}});var h=t(x,2);ct(h,{children:(y,P)=>{var c=Ia(),p=_(c);Be(p,{value:"pond",children:(N,re)=>{i();var lt=v("Pond");e(N,lt)},$$slots:{default:!0}});var S=t(p,2);Be(S,{value:"cage",children:(N,re)=>{i();var lt=v("Cage");e(N,lt)},$$slots:{default:!0}});var T=t(S,2);Be(T,{value:"org",children:(N,re)=>{i();var lt=v("Organization");e(N,lt)},$$slots:{default:!0}}),e(y,c)},$$slots:{default:!0}}),e(a,d)},$$slots:{default:!0}});var z=t(b,2);We(z),m(D);var E=t(D,2),U=f(E);de(U,{for:"address_edit",children:(a,s)=>{i();var d=v("Address *");e(a,d)},$$slots:{default:!0}});var je=t(U,2);ke(je,{id:"address_edit",name:"address",required:!0,type:"text",maxlength:60,get value(){return r(A).address},set value(a){r(A).address=a}}),m(E);var R=t(E,2),ge=f(R);de(ge,{for:"contact_number_edit",children:(a,s)=>{i();var d=v("Contact Number or Email Address");e(a,d)},$$slots:{default:!0}});var C=t(ge,2);ke(C,{id:"contact_number_edit",name:"contact_number",type:"text",maxlength:30,get value(){return r(A).contact_number},set value(a){r(A).contact_number=a}}),m(R);var j=t(R,2),ee=f(j);de(ee,{for:"birthday_edit",children:(a,s)=>{i();var d=v("Birthday");e(a,d)},$$slots:{default:!0}});var V=t(ee,2);ke(V,{id:"birthday_edit",name:"birthday",type:"date",get value(){return r(A).birthday},set value(a){r(A).birthday=a}}),m(j);var L=t(j,2),te=f(L);de(te,{for:"status_edit",children:(a,s)=>{i();var d=v("Status *");e(a,d)},$$slots:{default:!0}});var G=t(te,2);vt(G,{type:"single",required:!0,get value(){return r(A).status},set value(a){r(A).status=a},children:(a,s)=>{var d=Ba(),x=_(d);ut(x,{children:(y,P)=>{var c=Oa(),p=f(c,!0);m(c),F(()=>Q(p,r(A).status||"Select status")),e(y,c)},$$slots:{default:!0}});var h=t(x,2);ct(h,{children:(y,P)=>{var c=Na(),p=_(c);Be(p,{value:"active",children:(T,N)=>{i();var re=v("Active");e(T,re)},$$slots:{default:!0}});var S=t(p,2);Be(S,{value:"inactive",children:(T,N)=>{i();var re=v("Inactive");e(T,re)},$$slots:{default:!0}}),e(y,c)},$$slots:{default:!0}}),e(a,d)},$$slots:{default:!0}});var O=t(G,2);We(O),m(L);var k=t(L,2),le=f(k);xe(le,{type:"submit",class:"flex-1",children:(a,s)=>{i();var d=v("Save Changes");e(a,d)},$$slots:{default:!0}});var o=t(le,2);xe(o,{type:"button",variant:"outline",onclick:Yt,children:(a,s)=>{i();var d=v("Cancel");e(a,d)},$$slots:{default:!0}}),m(k),m(me),m(_e),xt(_e,(a,s)=>{var d;return(d=yt)==null?void 0:d(a,s)},()=>()=>async({result:a})=>{var s,d;a.type==="success"?(l(tt,!1),await dt("app:clients"),ft(`Client ${r(A).name} updated successfully!`,"update"),l(nt,null),l(A,{},!0),l(_t,null),l(Se,null),l(Pe,null),l(Xe,!1)):a.type==="failure"&&(l(ye,typeof((s=a.data)==null?void 0:s.error)=="string"?a.data.error:JSON.stringify((d=a.data)==null?void 0:d.error)||"An error occurred",!0),mt(r(ye)))}),F(()=>{Ye(we,r(nt)),Ye(z,r(A).operator_type),Ye(O,r(A).status)}),e(Me,Y)},$$slots:{default:!0}})}),e(se,H)},$$slots:{default:!0}})}),e(I,ae)},$$slots:{default:!0}})});var Ot=t(Dt,2);$(Ot,()=>Pr,(u,B)=>{B(u,{get open(){return r(rt)},set open(I){l(rt,I,!0)},children:(I,J)=>{var ae=Le(),fe=_(ae);$(fe,()=>pr,(Te,ne)=>{ne(Te,{children:(se,Re)=>{var H=Fa(),be=_(H);$(be,()=>fr,(ie,ve)=>{ve(ie,{})});var Ie=t(be,2);$(Ie,()=>mr,(ie,ve)=>{ve(ie,{children:(Me,ue)=>{var Y=Ea(),ce=_(Y);$(ce,()=>hr,(we,me)=>{me(we,{children:(Ce,ze)=>{var M=La(),Z=_(M);$(Z,()=>gr,(oe,w)=>{w(oe,{children:(g,q)=>{i();var $e=v("Delete Client");e(g,$e)},$$slots:{default:!0}})});var K=t(Z,2);$(K,()=>xr,(oe,w)=>{w(oe,{children:(g,q)=>{i();var $e=v();F(()=>{var De;return Q($e,`Are you sure you want to delete "${((De=r($t))==null?void 0:De.name)??""}"? This action cannot be undone.`)}),e(g,$e)},$$slots:{default:!0}})}),e(Ce,M)},$$slots:{default:!0}})});var _e=t(ce,2);$(_e,()=>yr,(we,me)=>{me(we,{children:(Ce,ze)=>{var M=qa(),Z=f(M);We(Z);var K=t(Z,2);xe(K,{type:"button",variant:"outline",onclick:()=>l(rt,!1),children:(w,g)=>{i();var q=v("Cancel");e(w,q)},$$slots:{default:!0}});var oe=t(K,2);xe(oe,{type:"submit",variant:"destructive",children:(w,g)=>{i();var q=v("Delete");e(w,q)},$$slots:{default:!0}}),m(M),xt(M,(w,g)=>{var q;return(q=yt)==null?void 0:q(w,g)},()=>()=>async({result:w})=>{var g,q;w.type==="success"?(l(rt,!1),await dt("app:clients"),ft("Client deleted successfully!","delete")):w.type==="failure"&&(l(ye,typeof((g=w.data)==null?void 0:g.error)=="string"?w.data.error:JSON.stringify((q=w.data)==null?void 0:q.error)||"An error occurred",!0),mt(r(ye)))}),F(()=>{var w;return Ye(Z,(w=r($t))==null?void 0:w.id)}),e(Ce,M)},$$slots:{default:!0}})}),e(Me,Y)},$$slots:{default:!0}})}),e(se,H)},$$slots:{default:!0}})}),e(I,ae)},$$slots:{default:!0}})});var Nt=t(Ot,2),or=f(Nt);{var lr=u=>{var B=Ma(),I=f(B);Pt(I,{get variant(){return Ve},get class(){return Ge},children:(J,ae)=>{var fe=Ua(),Te=_(fe);Sr(Te,{});var ne=t(Te,2);br(ne,{children:(se,Re)=>{i();var H=v();F(()=>Q(H,pt)),e(se,H)},$$slots:{default:!0}}),e(J,fe)},$$slots:{default:!0}}),m(B),e(u,B)};pe(or,u=>{r(at)&&u(lr)})}m(Nt),e(Kt,St),nr()}export{ys as component};
