import{f as u,a as e,t as i,d as Je}from"../chunks/BxWPM7vt.js";import{p as zt,l as z,m as Ze,s as t,k as m,o as Jt,t as T,c as $,q as d,n as l,u as r,v as Mt,r as f}from"../chunks/VrzbJYtp.js";import{s as N}from"../chunks/jPwQk_2E.js";import{i as et}from"../chunks/K2z4qc4G.js";import{e as ut,i as vt}from"../chunks/3dJlLkWl.js";import{c as y}from"../chunks/DhHZR6J_.js";import{a as _t,e as ct,A as $t}from"../chunks/q_geWe1R.js";import{r as Me,s as He}from"../chunks/BHm98m4T.js";import{i as Xe,g as bt}from"../chunks/Co0R7JPe.js";import{B as Ce}from"../chunks/DGxjUAYV.js";import{I as Pe}from"../chunks/Cl_oq7nf.js";import{C as Ht,a as Vt,b as Gt,c as Kt}from"../chunks/_Y1sUBdb.js";import{L as X}from"../chunks/BUlJYItk.js";import{A as kt,a as wt}from"../chunks/C43ptUaS.js";import{P as Wt,A as Xt,a as Yt,b as Zt,c as er,d as tr,e as rr,R as ar,f as sr}from"../chunks/DOd2QSgZ.js";import{T as or,a as dr,b as qt,c as Ae,d as lr,P as St,D as Ft,e as Ct,f as At,g as Dt,h as Tt,R as Bt,i as De,S as nr,C as ir}from"../chunks/BeUoQy-y.js";import{R as tt,S as rt,a as at,b as Re}from"../chunks/CbD0lEU8.js";import{B as It}from"../chunks/Dcluerj8.js";import{S as ur}from"../chunks/CfhtIqMF.js";import{S as vr}from"../chunks/D47F4gF3.js";import{P as _r,C as cr,T as $r}from"../chunks/CvWd9xh1.js";import{A as fr,a as pr}from"../chunks/CkucYYup.js";import{U as mr}from"../chunks/DOotmoI5.js";var gr=u("<!> <!>",1),hr=u("<!> Add Feed Item",1),yr=u('<div class="text-center py-8 text-gray-500">No feed items found</div>'),xr=u('<div class="flex items-center gap-1">Feed Name <!></div>'),Pr=u('<div class="flex items-center gap-1">Feed Stage <!></div>'),br=u('<div class="flex items-center gap-1">Quantity (kg) <!></div>'),kr=u('<div class="flex items-center gap-1">Cost per Unit <!></div>'),wr=u('<div class="flex items-center gap-1">Total Cost <!></div>'),qr=u('<div class="flex items-center gap-1">Requested By <!></div>'),Sr=u('<div class="flex items-center gap-1">Date <!></div>'),Fr=u('<div class="flex items-center gap-1">Created At <!></div>'),Cr=u("<!> <!> <!> <!> <!> <!> <!> <!> <!>",1),Ar=u("<!> ",1),Dr=u('<div class="flex flex justify-center space-x-2"><!> <!></div>'),Tr=u("<!> <!> <!> <!> <!> <!> <!> <!> <!>",1),Br=u("<!> <!>",1),Ir=u('<div class="border rounded-lg"><!></div>'),Rr=u('<div class="flex items-center gap-4 mb-4"><div class="relative flex-1"><!> <!></div> <!></div> <!>',1),Lr=u("<!> <!>",1),Nr=u("<!> <!>",1),Or=u("<!> <!>",1),Ur=u("<span> </span>"),Er=u("<!> <!> <!>",1),Qr=u("<!> <!>",1),jr=u("<span> </span>"),zr=u("<!> <!>",1),Jr=u('<!> <form method="POST" action="?/create"><div class="space-y-4 mt-6"><!> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!> <input type="hidden" name="feed_stage"/></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!> <input type="hidden" name="requested_by"/></div> <div class="space-y-2"><!> <!></div> <div class="flex gap-2 pt-4"><!> <!></div></div></form>',1),Mr=u("<!> <!>",1),Hr=u("<!> <!>",1),Vr=u("<!> <!>",1),Gr=u("<span> </span>"),Kr=u("<!> <!> <!>",1),Wr=u("<!> <!>",1),Xr=u("<span> </span>"),Yr=u("<!> <!>",1),Zr=u('<!> <form method="POST" action="?/update"><input type="hidden" name="id"/> <div class="space-y-4 mt-6"><!> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!> <input type="hidden" name="feed_stage"/></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!> <input type="hidden" name="requested_by"/></div> <div class="space-y-2"><!> <!></div> <div class="flex gap-2 pt-4"><!> <!></div></div></form>',1),ea=u("<!> <!>",1),ta=u("<!> <!>",1),ra=u('<form method="POST" action="?/delete"><input type="hidden" name="id"/> <!> <!></form>'),aa=u("<!> <!>",1),sa=u("<!> <!>",1),oa=u("<!> <!>",1),da=u('<div class="pointer-events-auto"><!></div>'),la=u('<div class="space-y-6"><div class="flex justify-between items-center"><div><h1 class="text-2xl font-bold">Feeds Inventory Management</h1> <p class="text-gray-500">Manage feed stock and consumption records</p></div></div></div>  <!> <!> <!> <!> <div class="fixed inset-x-0 bottom-6 flex justify-center z-50 pointer-events-none"><!></div>',1);function Da(Rt,qe){zt(qe,!0);let Le=z(Ze(qe.data.search||"")),de=z(null),st=z(null),Ve=z(!1),Ge=z(!1),Ke=z(!1),ot=z(null),Oe=z(void 0),Ue=z(void 0),Ee=z(void 0),Qe=z(void 0),Ye=z(null),k=z(Ze({})),We=z(!1),dt="",je="default",ze="",le=z(Ze(qe.data.sortBy||"created_at")),ne=z(Ze(qe.data.sortOrder||"desc"));function ft(n){return n==null?"â‚±0.00":new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(n)}function lt(n,B){switch(dt=n,d(We,!0),B){case"create":je="default",ze="bg-primary text-white";break;case"update":je="default",ze="bg-secondary text-white";break;case"delete":je="destructive",ze="";break;default:je="default",ze="bg-primary text-primary-foreground"}setTimeout(()=>d(We,!1),3e3)}function nt(n){dt=n,je="destructive",ze="",d(We,!0),setTimeout(()=>d(We,!1),3e3)}let it=Mt(()=>{var n;return((n=qe.data.feedItems)==null?void 0:n.filter(B=>B.feed_name.toLowerCase().includes(r(Le).toLowerCase())||B.feed_stage.toLowerCase().includes(r(Le).toLowerCase())||B.requested_by_name.toLowerCase().includes(r(Le).toLowerCase())))||[]});function Lt(n){d(Ye,n.id,!0),d(k,{...n},!0),d(st,{...n},!0),d(Ue,n.feed_stage,!0),d(Qe,n.requested_by,!0),d(Ge,!0)}function Nt(){d(Ye,null),d(k,{},!0),d(st,null),d(Ge,!1)}async function Ot(){const n=new URL(window.location.href);r(Le)?n.searchParams.set("search",r(Le)):n.searchParams.delete("search"),n.searchParams.set("sort",r(le)),n.searchParams.set("order",r(ne)),await bt(n.pathname+n.search,{replaceState:!0}),Xe("app:feed_inventory")}function Ut(n){d(ot,n,!0),d(Ke,!0)}function pt(n){return n?new Date(n).toLocaleDateString():"N/A"}function Et(){d(Ve,!0),d(k,{},!0),d(Oe,void 0),d(Ee,void 0),d(de,null)}async function Te(n){let B=n,q;r(le)===n?r(ne)==="asc"?q="desc":q="asc":(B=n,q="asc"),d(le,B,!0),d(ne,q,!0);const K=new URL(window.location.href);K.searchParams.set("sort",r(le)),K.searchParams.set("order",r(ne)),console.log("Navigating to:",K.pathname+K.search),await bt(K.pathname+K.search),Xe("app:feed_inventory")}function Be(n,B,q){if(B===n){if(q==="asc")return fr;if(q==="desc")return pr}return cr}var mt=la(),gt=t(m(mt),2);Ht(gt,{children:(n,B)=>{var q=Lr(),K=m(q);Vt(K,{class:"h-4",children:(ie,be)=>{var Y=gr(),W=m(Y);Gt(W,{children:(Q,$e)=>{l();var ke=i();T(()=>N(ke,`Total Feeds: ${r(it).length??""}`)),e(Q,ke)},$$slots:{default:!0}});var Se=t(W,2);ur(Se,{class:"my-2"}),e(ie,Y)},$$slots:{default:!0}});var ce=t(K,2);Kt(ce,{children:(ie,be)=>{var Y=Rr(),W=m(Y),Se=$(W),Q=$(Se);Pe(Q,{placeholder:"Search by feed name, stage, or requested by...",class:"pl-10",get value(){return r(Le)},set value(te){d(Le,te,!0)},$$events:{input:Ot}});var $e=t(Q,2);vr($e,{class:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),f(Se);var ke=t(Se,2);Ce(ke,{onclick:Et,children:(te,J)=>{var re=hr(),ae=m(re);_r(ae,{class:"h-4 w-4 mr-2"}),l(),e(te,re)},$$slots:{default:!0}}),f(W);var Z=t(W,2);{var ee=te=>{var J=yr();e(te,J)},Ne=te=>{var J=Ir(),re=$(J);or(re,{children:(ae,fe)=>{var ue=Br(),pe=m(ue);dr(pe,{children:(O,se)=>{qt(O,{children:(M,H)=>{var x=Cr(),g=m(x);Ae(g,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Te("feed_name"),children:(w,U)=>{var v=xr(),S=t($(v));y(S,()=>Be("feed_name",r(le),r(ne)),(C,c)=>{c(C,{class:"h-4 w-4"})}),f(v),e(w,v)},$$slots:{default:!0}});var F=t(g,2);Ae(F,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Te("feed_stage"),children:(w,U)=>{var v=Pr(),S=t($(v));y(S,()=>Be("feed_stage",r(le),r(ne)),(C,c)=>{c(C,{class:"h-4 w-4"})}),f(v),e(w,v)},$$slots:{default:!0}});var j=t(F,2);Ae(j,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Te("quantity_kg"),children:(w,U)=>{var v=br(),S=t($(v));y(S,()=>Be("quantity_kg",r(le),r(ne)),(C,c)=>{c(C,{class:"h-4 w-4"})}),f(v),e(w,v)},$$slots:{default:!0}});var me=t(j,2);Ae(me,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Te("cost_per_unit"),children:(w,U)=>{var v=kr(),S=t($(v));y(S,()=>Be("cost_per_unit",r(le),r(ne)),(C,c)=>{c(C,{class:"h-4 w-4"})}),f(v),e(w,v)},$$slots:{default:!0}});var ge=t(me,2);Ae(ge,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Te("total_cost"),children:(w,U)=>{var v=wr(),S=t($(v));y(S,()=>Be("total_cost",r(le),r(ne)),(C,c)=>{c(C,{class:"h-4 w-4"})}),f(v),e(w,v)},$$slots:{default:!0}});var ve=t(ge,2);Ae(ve,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Te("requested_by_name"),children:(w,U)=>{var v=qr(),S=t($(v));y(S,()=>Be("requested_by_name",r(le),r(ne)),(C,c)=>{c(C,{class:"h-4 w-4"})}),f(v),e(w,v)},$$slots:{default:!0}});var we=t(ve,2);Ae(we,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Te("date"),children:(w,U)=>{var v=Sr(),S=t($(v));y(S,()=>Be("date",r(le),r(ne)),(C,c)=>{c(C,{class:"h-4 w-4"})}),f(v),e(w,v)},$$slots:{default:!0}});var he=t(we,2);Ae(he,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Te("created_at"),children:(w,U)=>{var v=Fr(),S=t($(v));y(S,()=>Be("created_at",r(le),r(ne)),(C,c)=>{c(C,{class:"h-4 w-4"})}),f(v),e(w,v)},$$slots:{default:!0}});var ye=t(he,2);Ae(ye,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 text-center",children:(w,U)=>{l();var v=i("Actions");e(w,v)},$$slots:{default:!0}}),e(M,x)},$$slots:{default:!0}})},$$slots:{default:!0}});var Fe=t(pe,2);lr(Fe,{children:(O,se)=>{var M=Je(),H=m(M);ut(H,17,()=>r(it),vt,(x,g,F)=>{qt(x,{class:F%2===0?"bg-gray-50 dark:bg-card":"bg-white dark:bg-background",children:(j,me)=>{var ge=Tr(),ve=m(ge);De(ve,{class:"font-bold",children:(c,V)=>{l();var h=i();T(()=>N(h,r(g).feed_name)),e(c,h)},$$slots:{default:!0}});var we=t(ve,2);De(we,{children:(c,V)=>{It(c,{variant:"outline",class:"flex items-center gap-1",children:(h,E)=>{l();var oe=i();T(()=>N(oe,r(g).feed_stage)),e(h,oe)},$$slots:{default:!0}})},$$slots:{default:!0}});var he=t(we,2);De(he,{children:(c,V)=>{l();var h=i();T(()=>N(h,`${r(g).current_stock_kg??""} / ${r(g).quantity_kg??""} kg`)),e(c,h)},$$slots:{default:!0}});var ye=t(he,2);De(ye,{children:(c,V)=>{l();var h=i();T(E=>N(h,E),[()=>ft(r(g).cost_per_unit)]),e(c,h)},$$slots:{default:!0}});var w=t(ye,2);De(w,{children:(c,V)=>{l();var h=i();T(E=>N(h,E),[()=>ft(r(g).total_cost)]),e(c,h)},$$slots:{default:!0}});var U=t(w,2);De(U,{children:(c,V)=>{It(c,{variant:"outline",class:"flex items-center gap-1",children:(h,E)=>{var oe=Ar(),xe=m(oe);mr(xe,{class:"h-3 w-3"});var s=t(xe);T(()=>N(s,` ${r(g).requested_by_name??""}`)),e(h,oe)},$$slots:{default:!0}})},$$slots:{default:!0}});var v=t(U,2);De(v,{children:(c,V)=>{l();var h=i();T(E=>N(h,E),[()=>pt(r(g).date)]),e(c,h)},$$slots:{default:!0}});var S=t(v,2);De(S,{class:"text-gray-500 text-sm",children:(c,V)=>{l();var h=i();T(E=>N(h,E),[()=>pt(r(g).created_at)]),e(c,h)},$$slots:{default:!0}});var C=t(S,2);De(C,{children:(c,V)=>{var h=Dr(),E=$(h);Ce(E,{variant:"outline",size:"sm",onclick:()=>Lt(r(g)),children:(xe,s)=>{nr(xe,{})},$$slots:{default:!0}});var oe=t(E,2);Ce(oe,{variant:"outline",size:"sm",onclick:()=>Ut(r(g)),children:(xe,s)=>{$r(xe,{class:"h-4 w-4 text-red-500"})},$$slots:{default:!0}}),f(h),e(c,h)},$$slots:{default:!0}}),e(j,ge)},$$slots:{default:!0}})}),e(O,M)},$$slots:{default:!0}}),e(ae,ue)},$$slots:{default:!0}}),f(J),e(te,J)};et(Z,te=>{r(it).length===0?te(ee):te(Ne,!1)})}e(ie,Y)},$$slots:{default:!0}}),e(n,q)},$$slots:{default:!0}});var ht=t(gt,2);y(ht,()=>Bt,(n,B)=>{B(n,{get open(){return r(Ve)},set open(q){d(Ve,q,!0)},children:(q,K)=>{var ce=Je(),ie=m(ce);y(ie,()=>St,(be,Y)=>{Y(be,{children:(W,Se)=>{var Q=Mr(),$e=m(Q);y($e,()=>Ft,(Z,ee)=>{ee(Z,{})});var ke=t($e,2);y(ke,()=>Ct,(Z,ee)=>{ee(Z,{class:"sm:max-w-[425px] p-6",children:(Ne,te)=>{var J=Jr(),re=m(J);y(re,()=>At,(s,a)=>{a(s,{children:(o,_)=>{var L=Nr(),A=m(L);y(A,()=>Dt,(b,p)=>{p(b,{children:(P,D)=>{l();var R=i("Add New Feed Item");e(P,R)},$$slots:{default:!0}})});var I=t(A,2);y(I,()=>Tt,(b,p)=>{p(b,{children:(P,D)=>{l();var R=i("Enter the feed item's information below.");e(P,R)},$$slots:{default:!0}})}),e(o,L)},$$slots:{default:!0}})});var ae=t(re,2),fe=$(ae),ue=$(fe);{var pe=s=>{$t(s,{variant:"destructive",children:(a,o)=>{var _=Or(),L=m(_);kt(L,{class:"h-4 w-4"});var A=t(L,2);wt(A,{children:(I,b)=>{l();var p=i();T(()=>N(p,r(de))),e(I,p)},$$slots:{default:!0}}),e(a,_)},$$slots:{default:!0}})};et(ue,s=>{r(de)&&s(pe)})}var Fe=t(ue,2),O=$(Fe);X(O,{for:"feed_name_create",children:(s,a)=>{l();var o=i("Feed Name *");e(s,o)},$$slots:{default:!0}});var se=t(O,2);Pe(se,{id:"feed_name_create",name:"feed_name",required:!0,maxlength:40,get value(){return r(k).feed_name},set value(s){r(k).feed_name=s}}),f(Fe);var M=t(Fe,2),H=$(M);X(H,{for:"feed_stage_create",children:(s,a)=>{l();var o=i("Feed Stage *");e(s,o)},$$slots:{default:!0}});var x=t(H,2);tt(x,{type:"single",required:!0,get value(){return r(Oe)},set value(s){d(Oe,s,!0)},children:(s,a)=>{var o=Qr(),_=m(o);rt(_,{children:(A,I)=>{var b=Ur(),p=$(b,!0);f(b),T(()=>N(p,r(Oe)||"Select feed stage")),e(A,b)},$$slots:{default:!0}});var L=t(_,2);at(L,{children:(A,I)=>{var b=Er(),p=m(b);Re(p,{value:"Fry Booster",children:(R,G)=>{l();var _e=i("Fry Booster");e(R,_e)},$$slots:{default:!0}});var P=t(p,2);Re(P,{value:"Pre Starter",children:(R,G)=>{l();var _e=i("Pre Starter");e(R,_e)},$$slots:{default:!0}});var D=t(P,2);Re(D,{value:"Finisher",children:(R,G)=>{l();var _e=i("Finisher");e(R,_e)},$$slots:{default:!0}}),e(A,b)},$$slots:{default:!0}}),e(s,o)},$$slots:{default:!0}});var g=t(x,2);Me(g),f(M);var F=t(M,2),j=$(F);X(j,{for:"current_kg_create",children:(s,a)=>{l();var o=i("Current Quantity (kg) *");e(s,o)},$$slots:{default:!0}});var me=t(j,2);Pe(me,{id:"current_kg_create",name:"current_stock_kg",type:"number",step:"0.01",max:1e4,min:1,get value(){return r(k).current_stock_kg},set value(s){r(k).current_stock_kg=s}}),f(F);var ge=t(F,2),ve=$(ge);X(ve,{for:"quantity_kg_create",children:(s,a)=>{l();var o=i("Quantity (kg) *");e(s,o)},$$slots:{default:!0}});var we=t(ve,2);Pe(we,{id:"quantity_kg_create",name:"quantity_kg",type:"number",step:"0.01",max:1e4,min:1,get value(){return r(k).quantity_kg},set value(s){r(k).quantity_kg=s}}),f(ge);var he=t(ge,2),ye=$(he);X(ye,{for:"cost_per_unit_create",children:(s,a)=>{l();var o=i("Cost per Unit *");e(s,o)},$$slots:{default:!0}});var w=t(ye,2);Pe(w,{id:"cost_per_unit_create",name:"cost_per_unit",type:"number",step:"0.01",max:1e8,min:1,required:!0,get value(){return r(k).cost_per_unit},set value(s){r(k).cost_per_unit=s}}),f(he);var U=t(he,2),v=$(U);X(v,{for:"requested_by_create",children:(s,a)=>{l();var o=i("Requested By *");e(s,o)},$$slots:{default:!0}});var S=t(v,2);tt(S,{type:"single",required:!0,get value(){return r(Ee)},set value(s){d(Ee,s,!0)},children:(s,a)=>{var o=zr(),_=m(o);rt(_,{children:(A,I)=>{var b=jr(),p=$(b,!0);f(b),T(P=>N(p,P),[()=>{var P;return((P=qe.data.employees.find(D=>D.id===r(Ee)))==null?void 0:P.name)||"Select employee"}]),e(A,b)},$$slots:{default:!0}});var L=t(_,2);at(L,{children:(A,I)=>{var b=Je(),p=m(b);ut(p,17,()=>qe.data.employees,vt,(P,D)=>{Re(P,{get value(){return r(D).id},children:(R,G)=>{l();var _e=i();T(()=>N(_e,r(D).name)),e(R,_e)},$$slots:{default:!0}})}),e(A,b)},$$slots:{default:!0}}),e(s,o)},$$slots:{default:!0}});var C=t(S,2);Me(C),f(U);var c=t(U,2),V=$(c);X(V,{for:"date_create",children:(s,a)=>{l();var o=i("Date *");e(s,o)},$$slots:{default:!0}});var h=t(V,2);Pe(h,{id:"date_create",name:"date",type:"date",required:!0,get value(){return r(k).date},set value(s){r(k).date=s}}),f(c);var E=t(c,2),oe=$(E);Ce(oe,{type:"submit",class:"flex-1",variant:"secondary",children:(s,a)=>{l();var o=i("Add Feed Item");e(s,o)},$$slots:{default:!0}});var xe=t(oe,2);Ce(xe,{type:"button",variant:"outline",onclick:()=>d(Ve,!1),children:(s,a)=>{l();var o=i("Cancel");e(s,o)},$$slots:{default:!0}}),f(E),f(fe),f(ae),_t(ae,(s,a)=>{var o;return(o=ct)==null?void 0:o(s,a)},()=>()=>async({result:s})=>{var a,o;s.type==="success"?(d(Ve,!1),await Xe("app:feed_inventory"),lt("Feed item added successfully!","create"),d(k,{},!0),d(Oe,void 0),d(Ee,void 0),d(de,null)):s.type==="failure"&&(d(de,typeof((a=s.data)==null?void 0:a.error)=="string"?s.data.error:JSON.stringify((o=s.data)==null?void 0:o.error)||"An error occurred",!0),nt(r(de)))}),T(()=>{He(g,r(Oe)),He(C,r(Ee))}),e(Ne,J)},$$slots:{default:!0}})}),e(W,Q)},$$slots:{default:!0}})}),e(q,ce)},$$slots:{default:!0}})});var yt=t(ht,2);y(yt,()=>Bt,(n,B)=>{B(n,{get open(){return r(Ge)},set open(q){d(Ge,q,!0)},children:(q,K)=>{var ce=Je(),ie=m(ce);y(ie,()=>St,(be,Y)=>{Y(be,{children:(W,Se)=>{var Q=ea(),$e=m(Q);y($e,()=>Ft,(Z,ee)=>{ee(Z,{})});var ke=t($e,2);y(ke,()=>Ct,(Z,ee)=>{ee(Z,{class:"sm:max-w-[425px] p-6",children:(Ne,te)=>{var J=Zr(),re=m(J);y(re,()=>At,(a,o)=>{o(a,{children:(_,L)=>{var A=Hr(),I=m(A);y(I,()=>Dt,(p,P)=>{P(p,{children:(D,R)=>{l();var G=i("Edit Feed Item");e(D,G)},$$slots:{default:!0}})});var b=t(I,2);y(b,()=>Tt,(p,P)=>{P(p,{children:(D,R)=>{l();var G=i("Update the feed item's information below.");e(D,G)},$$slots:{default:!0}})}),e(_,A)},$$slots:{default:!0}})});var ae=t(re,2),fe=$(ae);Me(fe);var ue=t(fe,2),pe=$(ue);{var Fe=a=>{$t(a,{variant:"destructive",children:(o,_)=>{var L=Vr(),A=m(L);kt(A,{class:"h-4 w-4"});var I=t(A,2);wt(I,{children:(b,p)=>{l();var P=i();T(()=>N(P,r(de))),e(b,P)},$$slots:{default:!0}}),e(o,L)},$$slots:{default:!0}})};et(pe,a=>{r(de)&&a(Fe)})}var O=t(pe,2),se=$(O);X(se,{for:"feed_name_edit",children:(a,o)=>{l();var _=i("Feed Name *");e(a,_)},$$slots:{default:!0}});var M=t(se,2);Pe(M,{id:"feed_name_edit",name:"feed_name",required:!0,maxlength:40,get value(){return r(k).feed_name},set value(a){r(k).feed_name=a}}),f(O);var H=t(O,2),x=$(H);X(x,{for:"feed_stage_edit",children:(a,o)=>{l();var _=i("Feed Stage *");e(a,_)},$$slots:{default:!0}});var g=t(x,2);tt(g,{type:"single",required:!0,get value(){return r(Ue)},set value(a){d(Ue,a,!0)},children:(a,o)=>{var _=Wr(),L=m(_);rt(L,{children:(I,b)=>{var p=Gr(),P=$(p,!0);f(p),T(()=>N(P,r(Ue)||"Select feed stage")),e(I,p)},$$slots:{default:!0}});var A=t(L,2);at(A,{children:(I,b)=>{var p=Kr(),P=m(p);Re(P,{value:"Fry Booster",children:(G,_e)=>{l();var Ie=i("Fry Booster");e(G,Ie)},$$slots:{default:!0}});var D=t(P,2);Re(D,{value:"Pre Starter",children:(G,_e)=>{l();var Ie=i("Pre Starter");e(G,Ie)},$$slots:{default:!0}});var R=t(D,2);Re(R,{value:"Finisher",children:(G,_e)=>{l();var Ie=i("Finisher");e(G,Ie)},$$slots:{default:!0}}),e(I,p)},$$slots:{default:!0}}),e(a,_)},$$slots:{default:!0}});var F=t(g,2);Me(F),f(H);var j=t(H,2),me=$(j);X(me,{for:"current_kg_edit",children:(a,o)=>{l();var _=i("Current Quantity (kg) *");e(a,_)},$$slots:{default:!0}});var ge=t(me,2);Pe(ge,{id:"current_kg_edit",name:"current_stock_kg",type:"number",step:"0.01",required:!0,get value(){return r(k).current_stock_kg},set value(a){r(k).current_stock_kg=a}}),f(j);var ve=t(j,2),we=$(ve);X(we,{for:"quantity_kg_edit",children:(a,o)=>{l();var _=i("Quantity (kg) *");e(a,_)},$$slots:{default:!0}});var he=t(we,2);Pe(he,{id:"quantity_kg_edit",name:"quantity_kg",type:"number",step:"0.01",required:!0,get value(){return r(k).quantity_kg},set value(a){r(k).quantity_kg=a}}),f(ve);var ye=t(ve,2),w=$(ye);X(w,{for:"cost_per_unit_edit",children:(a,o)=>{l();var _=i("Cost per Unit *");e(a,_)},$$slots:{default:!0}});var U=t(w,2);Pe(U,{id:"cost_per_unit_edit",name:"cost_per_unit",type:"number",step:"0.01",required:!0,get value(){return r(k).cost_per_unit},set value(a){r(k).cost_per_unit=a}}),f(ye);var v=t(ye,2),S=$(v);X(S,{for:"requested_by_edit",children:(a,o)=>{l();var _=i("Requested By *");e(a,_)},$$slots:{default:!0}});var C=t(S,2);tt(C,{type:"single",required:!0,get value(){return r(Qe)},set value(a){d(Qe,a,!0)},children:(a,o)=>{var _=Yr(),L=m(_);rt(L,{children:(I,b)=>{var p=Xr(),P=$(p,!0);f(p),T(D=>N(P,D),[()=>{var D;return((D=qe.data.employees.find(R=>R.id===r(Qe)))==null?void 0:D.name)||"Select employee"}]),e(I,p)},$$slots:{default:!0}});var A=t(L,2);at(A,{children:(I,b)=>{var p=Je(),P=m(p);ut(P,17,()=>qe.data.employees,vt,(D,R)=>{Re(D,{get value(){return r(R).id},children:(G,_e)=>{l();var Ie=i();T(()=>N(Ie,r(R).name)),e(G,Ie)},$$slots:{default:!0}})}),e(I,p)},$$slots:{default:!0}}),e(a,_)},$$slots:{default:!0}});var c=t(C,2);Me(c),f(v);var V=t(v,2),h=$(V);X(h,{for:"date_edit",children:(a,o)=>{l();var _=i("Date *");e(a,_)},$$slots:{default:!0}});var E=t(h,2);Pe(E,{id:"date_edit",name:"date",type:"date",required:!0,get value(){return r(k).date},set value(a){r(k).date=a}}),f(V);var oe=t(V,2),xe=$(oe);Ce(xe,{type:"submit",class:"flex-1",children:(a,o)=>{l();var _=i("Save Changes");e(a,_)},$$slots:{default:!0}});var s=t(xe,2);Ce(s,{type:"button",variant:"outline",onclick:Nt,children:(a,o)=>{l();var _=i("Cancel");e(a,_)},$$slots:{default:!0}}),f(oe),f(ue),f(ae),_t(ae,(a,o)=>{var _;return(_=ct)==null?void 0:_(a,o)},()=>()=>async({result:a})=>{var o,_;a.type==="success"?(d(Ge,!1),await Xe("app:feed_inventory"),lt("Feed item updated successfully!","update"),d(Ye,null),d(k,{},!0),d(st,null),d(Ue,void 0),d(Qe,void 0)):a.type==="failure"&&(d(de,typeof((o=a.data)==null?void 0:o.error)=="string"?a.data.error:JSON.stringify((_=a.data)==null?void 0:_.error)||"An error occurred",!0),nt(r(de)))}),T(()=>{He(fe,r(Ye)),He(F,r(Ue)),He(c,r(Qe))}),e(Ne,J)},$$slots:{default:!0}})}),e(W,Q)},$$slots:{default:!0}})}),e(q,ce)},$$slots:{default:!0}})});var xt=t(yt,2);y(xt,()=>ar,(n,B)=>{B(n,{get open(){return r(Ke)},set open(q){d(Ke,q,!0)},children:(q,K)=>{var ce=Je(),ie=m(ce);y(ie,()=>Wt,(be,Y)=>{Y(be,{children:(W,Se)=>{var Q=sa(),$e=m(Q);y($e,()=>Xt,(Z,ee)=>{ee(Z,{})});var ke=t($e,2);y(ke,()=>Yt,(Z,ee)=>{ee(Z,{children:(Ne,te)=>{var J=aa(),re=m(J);y(re,()=>Zt,(fe,ue)=>{ue(fe,{children:(pe,Fe)=>{var O=ta(),se=m(O);y(se,()=>er,(H,x)=>{x(H,{children:(g,F)=>{l();var j=i("Delete Feed Item");e(g,j)},$$slots:{default:!0}})});var M=t(se,2);y(M,()=>tr,(H,x)=>{x(H,{children:(g,F)=>{l();var j=i();T(()=>{var me;return N(j,`Are you sure you want to delete "${((me=r(ot))==null?void 0:me.feed_name)??""}"? This action cannot be undone.`)}),e(g,j)},$$slots:{default:!0}})}),e(pe,O)},$$slots:{default:!0}})});var ae=t(re,2);y(ae,()=>rr,(fe,ue)=>{ue(fe,{children:(pe,Fe)=>{var O=ra(),se=$(O);Me(se);var M=t(se,2);Ce(M,{type:"button",variant:"outline",onclick:()=>d(Ke,!1),children:(x,g)=>{l();var F=i("Cancel");e(x,F)},$$slots:{default:!0}});var H=t(M,2);Ce(H,{type:"submit",variant:"destructive",children:(x,g)=>{l();var F=i("Delete");e(x,F)},$$slots:{default:!0}}),f(O),_t(O,(x,g)=>{var F;return(F=ct)==null?void 0:F(x,g)},()=>()=>async({result:x})=>{var g,F;x.type==="success"?(d(Ke,!1),await Xe("app:feed_inventory"),lt("Feed item deleted successfully!","delete")):x.type==="failure"&&(d(de,typeof((g=x.data)==null?void 0:g.error)=="string"?x.data.error:JSON.stringify((F=x.data)==null?void 0:F.error)||"An error occurred",!0),nt(r(de)))}),T(()=>{var x;return He(se,(x=r(ot))==null?void 0:x.id)}),e(pe,O)},$$slots:{default:!0}})}),e(Ne,J)},$$slots:{default:!0}})}),e(W,Q)},$$slots:{default:!0}})}),e(q,ce)},$$slots:{default:!0}})});var Pt=t(xt,2),Qt=$(Pt);{var jt=n=>{var B=da(),q=$(B);$t(q,{get variant(){return je},get class(){return ze},children:(K,ce)=>{var ie=oa(),be=m(ie);ir(be,{});var Y=t(be,2);sr(Y,{children:(W,Se)=>{l();var Q=i();T(()=>N(Q,dt)),e(W,Q)},$$slots:{default:!0}}),e(K,ie)},$$slots:{default:!0}}),f(B),e(n,B)};et(Qt,n=>{r(We)&&n(jt)})}f(Pt),e(Rt,mt),Jt()}export{Da as component};
