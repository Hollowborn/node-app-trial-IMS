import{f as c,a as e,t as d,d as Le}from"../chunks/CY4Ce0c4.js";import{p as tr,l as w,m as at,k as m,t as C,o as rr,c as _,s as t,q as s,n as i,r as v,u as a,v as ut}from"../chunks/BdQXYw_T.js";import{s as z}from"../chunks/BO5sSAji.js";import{i as je}from"../chunks/D9hGQICX.js";import{e as ar,i as sr}from"../chunks/DsUCSRu3.js";import{c as $}from"../chunks/B7wWqVz8.js";import{a as $t,e as ft,A as pt}from"../chunks/B6zvQKrV.js";import{r as zt,s as Rt}from"../chunks/BZ9DdiR_.js";import{i as Je,g as Nt}from"../chunks/DwnJwU6j.js";import{B as ve}from"../chunks/MTanKdmA.js";import{I as j}from"../chunks/79yj6mvb.js";import{C as or,a as lr,b as nr,c as ir}from"../chunks/C8nz08U9.js";import{L as W}from"../chunks/BXiYU_fU.js";import{A as It,a as Ft}from"../chunks/DG-I9f0P.js";import{P as dr,A as cr,a as _r,b as vr,c as ur,d as $r,e as fr,R as pr,f as mr}from"../chunks/UFUhM6vw.js";import{T as gr,a as hr,b as qt,c as Ce,d as xr,P as Lt,D as Et,e as Ot,f as Bt,g as Mt,h as Vt,R as Ut,i as De,S as yr,C as Pr}from"../chunks/CEVutZxn.js";import{B as br}from"../chunks/_cz2kCqa.js";import{R as mt,P as kr}from"../chunks/0urWu8Wf.js";import{S as wr}from"../chunks/CPLOLVSj.js";import{A as Sr}from"../chunks/eT-nG_na.js";import{S as Ar}from"../chunks/CfmL5u39.js";import{P as Cr,C as Dr,T as Tr}from"../chunks/CTGOP75E.js";import{A as zr,a as Rr}from"../chunks/DgoSFWl1.js";import{F as Nr}from"../chunks/CjnbRfgs.js";import{T as gt,a as ht}from"../chunks/D_UmtYL2.js";import{C as Ir}from"../chunks/BQbVfyjS.js";import{D as Fr}from"../chunks/BEZ6n8_C.js";var qr=c("<!> Back to Clients",1),Lr=c("<!> <!>",1),Er=c("<!> Add Stocking",1),Or=c('<div class="text-center py-8 text-gray-500">No stocking records found for this client.</div>'),Br=c('<div class="flex items-center gap-1">Stocking Date <!></div>'),Mr=c('<div class="flex items-center gap-1">Species <!></div>'),Vr=c('<div class="flex items-center gap-1">Fingerlings Stocked <!></div>'),Ur=c('<div class="flex items-center gap-1">Cost <!></div>'),jr=c("<!> <!> <!> <!> <!> <!> <!> <!>",1),Jr=c("<!> ",1),Hr=c("<p> </p>"),Qr=c("<!> <!>",1),Gr=c('<span class="text-gray-400 italic">N/A</span>'),Kr=c("<p>View Harvest Info</p>"),Wr=c("<!> <!>",1),Xr=c("<p>View Sales Info</p>"),Yr=c("<!> <!>",1),Zr=c("<!> <!>",1),ea=c('<div class="flex flex justify-center space-x-2"><!> <!> <!></div>'),ta=c("<!> <!> <!> <!> <!> <!> <!> <!>",1),ra=c("<!> <!>",1),aa=c('<div class="border rounded-lg"><!></div>'),sa=c('<div class="flex items-center gap-4 mb-4"><div class="relative flex-1"><!> <!></div> <!></div> <!>',1),oa=c("<!> <!>",1),la=c("<!> <!>",1),na=c("<!> <!>",1),ia=c('<!> <form method="POST" action="?/create"><div class="space-y-4 mt-6"><!> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="flex gap-2 pt-4"><!> <!></div></div></form>',1),da=c("<!> <!>",1),ca=c("<!> <!>",1),_a=c("<!> <!>",1),va=c('<!> <form method="POST" action="?/update"><input type="hidden" name="id"/> <div class="space-y-4 mt-6"><!> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="flex gap-2 pt-4"><!> <!></div></div></form>',1),ua=c("<!> <!>",1),$a=c("<!> <!>",1),fa=c('<form method="POST" action="?/delete"><input type="hidden" name="id"/> <!> <!></form>'),pa=c("<!> <!>",1),ma=c("<!> <!>",1),ga=c("<!> <!>",1),ha=c('<div class="pointer-events-auto"><!></div>'),xa=c('<div class="space-y-6"><div class="flex justify-between items-center"><div><!> <h1 class="text-2xl font-bold"> </h1> <p class="text-gray-500"> </p></div></div></div> <!> <!> <!> <!> <div class="fixed inset-x-0 bottom-6 flex justify-center z-50 pointer-events-none"><!></div>',1);function Ga(jt,R){tr(R,!0);let Te=w(at(R.data.search||"")),oe=w(null),st=w(null),Ee=w(!1),Oe=w(!1),Be=w(!1),He=w(null),Qe=w(""),Ge=w(""),Ke=w(null),We=w(""),Xe=w(null),Ye=w(null),Ze=w(""),et=w(null),D=w(at({})),Me=w(!1),ot="",Ie="default",Fe="",Ve=w(at(R.data.sortBy||"stocking_date")),qe=w(at(R.data.sortOrder||"desc"));function lt(n,k){switch(ot=n,s(Me,!0),k){case"create":Ie="default",Fe="bg-[var(--primary)] text-[var(--primary-foreground)]";break;case"update":Ie="default",Fe="bg-[var(--secondary)] text-[var(--secondary-foreground)]";break;case"delete":Ie="destructive",Fe="";break;default:Ie="default",Fe="bg-[var(--primary)] text-[var(--primary-foreground)]"}setTimeout(()=>s(Me,!1),3e3)}function nt(n){ot=n,Ie="destructive",Fe="",s(Me,!0),setTimeout(()=>s(Me,!1),3e3)}let it=ut(()=>{var n;return((n=R.data.stockingInfoRecords)==null?void 0:n.filter(k=>{var y;return k.species_name.toLowerCase().includes(a(Te).toLowerCase())||k.fish_size_range.toLowerCase().includes(a(Te).toLowerCase())||((y=k.notes)==null?void 0:y.toLowerCase().includes(a(Te).toLowerCase()))}))||[]});function Jt(n){s(et,n.id,!0),s(st,{...n},!0),s(D,{...n},!0),s(Oe,!0)}function Ht(){s(et,null),s(D,{},!0),s(st,null),s(Oe,!1)}async function Qt(){const n=new URL(window.location.href);a(Te)?n.searchParams.set("search",a(Te)):n.searchParams.delete("search"),n.searchParams.set("sort",a(Ve)),n.searchParams.set("order",a(qe)),await Nt(n.pathname+n.search,{replaceState:!0}),Je(`app:stocking_info:${R.data.client.id}`)}function Gt(n){s(He,n,!0),s(Be,!0)}function xt(n){return n?new Date(n+"T00:00:00").toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"}function Kt(){s(Ee,!0),s(Qe,""),s(Ge,""),s(Ke,null),s(We,""),s(Xe,null),s(Ye,null),s(Ze,""),s(oe,null)}async function tt(n){let k=n,y;a(Ve)===n?a(qe)==="asc"?y="desc":y="asc":(k=n,y="asc"),s(Ve,k,!0),s(qe,y,!0);const N=new URL(window.location.href);N.searchParams.set("sort",a(Ve)),N.searchParams.set("order",a(qe)),console.log("Navigating to:",N.pathname+N.search),await Nt(N.pathname+N.search),Je(`app:stocking_info:${R.data.client.id}`)}function rt(n){if(a(Ve)===n){if(a(qe)==="asc")return zr;if(a(qe)==="desc")return Rr}return Dr}var yt=xa(),dt=m(yt),Pt=_(dt),bt=_(Pt),kt=_(bt);ve(kt,{variant:"ghost",href:"/dashboard/clients",class:"mb-2 -ml-4",children:(n,k)=>{var y=qr(),N=m(y);Sr(N,{class:"h-4 w-4 mr-2"}),i(),e(n,y)},$$slots:{default:!0}});var ct=t(kt,2),Wt=_(ct);v(ct);var wt=t(ct,2),Xt=_(wt);v(wt),v(bt),v(Pt),v(dt);var St=t(dt,2);or(St,{children:(n,k)=>{var y=oa(),N=m(y);lr(N,{class:"h-4",children:(le,ye)=>{var X=Lr(),J=m(X);nr(J,{children:(I,$e)=>{i();var Pe=d();C(()=>z(Pe,`Total Stocking Records for ${R.data.client.name??""}: ${a(it).length??""}`)),e(I,Pe)},$$slots:{default:!0}});var ke=t(J,2);wr(ke,{class:"my-2"}),e(le,X)},$$slots:{default:!0}});var ue=t(N,2);ir(ue,{children:(le,ye)=>{var X=sa(),J=m(X),ke=_(J),I=_(ke);j(I,{placeholder:"Search by species, size range, or notes...",class:"pl-10",get value(){return a(Te)},set value(ee){s(Te,ee,!0)},$$events:{input:Qt}});var $e=t(I,2);Ar($e,{class:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),v(ke);var Pe=t(ke,2);ve(Pe,{onclick:Kt,children:(ee,q)=>{var te=Er(),re=m(te);Cr(re,{class:"h-4 w-4 mr-2"}),i(),e(ee,te)},$$slots:{default:!0}}),v(J);var Y=t(J,2);{var Z=ee=>{var q=Or();e(ee,q)},ze=ee=>{var q=aa(),te=_(q);gr(te,{children:(re,fe)=>{var ne=ra(),pe=m(ne);hr(pe,{children:(S,ae)=>{qt(S,{children:(L,E)=>{var h=jr(),u=m(h);Ce(u,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>tt("stocking_date"),children:(b,F)=>{var p=Br(),B=t(_(p));$(B,()=>rt("stocking_date"),(M,g)=>{g(M,{class:"h-4 w-4"})}),v(p),e(b,p)},$$slots:{default:!0}});var P=t(u,2);Ce(P,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>tt("species_name"),children:(b,F)=>{var p=Mr(),B=t(_(p));$(B,()=>rt("species_name"),(M,g)=>{g(M,{class:"h-4 w-4"})}),v(p),e(b,p)},$$slots:{default:!0}});var H=t(P,2);Ce(H,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>tt("fingerlings_stocked_count_ma"),children:(b,F)=>{var p=Vr(),B=t(_(p));$(B,()=>rt("fingerlings_stocked_count_ma"),(M,g)=>{g(M,{class:"h-4 w-4"})}),v(p),e(b,p)},$$slots:{default:!0}});var Q=t(H,2);Ce(Q,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2",children:(b,F)=>{i();var p=d("Fish Size Range");e(b,p)},$$slots:{default:!0}});var O=t(Q,2);Ce(O,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>tt("cost"),children:(b,F)=>{var p=Ur(),B=t(_(p));$(B,()=>rt("cost"),(M,g)=>{g(M,{class:"h-4 w-4"})}),v(p),e(b,p)},$$slots:{default:!0}});var be=t(O,2);Ce(be,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2",children:(b,F)=>{i();var p=d("Est. Mortality (%)");e(b,p)},$$slots:{default:!0}});var me=t(be,2);Ce(me,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2",children:(b,F)=>{i();var p=d("Notes");e(b,p)},$$slots:{default:!0}});var ge=t(me,2);Ce(ge,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 text-center",children:(b,F)=>{i();var p=d("Actions");e(b,p)},$$slots:{default:!0}}),e(L,h)},$$slots:{default:!0}})},$$slots:{default:!0}});var we=t(pe,2);xr(we,{children:(S,ae)=>{var L=Le(),E=m(L);ar(E,17,()=>a(it),sr,(h,u,P)=>{qt(h,{class:P%2===0?"bg-gray-50 dark:bg-card":"bg-white dark:bg-background",children:(H,Q)=>{var O=ta(),be=m(O);De(be,{children:(g,ie)=>{i();var x=d();C(V=>z(x,V),[()=>xt(a(u).stocking_date)]),e(g,x)},$$slots:{default:!0}});var me=t(be,2);De(me,{children:(g,ie)=>{br(g,{variant:"outline",class:"flex items-center gap-1",children:(x,V)=>{var de=Jr(),o=m(de);Nr(o,{class:"h-3 w-3"});var r=t(o);C(()=>z(r,` ${a(u).species_name??""}`)),e(x,de)},$$slots:{default:!0}})},$$slots:{default:!0}});var ge=t(me,2);De(ge,{children:(g,ie)=>{i();var x=d();C(()=>z(x,a(u).fingerlings_stocked_count_ma)),e(g,x)},$$slots:{default:!0}});var b=t(ge,2);De(b,{children:(g,ie)=>{i();var x=d();C(()=>z(x,a(u).fish_size_range)),e(g,x)},$$slots:{default:!0}});var F=t(b,2);De(F,{children:(g,ie)=>{i();var x=d();C(V=>z(x,`₱${V??""}`),[()=>a(u).cost.toFixed(2)]),e(g,x)},$$slots:{default:!0}});var p=t(F,2);De(p,{children:(g,ie)=>{i();var x=d();C(()=>z(x,a(u).estimated_mortality_rate_percent!==null?a(u).estimated_mortality_rate_percent+"%":"N/A")),e(g,x)},$$slots:{default:!0}});var B=t(p,2);De(B,{class:"max-w-xs truncate",children:(g,ie)=>{var x=Le(),V=m(x);{var de=r=>{var l=Le(),f=m(l);$(f,()=>mt,(ce,U)=>{U(ce,{children:(se,he)=>{var A=Qr(),T=m(A);$(T,()=>gt,(_e,G)=>{G(_e,{class:"truncate max-w-xs block",children:(Se,Ue)=>{i();var K=d();C(()=>z(K,a(u).notes)),e(Se,K)},$$slots:{default:!0}})});var xe=t(T,2);$(xe,()=>ht,(_e,G)=>{G(_e,{children:(Se,Ue)=>{var K=Hr(),Ae=_(K,!0);v(K),C(()=>z(Ae,a(u).notes)),e(Se,K)},$$slots:{default:!0}})}),e(se,A)},$$slots:{default:!0}})}),e(r,l)},o=r=>{var l=Gr();e(r,l)};je(V,r=>{a(u).notes?r(de):r(o,!1)})}e(g,x)},$$slots:{default:!0}});var M=t(B,2);De(M,{children:(g,ie)=>{var x=ea(),V=_(x);$(V,()=>kr,(r,l)=>{l(r,{delayDuration:100,children:(f,ce)=>{var U=Zr(),se=m(U);$(se,()=>mt,(A,T)=>{T(A,{children:(xe,_e)=>{var G=Wr(),Se=m(G);$(Se,()=>gt,(K,Ae)=>{Ae(K,{class:"truncate max-w-xs block",children:(Re,_t)=>{const Ne=ut(()=>`/dashboard/clients/${a(u).client_id}/stocking-info/${a(u).id}/harvest-info`);ve(Re,{variant:"outline",size:"sm",get href(){return a(Ne)},title:"View Harvest Info",children:(vt,er)=>{Ir(vt,{class:"h-4 w-4"})},$$slots:{default:!0}})},$$slots:{default:!0}})});var Ue=t(Se,2);$(Ue,()=>ht,(K,Ae)=>{Ae(K,{children:(Re,_t)=>{var Ne=Kr();e(Re,Ne)},$$slots:{default:!0}})}),e(xe,G)},$$slots:{default:!0}})});var he=t(se,2);$(he,()=>mt,(A,T)=>{T(A,{children:(xe,_e)=>{var G=Yr(),Se=m(G);$(Se,()=>gt,(K,Ae)=>{Ae(K,{class:"truncate max-w-xs block",children:(Re,_t)=>{const Ne=ut(()=>`/dashboard/clients/${a(u).client_id}/stocking-info/${a(u).id}/sales`);ve(Re,{variant:"outline",size:"sm",get href(){return a(Ne)},title:"View Sales Info",children:(vt,er)=>{Fr(vt,{class:"h-4 w-4"})},$$slots:{default:!0}})},$$slots:{default:!0}})});var Ue=t(Se,2);$(Ue,()=>ht,(K,Ae)=>{Ae(K,{children:(Re,_t)=>{var Ne=Xr();e(Re,Ne)},$$slots:{default:!0}})}),e(xe,G)},$$slots:{default:!0}})}),e(f,U)},$$slots:{default:!0}})});var de=t(V,2);ve(de,{variant:"outline",size:"sm",onclick:()=>Jt(a(u)),children:(r,l)=>{yr(r,{})},$$slots:{default:!0}});var o=t(de,2);ve(o,{variant:"outline",size:"sm",onclick:()=>Gt(a(u)),children:(r,l)=>{Tr(r,{class:"h-4 w-4 text-red-500"})},$$slots:{default:!0}}),v(x),e(g,x)},$$slots:{default:!0}}),e(H,O)},$$slots:{default:!0}})}),e(S,L)},$$slots:{default:!0}}),e(re,ne)},$$slots:{default:!0}}),v(q),e(ee,q)};je(Y,ee=>{a(it).length===0?ee(Z):ee(ze,!1)})}e(le,X)},$$slots:{default:!0}}),e(n,y)},$$slots:{default:!0}});var At=t(St,2);$(At,()=>Ut,(n,k)=>{k(n,{get open(){return a(Ee)},set open(y){s(Ee,y,!0)},children:(y,N)=>{var ue=Le(),le=m(ue);$(le,()=>Lt,(ye,X)=>{X(ye,{children:(J,ke)=>{var I=da(),$e=m(I);$($e,()=>Et,(Y,Z)=>{Z(Y,{})});var Pe=t($e,2);$(Pe,()=>Ot,(Y,Z)=>{Z(Y,{class:"sm:max-w-[425px] p-6",children:(ze,ee)=>{var q=ia(),te=m(q);$(te,()=>Bt,(o,r)=>{r(o,{children:(l,f)=>{var ce=la(),U=m(ce);$(U,()=>Mt,(he,A)=>{A(he,{children:(T,xe)=>{i();var _e=d("Add New Stocking Information");e(T,_e)},$$slots:{default:!0}})});var se=t(U,2);$(se,()=>Vt,(he,A)=>{A(he,{children:(T,xe)=>{i();var _e=d();C(()=>z(_e,`Enter the stocking details below for ${R.data.client.name??""}.`)),e(T,_e)},$$slots:{default:!0}})}),e(l,ce)},$$slots:{default:!0}})});var re=t(te,2),fe=_(re),ne=_(fe);{var pe=o=>{pt(o,{variant:"destructive",children:(r,l)=>{var f=na(),ce=m(f);It(ce,{class:"h-4 w-4"});var U=t(ce,2);Ft(U,{children:(se,he)=>{i();var A=d();C(()=>z(A,a(oe))),e(se,A)},$$slots:{default:!0}}),e(r,f)},$$slots:{default:!0}})};je(ne,o=>{a(oe)&&o(pe)})}var we=t(ne,2),S=_(we);W(S,{for:"stocking_date_create",children:(o,r)=>{i();var l=d("Stocking Date *");e(o,l)},$$slots:{default:!0}});var ae=t(S,2);j(ae,{id:"stocking_date_create",name:"stocking_date",type:"date",required:!0,get value(){return a(Qe)},set value(o){s(Qe,o,!0)}}),v(we);var L=t(we,2),E=_(L);W(E,{for:"species_name_create",children:(o,r)=>{i();var l=d("Species Name *");e(o,l)},$$slots:{default:!0}});var h=t(E,2);j(h,{id:"species_name_create",name:"species_name",type:"text",required:!0,maxlength:50,get value(){return a(Ge)},set value(o){s(Ge,o,!0)}}),v(L);var u=t(L,2),P=_(u);W(P,{for:"fingerlings_stocked_count_ma_create",children:(o,r)=>{i();var l=d("Fingerlings Stocked (Actual Count) *");e(o,l)},$$slots:{default:!0}});var H=t(P,2);j(H,{id:"fingerlings_stocked_count_ma_create",name:"fingerlings_stocked_count_ma",type:"number",step:"1",required:!0,get value(){return a(Ke)},set value(o){s(Ke,o,!0)}}),v(u);var Q=t(u,2),O=_(Q);W(O,{for:"fish_size_range_create",children:(o,r)=>{i();var l=d('Fish Size Range (e.g., "1-2 cm", "5-10g") *');e(o,l)},$$slots:{default:!0}});var be=t(O,2);j(be,{id:"fish_size_range_create",name:"fish_size_range",type:"text",required:!0,maxlength:50,get value(){return a(We)},set value(o){s(We,o,!0)}}),v(Q);var me=t(Q,2),ge=_(me);W(ge,{for:"cost_create",children:(o,r)=>{i();var l=d("Cost (₱) *");e(o,l)},$$slots:{default:!0}});var b=t(ge,2);j(b,{id:"cost_create",name:"cost",type:"number",step:"0.01",required:!0,get value(){return a(Xe)},set value(o){s(Xe,o,!0)}}),v(me);var F=t(me,2),p=_(F);W(p,{for:"estimated_mortality_rate_percent_create",children:(o,r)=>{i();var l=d("Estimated Mortality Rate (%)");e(o,l)},$$slots:{default:!0}});var B=t(p,2);j(B,{id:"estimated_mortality_rate_percent_create",name:"estimated_mortality_rate_percent",type:"number",step:"0.01",min:"0",max:"100",get value(){return a(Ye)},set value(o){s(Ye,o,!0)}}),v(F);var M=t(F,2),g=_(M);W(g,{for:"notes_create",children:(o,r)=>{i();var l=d("Notes");e(o,l)},$$slots:{default:!0}});var ie=t(g,2);j(ie,{id:"notes_create",name:"notes",type:"text",maxlength:255,get value(){return a(Ze)},set value(o){s(Ze,o,!0)}}),v(M);var x=t(M,2),V=_(x);ve(V,{type:"submit",class:"flex-1",children:(o,r)=>{i();var l=d("Add Stocking");e(o,l)},$$slots:{default:!0}});var de=t(V,2);ve(de,{type:"button",variant:"outline",onclick:()=>s(Ee,!1),children:(o,r)=>{i();var l=d("Cancel");e(o,l)},$$slots:{default:!0}}),v(x),v(fe),v(re),$t(re,(o,r)=>{var l;return(l=ft)==null?void 0:l(o,r)},()=>()=>async({result:o})=>{var r,l;o.type==="success"?(s(Ee,!1),await Je(`app:stocking_info:${R.data.client.id}`),lt("Stocking record created successfully!","create"),s(Qe,""),s(Ge,""),s(Ke,null),s(We,""),s(Xe,null),s(Ye,null),s(Ze,""),s(oe,null)):o.type==="failure"&&(s(oe,typeof((r=o.data)==null?void 0:r.error)=="string"?o.data.error:JSON.stringify((l=o.data)==null?void 0:l.error)||"An error occurred",!0),nt(a(oe)))}),e(ze,q)},$$slots:{default:!0}})}),e(J,I)},$$slots:{default:!0}})}),e(y,ue)},$$slots:{default:!0}})});var Ct=t(At,2);$(Ct,()=>Ut,(n,k)=>{k(n,{get open(){return a(Oe)},set open(y){s(Oe,y,!0)},children:(y,N)=>{var ue=Le(),le=m(ue);$(le,()=>Lt,(ye,X)=>{X(ye,{children:(J,ke)=>{var I=ua(),$e=m(I);$($e,()=>Et,(Y,Z)=>{Z(Y,{})});var Pe=t($e,2);$(Pe,()=>Ot,(Y,Z)=>{Z(Y,{class:"sm:max-w-[425px] p-6",children:(ze,ee)=>{var q=va(),te=m(q);$(te,()=>Bt,(r,l)=>{l(r,{children:(f,ce)=>{var U=ca(),se=m(U);$(se,()=>Mt,(A,T)=>{T(A,{children:(xe,_e)=>{i();var G=d("Edit Stocking Information");e(xe,G)},$$slots:{default:!0}})});var he=t(se,2);$(he,()=>Vt,(A,T)=>{T(A,{children:(xe,_e)=>{i();var G=d();C(()=>z(G,`Update the stocking details below for ${R.data.client.name??""}.`)),e(xe,G)},$$slots:{default:!0}})}),e(f,U)},$$slots:{default:!0}})});var re=t(te,2),fe=_(re);zt(fe);var ne=t(fe,2),pe=_(ne);{var we=r=>{pt(r,{variant:"destructive",children:(l,f)=>{var ce=_a(),U=m(ce);It(U,{class:"h-4 w-4"});var se=t(U,2);Ft(se,{children:(he,A)=>{i();var T=d();C(()=>z(T,a(oe))),e(he,T)},$$slots:{default:!0}}),e(l,ce)},$$slots:{default:!0}})};je(pe,r=>{a(oe)&&r(we)})}var S=t(pe,2),ae=_(S);W(ae,{for:"stocking_date_edit",children:(r,l)=>{i();var f=d("Stocking Date *");e(r,f)},$$slots:{default:!0}});var L=t(ae,2);j(L,{id:"stocking_date_edit",name:"stocking_date",type:"date",required:!0,get value(){return a(D).stocking_date},set value(r){a(D).stocking_date=r}}),v(S);var E=t(S,2),h=_(E);W(h,{for:"species_name_edit",children:(r,l)=>{i();var f=d("Species Name *");e(r,f)},$$slots:{default:!0}});var u=t(h,2);j(u,{id:"species_name_edit",name:"species_name",type:"text",required:!0,maxlength:50,get value(){return a(D).species_name},set value(r){a(D).species_name=r}}),v(E);var P=t(E,2),H=_(P);W(H,{for:"fingerlings_stocked_count_ma_edit",children:(r,l)=>{i();var f=d("Fingerlings Stocked (Actual Count) *");e(r,f)},$$slots:{default:!0}});var Q=t(H,2);j(Q,{id:"fingerlings_stocked_count_ma_edit",name:"fingerlings_stocked_count_ma",type:"number",step:"1",required:!0,get value(){return a(D).fingerlings_stocked_count_ma},set value(r){a(D).fingerlings_stocked_count_ma=r}}),v(P);var O=t(P,2),be=_(O);W(be,{for:"fish_size_range_edit",children:(r,l)=>{i();var f=d('Fish Size Range (e.g., "1-2 cm", "5-10g") *');e(r,f)},$$slots:{default:!0}});var me=t(be,2);j(me,{id:"fish_size_range_edit",name:"fish_size_range",type:"text",required:!0,maxlength:50,get value(){return a(D).fish_size_range},set value(r){a(D).fish_size_range=r}}),v(O);var ge=t(O,2),b=_(ge);W(b,{for:"cost_edit",children:(r,l)=>{i();var f=d("Cost (₱) *");e(r,f)},$$slots:{default:!0}});var F=t(b,2);j(F,{id:"cost_edit",name:"cost",type:"number",step:"0.01",required:!0,get value(){return a(D).cost},set value(r){a(D).cost=r}}),v(ge);var p=t(ge,2),B=_(p);W(B,{for:"estimated_mortality_rate_percent_edit",children:(r,l)=>{i();var f=d("Estimated Mortality Rate (%)");e(r,f)},$$slots:{default:!0}});var M=t(B,2);j(M,{id:"estimated_mortality_rate_percent_edit",name:"estimated_mortality_rate_percent",type:"number",step:"0.01",min:"0",max:"100",get value(){return a(D).estimated_mortality_rate_percent},set value(r){a(D).estimated_mortality_rate_percent=r}}),v(p);var g=t(p,2),ie=_(g);W(ie,{for:"notes_edit",children:(r,l)=>{i();var f=d("Notes");e(r,f)},$$slots:{default:!0}});var x=t(ie,2);j(x,{id:"notes_edit",name:"notes",type:"text",maxlength:255,get value(){return a(D).notes},set value(r){a(D).notes=r}}),v(g);var V=t(g,2),de=_(V);ve(de,{type:"submit",class:"flex-1",children:(r,l)=>{i();var f=d("Save Changes");e(r,f)},$$slots:{default:!0}});var o=t(de,2);ve(o,{type:"button",variant:"outline",onclick:Ht,children:(r,l)=>{i();var f=d("Cancel");e(r,f)},$$slots:{default:!0}}),v(V),v(ne),v(re),$t(re,(r,l)=>{var f;return(f=ft)==null?void 0:f(r,l)},()=>()=>async({result:r})=>{var l,f;r.type==="success"?(s(Oe,!1),await Je(`app:stocking_info:${R.data.client.id}`),lt("Stocking information updated successfully!","update"),s(et,null),s(D,{},!0),s(st,null)):r.type==="failure"&&(s(oe,typeof((l=r.data)==null?void 0:l.error)=="string"?r.data.error:JSON.stringify((f=r.data)==null?void 0:f.error)||"An error occurred",!0),nt(a(oe)))}),C(()=>Rt(fe,a(et))),e(ze,q)},$$slots:{default:!0}})}),e(J,I)},$$slots:{default:!0}})}),e(y,ue)},$$slots:{default:!0}})});var Dt=t(Ct,2);$(Dt,()=>pr,(n,k)=>{k(n,{get open(){return a(Be)},set open(y){s(Be,y,!0)},children:(y,N)=>{var ue=Le(),le=m(ue);$(le,()=>dr,(ye,X)=>{X(ye,{children:(J,ke)=>{var I=ma(),$e=m(I);$($e,()=>cr,(Y,Z)=>{Z(Y,{})});var Pe=t($e,2);$(Pe,()=>_r,(Y,Z)=>{Z(Y,{children:(ze,ee)=>{var q=pa(),te=m(q);$(te,()=>vr,(fe,ne)=>{ne(fe,{children:(pe,we)=>{var S=$a(),ae=m(S);$(ae,()=>ur,(E,h)=>{h(E,{children:(u,P)=>{i();var H=d("Delete Stocking Information");e(u,H)},$$slots:{default:!0}})});var L=t(ae,2);$(L,()=>$r,(E,h)=>{h(E,{children:(u,P)=>{i();var H=d();C(Q=>{var O;return z(H,`Are you sure you want to delete the stocking record for "${((O=a(He))==null?void 0:O.species_name)??""}" on ${Q??""}? This will also delete all associated harvest records. This action cannot be undone.`)},[()=>{var Q;return xt((Q=a(He))==null?void 0:Q.stocking_date)}]),e(u,H)},$$slots:{default:!0}})}),e(pe,S)},$$slots:{default:!0}})});var re=t(te,2);$(re,()=>fr,(fe,ne)=>{ne(fe,{children:(pe,we)=>{var S=fa(),ae=_(S);zt(ae);var L=t(ae,2);ve(L,{type:"button",variant:"outline",onclick:()=>s(Be,!1),children:(h,u)=>{i();var P=d("Cancel");e(h,P)},$$slots:{default:!0}});var E=t(L,2);ve(E,{type:"submit",variant:"destructive",children:(h,u)=>{i();var P=d("Delete");e(h,P)},$$slots:{default:!0}}),v(S),$t(S,(h,u)=>{var P;return(P=ft)==null?void 0:P(h,u)},()=>()=>async({result:h})=>{var u,P;h.type==="success"?(s(Be,!1),await Je(`app:stocking_info:${R.data.client.id}`),lt("Stocking record deleted successfully!","delete")):h.type==="failure"&&(s(oe,typeof((u=h.data)==null?void 0:u.error)=="string"?h.data.error:JSON.stringify((P=h.data)==null?void 0:P.error)||"An error occurred",!0),nt(a(oe)))}),C(()=>{var h;return Rt(ae,(h=a(He))==null?void 0:h.id)}),e(pe,S)},$$slots:{default:!0}})}),e(ze,q)},$$slots:{default:!0}})}),e(J,I)},$$slots:{default:!0}})}),e(y,ue)},$$slots:{default:!0}})});var Tt=t(Dt,2),Yt=_(Tt);{var Zt=n=>{var k=ha(),y=_(k);pt(y,{get variant(){return Ie},get class(){return Fe},children:(N,ue)=>{var le=ga(),ye=m(le);Pr(ye,{});var X=t(ye,2);mr(X,{children:(J,ke)=>{i();var I=d();C(()=>z(I,ot)),e(J,I)},$$slots:{default:!0}}),e(N,le)},$$slots:{default:!0}}),v(k),e(n,k)};je(Yt,n=>{a(Me)&&n(Zt)})}v(Tt),C(()=>{z(Wt,`Stocking Information for ${R.data.client.name??""}`),z(Xt,`Operator Type: ${R.data.client.operator_type??""} | Address: ${R.data.client.address??""}`)}),e(jt,yt),rr()}export{Ga as component};
