import{f as u,a as e,t as n,c as Xe}from"../chunks/Do_-mL-j.js";import{p as Ht,a as H,b as Ye,s as t,f as p,d as Vt,t as I,c,e as i,n as l,g as r,u as wt,r as $}from"../chunks/CSgM7ggg.js";import{s as U}from"../chunks/Cc2sBIKg.js";import{i as Ze}from"../chunks/DFkGWr6I.js";import{e as vt,i as _t}from"../chunks/BveS6AeT.js";import{c as y}from"../chunks/BxwOPTHF.js";import{a as ct,e as $t,A as ft}from"../chunks/BOZ4giT5.js";import{r as ze,s as Je}from"../chunks/eOTtUvit.js";import{i as Ke,g as qt}from"../chunks/uKHEHksz.js";import{B as De}from"../chunks/BVmkDKMc.js";import{I as Pe}from"../chunks/B5-iWWaj.js";import{C as Gt,a as Kt,b as Wt,c as Xt}from"../chunks/BBrFK00f.js";import{L as Y}from"../chunks/Bo2GsiZ3.js";import{T as Yt,a as Zt,b as St,c as Be,d as er,P as Ft,D as At,e as Ct,f as Dt,g as Bt,h as Nt,A as Tt,i as It,R as Rt,j as Ne,S as tr,C as rr}from"../chunks/CdrzcX6z.js";import{P as ar,A as sr,a as or,b as dr,c as lr,d as nr,e as ir,R as ur,f as vr}from"../chunks/DRgJLo_S.js";import{R as et,S as tt,a as rt,b as qe}from"../chunks/B762jp4P.js";import{B as Ot}from"../chunks/Dlm0QRJp.js";import{S as _r}from"../chunks/C9JwNqn8.js";import{S as cr}from"../chunks/C0R_oNfb.js";import{P as $r,C as fr,T as pr}from"../chunks/ARt1Dh6s.js";import{A as mr,a as gr}from"../chunks/B3v1Wr7v.js";import{t as at}from"../chunks/Ca16gRfA.js";import{U as hr}from"../chunks/nTpf8bzQ.js";var yr=u("<!> <!>",1),xr=u("<!> Add Feed Item",1),Pr=u('<div class="text-center py-8 text-gray-500">No feed items found</div>'),br=u('<div class="flex items-center gap-1">Feed Name <!></div>'),kr=u('<div class="flex items-center gap-1">Feed Stage <!></div>'),wr=u('<div class="flex items-center gap-1">Quantity (kg) <!></div>'),qr=u('<div class="flex items-center gap-1">Cost per Unit <!></div>'),Sr=u('<div class="flex items-center gap-1">Total Cost <!></div>'),Fr=u('<div class="flex items-center gap-1">Requested By <!></div>'),Ar=u('<div class="flex items-center gap-1">Date <!></div>'),Cr=u('<div class="flex items-center gap-1">Created At <!></div>'),Dr=u("<!> <!> <!> <!> <!> <!> <!> <!> <!>",1),Br=u("<!> ",1),Nr=u('<div class="flex flex justify-center space-x-2"><!> <!></div>'),Tr=u("<!> <!> <!> <!> <!> <!> <!> <!> <!>",1),Ir=u("<!> <!>",1),Rr=u('<div class="border rounded-lg"><!></div>'),Or=u('<div class="flex items-center gap-4 mb-4"><div class="relative flex-1"><!> <!></div> <!></div> <!>',1),Lr=u("<!> <!>",1),Ur=u("<!> <!>",1),Qr=u("<!> <!>",1),Er=u("<span> </span>"),jr=u("<!> <!> <!>",1),zr=u("<!> <!>",1),Jr=u("<span> </span>"),Mr=u("<!> <!>",1),Hr=u("<!> <!>",1),Vr=u('<!> <form method="POST" action="?/create"><div class="space-y-4 mt-6"><!> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!> <input type="hidden" name="feed_stage"/></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!> <input type="hidden" name="requested_by"/></div> <div class="space-y-2"><!> <!></div> <div class="flex gap-2 pt-4"><!> <!></div></div></form>',1),Gr=u("<!> <!>",1),Kr=u("<!> <!>",1),Wr=u("<!> <!>",1),Xr=u("<span> </span>"),Yr=u("<!> <!> <!>",1),Zr=u("<!> <!>",1),ea=u("<span> </span>"),ta=u("<!> <!>",1),ra=u("<!> <!>",1),aa=u('<!> <form method="POST" action="?/update"><input type="hidden" name="id"/> <div class="space-y-4 mt-6"><!> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!> <input type="hidden" name="feed_stage"/></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!> <input type="hidden" name="requested_by"/></div> <div class="space-y-2"><!> <!></div> <div class="flex gap-2 pt-4"><!> <!></div></div></form>',1),sa=u("<!> <!>",1),oa=u("<!> <!>",1),da=u('<form method="POST" action="?/delete"><input type="hidden" name="id"/> <!> <!></form>'),la=u("<!> <!>",1),na=u("<!> <!>",1),ia=u("<!> <!>",1),ua=u('<div class="pointer-events-auto"><!></div>'),va=u('<div class="space-y-6"><div class="flex justify-between items-center"><div><h1 class="text-2xl font-bold">Feeds Inventory Management</h1> <p class="text-gray-500">Manage feed stock and consumption records</p></div></div></div>  <!> <!> <!> <!> <div class="fixed inset-x-0 bottom-6 flex justify-center z-50 pointer-events-none"><!></div>',1);function Ia(Lt,Se){Ht(Se,!0);let Me=H(Ye(Se.data.search||"")),ie=H(null),st=H(null),He=H(!1),Ve=H(!1),Ge=H(!1),ot=H(null),Oe=H(void 0),Le=H(void 0),Ue=H(void 0),Qe=H(void 0),We=H(null),k=H(Ye({})),dt=H(!1),lt="",Ee="default",je="",ue=H(Ye(Se.data.sortBy||"created_at")),ve=H(Ye(Se.data.sortOrder||"desc"));function pt(d){return d==null?"â‚±0.00":new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(d)}function nt(d,N){switch(lt=d,N){case"create":Ee="default",je="bg-[var(--primary)] text-[var(--primary-foreground)]",at.success(d);break;case"update":Ee="default",je="bg-[var(--secondary)] text-[var(--secondary-foreground)]",at.success(d);break;case"delete":Ee="destructive",je="",at.info(d);break;default:Ee="default",je="bg-[var(--primary)] text-[var(--primary-foreground)]"}setTimeout(()=>i(dt,!1),3e3)}function it(d){lt=d,Ee="destructive",je="",at.error(d),setTimeout(()=>i(dt,!1),3e3)}let ut=wt(()=>{var d;return((d=Se.data.feedItems)==null?void 0:d.filter(N=>{const P=r(Me).toLowerCase(),z=N.feed_name.toLowerCase().includes(P),Z=N.feed_stage.toLowerCase().includes(P),W=N.requested_by_name&&N.requested_by_name.toLowerCase().includes(P);return z||Z||W}))||[]});function Ut(d){i(We,d.id,!0),i(k,{...d},!0),i(st,{...d},!0),i(Le,d.feed_stage,!0),i(Qe,d.requested_by,!0),i(Ve,!0)}function Qt(){i(We,null),i(k,{},!0),i(st,null),i(Ve,!1)}async function Et(){const d=new URL(window.location.href);r(Me)?d.searchParams.set("search",r(Me)):d.searchParams.delete("search"),d.searchParams.set("sort",r(ue)),d.searchParams.set("order",r(ve)),await qt(d.pathname+d.search,{replaceState:!0}),Ke("app:feed_inventory")}function jt(d){i(ot,d,!0),i(Ge,!0)}function mt(d){return d?new Date(d).toLocaleDateString():"N/A"}function zt(){i(He,!0),i(k,{},!0),i(Oe,void 0),i(Ue,void 0),i(ie,null)}async function Te(d){let N=d,P;r(ue)===d?r(ve)==="asc"?P="desc":P="asc":(N=d,P="asc"),i(ue,N,!0),i(ve,P,!0);const z=new URL(window.location.href);z.searchParams.set("sort",r(ue)),z.searchParams.set("order",r(ve)),console.log("Navigating to:",z.pathname+z.search),await qt(z.pathname+z.search),Ke("app:feed_inventory")}function Ie(d,N,P){if(N===d){if(P==="asc")return mr;if(P==="desc")return gr}return fr}var gt=va(),ht=t(p(gt),2);Gt(ht,{children:(d,N)=>{var P=Lr(),z=p(P);Kt(z,{class:"h-4",children:(W,be)=>{var ee=yr(),X=p(ee);Wt(X,{children:(J,fe)=>{l();var ke=n();I(()=>U(ke,`Total Feeds: ${r(ut).length??""}`)),e(J,ke)},$$slots:{default:!0}});var Fe=t(X,2);_r(Fe,{class:"my-2"}),e(W,ee)},$$slots:{default:!0}});var Z=t(z,2);Xt(Z,{children:(W,be)=>{var ee=Or(),X=p(ee),Fe=c(X),J=c(Fe);Pe(J,{placeholder:"Search by feed name, stage, or requested by...",class:"pl-10",get value(){return r(Me)},set value(ae){i(Me,ae,!0)},$$events:{input:Et}});var fe=t(J,2);cr(fe,{class:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),$(Fe);var ke=t(Fe,2);De(ke,{onclick:zt,children:(ae,V)=>{var se=xr(),oe=p(se);$r(oe,{class:"h-4 w-4 mr-2"}),l(),e(ae,se)},$$slots:{default:!0}}),$(X);var te=t(X,2);{var re=ae=>{var V=Pr();e(ae,V)},Re=ae=>{var V=Rr(),se=c(V);Yt(se,{children:(oe,pe)=>{var _e=Ir(),me=p(_e);Zt(me,{children:(Q,de)=>{St(Q,{children:(G,K)=>{var x=Dr(),m=p(x);Be(m,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Te("feed_name"),children:(w,j)=>{var v=br(),q=t(c(v));y(q,()=>Ie("feed_name",r(ue),r(ve)),(S,F)=>{F(S,{class:"h-4 w-4"})}),$(v),e(w,v)},$$slots:{default:!0}});var C=t(m,2);Be(C,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Te("feed_stage"),children:(w,j)=>{var v=kr(),q=t(c(v));y(q,()=>Ie("feed_stage",r(ue),r(ve)),(S,F)=>{F(S,{class:"h-4 w-4"})}),$(v),e(w,v)},$$slots:{default:!0}});var M=t(C,2);Be(M,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Te("quantity_kg"),children:(w,j)=>{var v=wr(),q=t(c(v));y(q,()=>Ie("quantity_kg",r(ue),r(ve)),(S,F)=>{F(S,{class:"h-4 w-4"})}),$(v),e(w,v)},$$slots:{default:!0}});var ge=t(M,2);Be(ge,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Te("cost_per_unit"),children:(w,j)=>{var v=qr(),q=t(c(v));y(q,()=>Ie("cost_per_unit",r(ue),r(ve)),(S,F)=>{F(S,{class:"h-4 w-4"})}),$(v),e(w,v)},$$slots:{default:!0}});var he=t(ge,2);Be(he,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Te("total_cost"),children:(w,j)=>{var v=Sr(),q=t(c(v));y(q,()=>Ie("total_cost",r(ue),r(ve)),(S,F)=>{F(S,{class:"h-4 w-4"})}),$(v),e(w,v)},$$slots:{default:!0}});var ce=t(he,2);Be(ce,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Te("requested_by_name"),children:(w,j)=>{var v=Fr(),q=t(c(v));y(q,()=>Ie("requested_by_name",r(ue),r(ve)),(S,F)=>{F(S,{class:"h-4 w-4"})}),$(v),e(w,v)},$$slots:{default:!0}});var we=t(ce,2);Be(we,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Te("date"),children:(w,j)=>{var v=Ar(),q=t(c(v));y(q,()=>Ie("date",r(ue),r(ve)),(S,F)=>{F(S,{class:"h-4 w-4"})}),$(v),e(w,v)},$$slots:{default:!0}});var ye=t(we,2);Be(ye,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Te("created_at"),children:(w,j)=>{var v=Cr(),q=t(c(v));y(q,()=>Ie("created_at",r(ue),r(ve)),(S,F)=>{F(S,{class:"h-4 w-4"})}),$(v),e(w,v)},$$slots:{default:!0}});var xe=t(ye,2);Be(xe,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 text-center",children:(w,j)=>{l();var v=n("Actions");e(w,v)},$$slots:{default:!0}}),e(G,x)},$$slots:{default:!0}})},$$slots:{default:!0}});var Ae=t(me,2);er(Ae,{children:(Q,de)=>{var G=Xe(),K=p(G);vt(K,17,()=>r(ut),_t,(x,m,C)=>{St(x,{class:C%2===0?"bg-gray-50 dark:bg-card":"bg-white dark:bg-background",children:(M,ge)=>{var he=Tr(),ce=p(he);Ne(ce,{class:"font-bold",children:(A,le)=>{l();var g=n();I(()=>U(g,r(m).feed_name)),e(A,g)},$$slots:{default:!0}});var we=t(ce,2);Ne(we,{children:(A,le)=>{Ot(A,{variant:"outline",class:"flex items-center gap-1",children:(g,E)=>{l();var $e=n();I(()=>U($e,r(m).feed_stage)),e(g,$e)},$$slots:{default:!0}})},$$slots:{default:!0}});var ye=t(we,2);Ne(ye,{children:(A,le)=>{l();var g=n();I(()=>U(g,`${r(m).current_stock_kg??""} / ${r(m).quantity_kg??""} kg`)),e(A,g)},$$slots:{default:!0}});var xe=t(ye,2);Ne(xe,{children:(A,le)=>{l();var g=n();I(E=>U(g,E),[()=>pt(r(m).cost_per_unit)]),e(A,g)},$$slots:{default:!0}});var w=t(xe,2);Ne(w,{children:(A,le)=>{l();var g=n();I(E=>U(g,E),[()=>pt(r(m).total_cost)]),e(A,g)},$$slots:{default:!0}});var j=t(w,2);const v=wt(()=>r(m).requested_by_name?"":"text-gray-400 italic");Ne(j,{get class(){return r(v)},children:(A,le)=>{Ot(A,{variant:"outline",class:"flex items-center gap-1",children:(g,E)=>{var $e=Br(),s=p($e);hr(s,{class:"h-3 w-3"});var a=t(s);I(()=>U(a,` ${r(m).requested_by_name||"N/A"}`)),e(g,$e)},$$slots:{default:!0}})},$$slots:{default:!0}});var q=t(j,2);Ne(q,{children:(A,le)=>{l();var g=n();I(E=>U(g,E),[()=>mt(r(m).date)]),e(A,g)},$$slots:{default:!0}});var S=t(q,2);Ne(S,{class:"text-gray-500 text-sm",children:(A,le)=>{l();var g=n();I(E=>U(g,E),[()=>mt(r(m).created_at)]),e(A,g)},$$slots:{default:!0}});var F=t(S,2);Ne(F,{children:(A,le)=>{var g=Nr(),E=c(g);De(E,{variant:"outline",size:"sm",onclick:()=>Ut(r(m)),children:(s,a)=>{tr(s,{})},$$slots:{default:!0}});var $e=t(E,2);De($e,{variant:"outline",size:"sm",onclick:()=>jt(r(m)),children:(s,a)=>{pr(s,{class:"h-4 w-4 text-red-500"})},$$slots:{default:!0}}),$(g),e(A,g)},$$slots:{default:!0}}),e(M,he)},$$slots:{default:!0}})}),e(Q,G)},$$slots:{default:!0}}),e(oe,_e)},$$slots:{default:!0}}),$(V),e(ae,V)};Ze(te,ae=>{r(ut).length===0?ae(re):ae(Re,!1)})}e(W,ee)},$$slots:{default:!0}}),e(d,P)},$$slots:{default:!0}});var yt=t(ht,2);y(yt,()=>Rt,(d,N)=>{N(d,{get open(){return r(He)},set open(P){i(He,P,!0)},children:(P,z)=>{var Z=Xe(),W=p(Z);y(W,()=>Ft,(be,ee)=>{ee(be,{children:(X,Fe)=>{var J=Gr(),fe=p(J);y(fe,()=>At,(te,re)=>{re(te,{})});var ke=t(fe,2);y(ke,()=>Ct,(te,re)=>{re(te,{class:"sm:max-w-[425px] p-6",children:(Re,ae)=>{var V=Vr(),se=p(V);y(se,()=>Dt,(s,a)=>{a(s,{children:(o,_)=>{var L=Ur(),T=p(L);y(T,()=>Bt,(b,f)=>{f(b,{children:(h,D)=>{l();var B=n("Add New Feed Item");e(h,B)},$$slots:{default:!0}})});var R=t(T,2);y(R,()=>Nt,(b,f)=>{f(b,{children:(h,D)=>{l();var B=n("Enter the feed item's information below.");e(h,B)},$$slots:{default:!0}})}),e(o,L)},$$slots:{default:!0}})});var oe=t(se,2),pe=c(oe),_e=c(pe);{var me=s=>{ft(s,{variant:"destructive",children:(a,o)=>{var _=Qr(),L=p(_);Tt(L,{class:"h-4 w-4"});var T=t(L,2);It(T,{children:(R,b)=>{l();var f=n();I(()=>U(f,r(ie))),e(R,f)},$$slots:{default:!0}}),e(a,_)},$$slots:{default:!0}})};Ze(_e,s=>{r(ie)&&s(me)})}var Ae=t(_e,2),Q=c(Ae);Y(Q,{for:"feed_name_create",children:(s,a)=>{l();var o=n("Feed Name *");e(s,o)},$$slots:{default:!0}});var de=t(Q,2);Pe(de,{id:"feed_name_create",name:"feed_name",required:!0,maxlength:40,get value(){return r(k).feed_name},set value(s){r(k).feed_name=s}}),$(Ae);var G=t(Ae,2),K=c(G);Y(K,{for:"feed_stage_create",children:(s,a)=>{l();var o=n("Feed Stage *");e(s,o)},$$slots:{default:!0}});var x=t(K,2);et(x,{type:"single",required:!0,get value(){return r(Oe)},set value(s){i(Oe,s,!0)},children:(s,a)=>{var o=zr(),_=p(o);tt(_,{children:(T,R)=>{var b=Er(),f=c(b,!0);$(b),I(()=>U(f,r(Oe)||"Select feed stage")),e(T,b)},$$slots:{default:!0}});var L=t(_,2);rt(L,{children:(T,R)=>{var b=jr(),f=p(b);qe(f,{value:"Fry Booster",children:(B,O)=>{l();var ne=n("Fry Booster");e(B,ne)},$$slots:{default:!0}});var h=t(f,2);qe(h,{value:"Pre Starter",children:(B,O)=>{l();var ne=n("Pre Starter");e(B,ne)},$$slots:{default:!0}});var D=t(h,2);qe(D,{value:"Finisher",children:(B,O)=>{l();var ne=n("Finisher");e(B,ne)},$$slots:{default:!0}}),e(T,b)},$$slots:{default:!0}}),e(s,o)},$$slots:{default:!0}});var m=t(x,2);ze(m),$(G);var C=t(G,2),M=c(C);Y(M,{for:"current_kg_create",children:(s,a)=>{l();var o=n("Current Quantity (kg) *");e(s,o)},$$slots:{default:!0}});var ge=t(M,2);Pe(ge,{id:"current_kg_create",name:"current_stock_kg",type:"number",step:"0.01",max:1e4,min:1,get value(){return r(k).current_stock_kg},set value(s){r(k).current_stock_kg=s}}),$(C);var he=t(C,2),ce=c(he);Y(ce,{for:"quantity_kg_create",children:(s,a)=>{l();var o=n("Quantity (kg) *");e(s,o)},$$slots:{default:!0}});var we=t(ce,2);Pe(we,{id:"quantity_kg_create",name:"quantity_kg",type:"number",step:"0.01",max:1e4,min:1,get value(){return r(k).quantity_kg},set value(s){r(k).quantity_kg=s}}),$(he);var ye=t(he,2),xe=c(ye);Y(xe,{for:"cost_per_unit_create",children:(s,a)=>{l();var o=n("Cost per Unit *");e(s,o)},$$slots:{default:!0}});var w=t(xe,2);Pe(w,{id:"cost_per_unit_create",name:"cost_per_unit",type:"number",step:"0.01",max:1e8,min:1,required:!0,get value(){return r(k).cost_per_unit},set value(s){r(k).cost_per_unit=s}}),$(ye);var j=t(ye,2),v=c(j);Y(v,{for:"requested_by_create",children:(s,a)=>{l();var o=n("Requested By");e(s,o)},$$slots:{default:!0}});var q=t(v,2);et(q,{type:"single",get value(){return r(Ue)},set value(s){i(Ue,s,!0)},children:(s,a)=>{var o=Hr(),_=p(o);tt(_,{children:(T,R)=>{var b=Jr(),f=c(b,!0);$(b),I(h=>U(f,h),[()=>{var h;return((h=Se.data.employees.find(D=>D.id===r(Ue)))==null?void 0:h.name)||"Select employee (Optional)"}]),e(T,b)},$$slots:{default:!0}});var L=t(_,2);rt(L,{children:(T,R)=>{var b=Mr(),f=p(b);qe(f,{value:null,children:(D,B)=>{l();var O=n("N/A (No Assignment)");e(D,O)},$$slots:{default:!0}});var h=t(f,2);vt(h,17,()=>Se.data.employees,_t,(D,B)=>{qe(D,{get value(){return r(B).id},children:(O,ne)=>{l();var Ce=n();I(()=>U(Ce,r(B).name)),e(O,Ce)},$$slots:{default:!0}})}),e(T,b)},$$slots:{default:!0}}),e(s,o)},$$slots:{default:!0}});var S=t(q,2);ze(S),$(j);var F=t(j,2),A=c(F);Y(A,{for:"date_create",children:(s,a)=>{l();var o=n("Date *");e(s,o)},$$slots:{default:!0}});var le=t(A,2);Pe(le,{id:"date_create",name:"date",type:"date",required:!0,get value(){return r(k).date},set value(s){r(k).date=s}}),$(F);var g=t(F,2),E=c(g);De(E,{type:"submit",class:"flex-1",children:(s,a)=>{l();var o=n("Add Feed Item");e(s,o)},$$slots:{default:!0}});var $e=t(E,2);De($e,{type:"button",variant:"outline",onclick:()=>i(He,!1),children:(s,a)=>{l();var o=n("Cancel");e(s,o)},$$slots:{default:!0}}),$(g),$(pe),$(oe),ct(oe,(s,a)=>{var o;return(o=$t)==null?void 0:o(s,a)},()=>()=>async({result:s})=>{var a,o;s.type==="success"?(i(He,!1),await Ke("app:feed_inventory"),nt("Feed item added successfully!","create"),i(k,{},!0),i(Oe,void 0),i(Ue,void 0),i(ie,null)):s.type==="failure"&&(i(ie,typeof((a=s.data)==null?void 0:a.error)=="string"?s.data.error:JSON.stringify((o=s.data)==null?void 0:o.error)||"An error occurred",!0),it(r(ie)))}),I(()=>{Je(m,r(Oe)),Je(S,r(Ue))}),e(Re,V)},$$slots:{default:!0}})}),e(X,J)},$$slots:{default:!0}})}),e(P,Z)},$$slots:{default:!0}})});var xt=t(yt,2);y(xt,()=>Rt,(d,N)=>{N(d,{get open(){return r(Ve)},set open(P){i(Ve,P,!0)},children:(P,z)=>{var Z=Xe(),W=p(Z);y(W,()=>Ft,(be,ee)=>{ee(be,{children:(X,Fe)=>{var J=sa(),fe=p(J);y(fe,()=>At,(te,re)=>{re(te,{})});var ke=t(fe,2);y(ke,()=>Ct,(te,re)=>{re(te,{class:"sm:max-w-[425px] p-6",children:(Re,ae)=>{var V=aa(),se=p(V);y(se,()=>Dt,(a,o)=>{o(a,{children:(_,L)=>{var T=Kr(),R=p(T);y(R,()=>Bt,(f,h)=>{h(f,{children:(D,B)=>{l();var O=n("Edit Feed Item");e(D,O)},$$slots:{default:!0}})});var b=t(R,2);y(b,()=>Nt,(f,h)=>{h(f,{children:(D,B)=>{l();var O=n("Update the feed item's information below.");e(D,O)},$$slots:{default:!0}})}),e(_,T)},$$slots:{default:!0}})});var oe=t(se,2),pe=c(oe);ze(pe);var _e=t(pe,2),me=c(_e);{var Ae=a=>{ft(a,{variant:"destructive",children:(o,_)=>{var L=Wr(),T=p(L);Tt(T,{class:"h-4 w-4"});var R=t(T,2);It(R,{children:(b,f)=>{l();var h=n();I(()=>U(h,r(ie))),e(b,h)},$$slots:{default:!0}}),e(o,L)},$$slots:{default:!0}})};Ze(me,a=>{r(ie)&&a(Ae)})}var Q=t(me,2),de=c(Q);Y(de,{for:"feed_name_edit",children:(a,o)=>{l();var _=n("Feed Name *");e(a,_)},$$slots:{default:!0}});var G=t(de,2);Pe(G,{id:"feed_name_edit",name:"feed_name",required:!0,maxlength:40,get value(){return r(k).feed_name},set value(a){r(k).feed_name=a}}),$(Q);var K=t(Q,2),x=c(K);Y(x,{for:"feed_stage_edit",children:(a,o)=>{l();var _=n("Feed Stage *");e(a,_)},$$slots:{default:!0}});var m=t(x,2);et(m,{type:"single",required:!0,get value(){return r(Le)},set value(a){i(Le,a,!0)},children:(a,o)=>{var _=Zr(),L=p(_);tt(L,{children:(R,b)=>{var f=Xr(),h=c(f,!0);$(f),I(()=>U(h,r(Le)||"Select feed stage")),e(R,f)},$$slots:{default:!0}});var T=t(L,2);rt(T,{children:(R,b)=>{var f=Yr(),h=p(f);qe(h,{value:"Fry Booster",children:(O,ne)=>{l();var Ce=n("Fry Booster");e(O,Ce)},$$slots:{default:!0}});var D=t(h,2);qe(D,{value:"Pre Starter",children:(O,ne)=>{l();var Ce=n("Pre Starter");e(O,Ce)},$$slots:{default:!0}});var B=t(D,2);qe(B,{value:"Finisher",children:(O,ne)=>{l();var Ce=n("Finisher");e(O,Ce)},$$slots:{default:!0}}),e(R,f)},$$slots:{default:!0}}),e(a,_)},$$slots:{default:!0}});var C=t(m,2);ze(C),$(K);var M=t(K,2),ge=c(M);Y(ge,{for:"current_kg_edit",children:(a,o)=>{l();var _=n("Current Quantity (kg) *");e(a,_)},$$slots:{default:!0}});var he=t(ge,2);Pe(he,{id:"current_kg_edit",name:"current_stock_kg",type:"number",step:"0.01",required:!0,get value(){return r(k).current_stock_kg},set value(a){r(k).current_stock_kg=a}}),$(M);var ce=t(M,2),we=c(ce);Y(we,{for:"quantity_kg_edit",children:(a,o)=>{l();var _=n("Quantity (kg) *");e(a,_)},$$slots:{default:!0}});var ye=t(we,2);Pe(ye,{id:"quantity_kg_edit",name:"quantity_kg",type:"number",step:"0.01",required:!0,get value(){return r(k).quantity_kg},set value(a){r(k).quantity_kg=a}}),$(ce);var xe=t(ce,2),w=c(xe);Y(w,{for:"cost_per_unit_edit",children:(a,o)=>{l();var _=n("Cost per Unit *");e(a,_)},$$slots:{default:!0}});var j=t(w,2);Pe(j,{id:"cost_per_unit_edit",name:"cost_per_unit",type:"number",step:"0.01",required:!0,get value(){return r(k).cost_per_unit},set value(a){r(k).cost_per_unit=a}}),$(xe);var v=t(xe,2),q=c(v);Y(q,{for:"requested_by_edit",children:(a,o)=>{l();var _=n("Requested By");e(a,_)},$$slots:{default:!0}});var S=t(q,2);et(S,{type:"single",get value(){return r(Qe)},set value(a){i(Qe,a,!0)},children:(a,o)=>{var _=ra(),L=p(_);tt(L,{children:(R,b)=>{var f=ea(),h=c(f,!0);$(f),I(D=>U(h,D),[()=>{var D;return((D=Se.data.employees.find(B=>B.id===r(Qe)))==null?void 0:D.name)||"Select employee (Optional)"}]),e(R,f)},$$slots:{default:!0}});var T=t(L,2);rt(T,{children:(R,b)=>{var f=ta(),h=p(f);qe(h,{value:null,children:(B,O)=>{l();var ne=n("N/A (No Assignment)");e(B,ne)},$$slots:{default:!0}});var D=t(h,2);vt(D,17,()=>Se.data.employees,_t,(B,O)=>{qe(B,{get value(){return r(O).id},children:(ne,Ce)=>{l();var kt=n();I(()=>U(kt,r(O).name)),e(ne,kt)},$$slots:{default:!0}})}),e(R,f)},$$slots:{default:!0}}),e(a,_)},$$slots:{default:!0}});var F=t(S,2);ze(F),$(v);var A=t(v,2),le=c(A);Y(le,{for:"date_edit",children:(a,o)=>{l();var _=n("Date *");e(a,_)},$$slots:{default:!0}});var g=t(le,2);Pe(g,{id:"date_edit",name:"date",type:"date",required:!0,get value(){return r(k).date},set value(a){r(k).date=a}}),$(A);var E=t(A,2),$e=c(E);De($e,{type:"submit",class:"flex-1",children:(a,o)=>{l();var _=n("Save Changes");e(a,_)},$$slots:{default:!0}});var s=t($e,2);De(s,{type:"button",variant:"outline",onclick:Qt,children:(a,o)=>{l();var _=n("Cancel");e(a,_)},$$slots:{default:!0}}),$(E),$(_e),$(oe),ct(oe,(a,o)=>{var _;return(_=$t)==null?void 0:_(a,o)},()=>()=>async({result:a})=>{var o,_;a.type==="success"?(i(Ve,!1),await Ke("app:feed_inventory"),nt("Feed item updated successfully!","update"),i(We,null),i(k,{},!0),i(st,null),i(Le,void 0),i(Qe,void 0)):a.type==="failure"&&(i(ie,typeof((o=a.data)==null?void 0:o.error)=="string"?a.data.error:JSON.stringify((_=a.data)==null?void 0:_.error)||"An error occurred",!0),it(r(ie)))}),I(()=>{Je(pe,r(We)),Je(C,r(Le)),Je(F,r(Qe))}),e(Re,V)},$$slots:{default:!0}})}),e(X,J)},$$slots:{default:!0}})}),e(P,Z)},$$slots:{default:!0}})});var Pt=t(xt,2);y(Pt,()=>ur,(d,N)=>{N(d,{get open(){return r(Ge)},set open(P){i(Ge,P,!0)},children:(P,z)=>{var Z=Xe(),W=p(Z);y(W,()=>ar,(be,ee)=>{ee(be,{children:(X,Fe)=>{var J=na(),fe=p(J);y(fe,()=>sr,(te,re)=>{re(te,{})});var ke=t(fe,2);y(ke,()=>or,(te,re)=>{re(te,{children:(Re,ae)=>{var V=la(),se=p(V);y(se,()=>dr,(pe,_e)=>{_e(pe,{children:(me,Ae)=>{var Q=oa(),de=p(Q);y(de,()=>lr,(K,x)=>{x(K,{children:(m,C)=>{l();var M=n("Delete Feed Item");e(m,M)},$$slots:{default:!0}})});var G=t(de,2);y(G,()=>nr,(K,x)=>{x(K,{children:(m,C)=>{l();var M=n();I(()=>{var ge;return U(M,`Are you sure you want to delete "${((ge=r(ot))==null?void 0:ge.feed_name)??""}"? This action cannot be undone.`)}),e(m,M)},$$slots:{default:!0}})}),e(me,Q)},$$slots:{default:!0}})});var oe=t(se,2);y(oe,()=>ir,(pe,_e)=>{_e(pe,{children:(me,Ae)=>{var Q=da(),de=c(Q);ze(de);var G=t(de,2);De(G,{type:"button",variant:"outline",onclick:()=>i(Ge,!1),children:(x,m)=>{l();var C=n("Cancel");e(x,C)},$$slots:{default:!0}});var K=t(G,2);De(K,{type:"submit",variant:"destructive",children:(x,m)=>{l();var C=n("Delete");e(x,C)},$$slots:{default:!0}}),$(Q),ct(Q,(x,m)=>{var C;return(C=$t)==null?void 0:C(x,m)},()=>()=>async({result:x})=>{var m,C;x.type==="success"?(i(Ge,!1),await Ke("app:feed_inventory"),nt("Feed item deleted successfully!","delete")):x.type==="failure"&&(i(ie,typeof((m=x.data)==null?void 0:m.error)=="string"?x.data.error:JSON.stringify((C=x.data)==null?void 0:C.error)||"An error occurred",!0),it(r(ie)))}),I(()=>{var x;return Je(de,(x=r(ot))==null?void 0:x.id)}),e(me,Q)},$$slots:{default:!0}})}),e(Re,V)},$$slots:{default:!0}})}),e(X,J)},$$slots:{default:!0}})}),e(P,Z)},$$slots:{default:!0}})});var bt=t(Pt,2),Jt=c(bt);{var Mt=d=>{var N=ua(),P=c(N);ft(P,{get variant(){return Ee},get class(){return je},children:(z,Z)=>{var W=ia(),be=p(W);rr(be,{});var ee=t(be,2);vr(ee,{children:(X,Fe)=>{l();var J=n();I(()=>U(J,lt)),e(X,J)},$$slots:{default:!0}}),e(z,W)},$$slots:{default:!0}}),$(N),e(d,N)};Ze(Jt,d=>{r(dt)&&d(Mt)})}$(bt),e(Lt,gt),Vt()}export{Ia as component};
