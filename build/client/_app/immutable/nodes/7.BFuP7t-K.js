import{f as c,a as e,t as d,c as Le}from"../chunks/Do_-mL-j.js";import{p as rr,a as w,b as rt,f as m,t as C,d as ar,c as _,s as t,e as l,n as i,r as v,g as a,u as $t}from"../chunks/CSgM7ggg.js";import{s as z}from"../chunks/Cc2sBIKg.js";import{i as je}from"../chunks/DFkGWr6I.js";import{e as sr,i as or}from"../chunks/BveS6AeT.js";import{c as $}from"../chunks/BxwOPTHF.js";import{a as ft,e as pt,A as mt}from"../chunks/BOZ4giT5.js";import{r as Rt,s as Nt}from"../chunks/eOTtUvit.js";import{i as Ue,g as It}from"../chunks/uKHEHksz.js";import{B as ve}from"../chunks/BVmkDKMc.js";import{I as U}from"../chunks/B5-iWWaj.js";import{C as lr,a as nr,b as ir,c as dr}from"../chunks/BBrFK00f.js";import{L as W}from"../chunks/Bo2GsiZ3.js";import{T as cr,a as _r,b as Ft,c as Ce,d as vr,P as qt,D as Lt,e as Et,f as Ot,g as Bt,h as Mt,A as Vt,i as jt,R as Ut,j as De,S as ur,C as $r}from"../chunks/CdrzcX6z.js";import{P as fr,A as pr,a as mr,b as gr,c as hr,d as xr,e as yr,R as Pr,f as br}from"../chunks/DRgJLo_S.js";import{B as kr}from"../chunks/Dlm0QRJp.js";import{R as gt,P as wr}from"../chunks/BAa4oyvZ.js";import{S as Sr}from"../chunks/C9JwNqn8.js";import{A as Ar}from"../chunks/jrVE8UPr.js";import{S as Cr}from"../chunks/C0R_oNfb.js";import{P as Dr,C as Tr,T as zr}from"../chunks/ARt1Dh6s.js";import{A as Rr,a as Nr}from"../chunks/B3v1Wr7v.js";import{t as at}from"../chunks/Ca16gRfA.js";import{F as Ir}from"../chunks/OZ3l4Dmb.js";import{T as ht,a as xt}from"../chunks/HFpTe9lc.js";import{C as Fr}from"../chunks/esl9IfTG.js";import{D as qr}from"../chunks/DgaOHvE-.js";var Lr=c("<!> Back to Clients",1),Er=c("<!> <!>",1),Or=c("<!> Add Stocking",1),Br=c('<div class="text-center py-8 text-gray-500">No stocking records found for this client.</div>'),Mr=c('<div class="flex items-center gap-1">Stocking Date <!></div>'),Vr=c('<div class="flex items-center gap-1">Species <!></div>'),jr=c('<div class="flex items-center gap-1">Fingerlings Stocked <!></div>'),Ur=c('<div class="flex items-center gap-1">Cost <!></div>'),Jr=c("<!> <!> <!> <!> <!> <!> <!> <!>",1),Hr=c("<!> ",1),Qr=c("<p> </p>"),Gr=c("<!> <!>",1),Kr=c('<span class="text-gray-400 italic">N/A</span>'),Wr=c("<p>View Harvest Info</p>"),Xr=c("<!> <!>",1),Yr=c("<p>View Sales Info</p>"),Zr=c("<!> <!>",1),ea=c("<!> <!>",1),ta=c('<div class="flex flex justify-center space-x-2"><!> <!> <!></div>'),ra=c("<!> <!> <!> <!> <!> <!> <!> <!>",1),aa=c("<!> <!>",1),sa=c('<div class="border rounded-lg"><!></div>'),oa=c('<div class="flex items-center gap-4 mb-4"><div class="relative flex-1"><!> <!></div> <!></div> <!>',1),la=c("<!> <!>",1),na=c("<!> <!>",1),ia=c("<!> <!>",1),da=c('<!> <form method="POST" action="?/create"><div class="space-y-4 mt-6"><!> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="flex gap-2 pt-4"><!> <!></div></div></form>',1),ca=c("<!> <!>",1),_a=c("<!> <!>",1),va=c("<!> <!>",1),ua=c('<!> <form method="POST" action="?/update"><input type="hidden" name="id"/> <div class="space-y-4 mt-6"><!> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="flex gap-2 pt-4"><!> <!></div></div></form>',1),$a=c("<!> <!>",1),fa=c("<!> <!>",1),pa=c('<form method="POST" action="?/delete"><input type="hidden" name="id"/> <!> <!></form>'),ma=c("<!> <!>",1),ga=c("<!> <!>",1),ha=c("<!> <!>",1),xa=c('<div class="pointer-events-auto"><!></div>'),ya=c('<div class="space-y-6"><div class="flex justify-between items-center"><div><!> <h1 class="text-2xl font-bold"> </h1> <p class="text-gray-500"> </p></div></div></div> <!> <!> <!> <!> <div class="fixed inset-x-0 bottom-6 flex justify-center z-50 pointer-events-none"><!></div>',1);function Ka(Jt,R){rr(R,!0);let Te=w(rt(R.data.search||"")),oe=w(null),st=w(null),Ee=w(!1),Oe=w(!1),Be=w(!1),Je=w(null),He=w(""),Qe=w(""),Ge=w(null),Ke=w(""),We=w(null),Xe=w(null),Ye=w(""),Ze=w(null),D=w(rt({})),ot=w(!1),lt="",Ie="default",Fe="",Me=w(rt(R.data.sortBy||"stocking_date")),qe=w(rt(R.data.sortOrder||"desc"));function nt(n,k){switch(lt=n,k){case"create":Ie="default",Fe="bg-[var(--primary)] text-[var(--primary-foreground)]",at.success(n);break;case"update":Ie="default",Fe="bg-[var(--secondary)] text-[var(--secondary-foreground)]",at.success(n);break;case"delete":Ie="destructive",Fe="",at.info(n);break;default:Ie="default",Fe="bg-[var(--primary)] text-[var(--primary-foreground)]"}setTimeout(()=>l(ot,!1),3e3)}function it(n){lt=n,Ie="destructive",Fe="",at.error(n),setTimeout(()=>l(ot,!1),3e3)}let dt=$t(()=>{var n;return((n=R.data.stockingInfoRecords)==null?void 0:n.filter(k=>{var y;return k.species_name.toLowerCase().includes(a(Te).toLowerCase())||k.fish_size_range.toLowerCase().includes(a(Te).toLowerCase())||((y=k.notes)==null?void 0:y.toLowerCase().includes(a(Te).toLowerCase()))}))||[]});function Ht(n){l(Ze,n.id,!0),l(st,{...n},!0),l(D,{...n},!0),l(Oe,!0)}function Qt(){l(Ze,null),l(D,{},!0),l(st,null),l(Oe,!1)}async function Gt(){const n=new URL(window.location.href);a(Te)?n.searchParams.set("search",a(Te)):n.searchParams.delete("search"),n.searchParams.set("sort",a(Me)),n.searchParams.set("order",a(qe)),await It(n.pathname+n.search,{replaceState:!0}),Ue(`app:stocking_info:${R.data.client.id}`)}function Kt(n){l(Je,n,!0),l(Be,!0)}function yt(n){return n?new Date(n+"T00:00:00").toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"}function Wt(){l(Ee,!0),l(He,""),l(Qe,""),l(Ge,null),l(Ke,""),l(We,null),l(Xe,null),l(Ye,""),l(oe,null)}async function et(n){let k=n,y;a(Me)===n?a(qe)==="asc"?y="desc":y="asc":(k=n,y="asc"),l(Me,k,!0),l(qe,y,!0);const N=new URL(window.location.href);N.searchParams.set("sort",a(Me)),N.searchParams.set("order",a(qe)),console.log("Navigating to:",N.pathname+N.search),await It(N.pathname+N.search),Ue(`app:stocking_info:${R.data.client.id}`)}function tt(n){if(a(Me)===n){if(a(qe)==="asc")return Rr;if(a(qe)==="desc")return Nr}return Tr}var Pt=ya(),ct=m(Pt),bt=_(ct),kt=_(bt),wt=_(kt);ve(wt,{variant:"ghost",href:"/dashboard/clients",class:"mb-2 -ml-4",children:(n,k)=>{var y=Lr(),N=m(y);Ar(N,{class:"h-4 w-4 mr-2"}),i(),e(n,y)},$$slots:{default:!0}});var _t=t(wt,2),Xt=_(_t);v(_t);var St=t(_t,2),Yt=_(St);v(St),v(kt),v(bt),v(ct);var At=t(ct,2);lr(At,{children:(n,k)=>{var y=la(),N=m(y);nr(N,{class:"h-4",children:(le,ye)=>{var X=Er(),J=m(X);ir(J,{children:(I,$e)=>{i();var Pe=d();C(()=>z(Pe,`Total Stocking Records for ${R.data.client.name??""}: ${a(dt).length??""}`)),e(I,Pe)},$$slots:{default:!0}});var ke=t(J,2);Sr(ke,{class:"my-2"}),e(le,X)},$$slots:{default:!0}});var ue=t(N,2);dr(ue,{children:(le,ye)=>{var X=oa(),J=m(X),ke=_(J),I=_(ke);U(I,{placeholder:"Search by species, size range, or notes...",class:"pl-10",get value(){return a(Te)},set value(ee){l(Te,ee,!0)},$$events:{input:Gt}});var $e=t(I,2);Cr($e,{class:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),v(ke);var Pe=t(ke,2);ve(Pe,{onclick:Wt,children:(ee,q)=>{var te=Or(),re=m(te);Dr(re,{class:"h-4 w-4 mr-2"}),i(),e(ee,te)},$$slots:{default:!0}}),v(J);var Y=t(J,2);{var Z=ee=>{var q=Br();e(ee,q)},ze=ee=>{var q=sa(),te=_(q);cr(te,{children:(re,fe)=>{var ne=aa(),pe=m(ne);_r(pe,{children:(S,ae)=>{Ft(S,{children:(L,E)=>{var h=Jr(),u=m(h);Ce(u,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>et("stocking_date"),children:(b,F)=>{var p=Mr(),B=t(_(p));$(B,()=>tt("stocking_date"),(M,g)=>{g(M,{class:"h-4 w-4"})}),v(p),e(b,p)},$$slots:{default:!0}});var P=t(u,2);Ce(P,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>et("species_name"),children:(b,F)=>{var p=Vr(),B=t(_(p));$(B,()=>tt("species_name"),(M,g)=>{g(M,{class:"h-4 w-4"})}),v(p),e(b,p)},$$slots:{default:!0}});var H=t(P,2);Ce(H,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>et("fingerlings_stocked_count_ma"),children:(b,F)=>{var p=jr(),B=t(_(p));$(B,()=>tt("fingerlings_stocked_count_ma"),(M,g)=>{g(M,{class:"h-4 w-4"})}),v(p),e(b,p)},$$slots:{default:!0}});var Q=t(H,2);Ce(Q,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2",children:(b,F)=>{i();var p=d("Fish Size Range");e(b,p)},$$slots:{default:!0}});var O=t(Q,2);Ce(O,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>et("cost"),children:(b,F)=>{var p=Ur(),B=t(_(p));$(B,()=>tt("cost"),(M,g)=>{g(M,{class:"h-4 w-4"})}),v(p),e(b,p)},$$slots:{default:!0}});var be=t(O,2);Ce(be,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2",children:(b,F)=>{i();var p=d("Est. Mortality (%)");e(b,p)},$$slots:{default:!0}});var me=t(be,2);Ce(me,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2",children:(b,F)=>{i();var p=d("Notes");e(b,p)},$$slots:{default:!0}});var ge=t(me,2);Ce(ge,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 text-center",children:(b,F)=>{i();var p=d("Actions");e(b,p)},$$slots:{default:!0}}),e(L,h)},$$slots:{default:!0}})},$$slots:{default:!0}});var we=t(pe,2);vr(we,{children:(S,ae)=>{var L=Le(),E=m(L);sr(E,17,()=>a(dt),or,(h,u,P)=>{Ft(h,{class:P%2===0?"bg-gray-50 dark:bg-card":"bg-white dark:bg-background",children:(H,Q)=>{var O=ra(),be=m(O);De(be,{children:(g,ie)=>{i();var x=d();C(V=>z(x,V),[()=>yt(a(u).stocking_date)]),e(g,x)},$$slots:{default:!0}});var me=t(be,2);De(me,{children:(g,ie)=>{kr(g,{variant:"outline",class:"flex items-center gap-1",children:(x,V)=>{var de=Hr(),s=m(de);Ir(s,{class:"h-3 w-3"});var r=t(s);C(()=>z(r,` ${a(u).species_name??""}`)),e(x,de)},$$slots:{default:!0}})},$$slots:{default:!0}});var ge=t(me,2);De(ge,{children:(g,ie)=>{i();var x=d();C(()=>z(x,a(u).fingerlings_stocked_count_ma)),e(g,x)},$$slots:{default:!0}});var b=t(ge,2);De(b,{children:(g,ie)=>{i();var x=d();C(()=>z(x,a(u).fish_size_range)),e(g,x)},$$slots:{default:!0}});var F=t(b,2);De(F,{children:(g,ie)=>{i();var x=d();C(V=>z(x,`₱${V??""}`),[()=>a(u).cost.toFixed(2)]),e(g,x)},$$slots:{default:!0}});var p=t(F,2);De(p,{children:(g,ie)=>{i();var x=d();C(()=>z(x,a(u).estimated_mortality_rate_percent!==null?a(u).estimated_mortality_rate_percent+"%":"N/A")),e(g,x)},$$slots:{default:!0}});var B=t(p,2);De(B,{class:"max-w-xs truncate",children:(g,ie)=>{var x=Le(),V=m(x);{var de=r=>{var o=Le(),f=m(o);$(f,()=>gt,(ce,j)=>{j(ce,{children:(se,he)=>{var A=Gr(),T=m(A);$(T,()=>ht,(_e,G)=>{G(_e,{class:"truncate max-w-xs block",children:(Se,Ve)=>{i();var K=d();C(()=>z(K,a(u).notes)),e(Se,K)},$$slots:{default:!0}})});var xe=t(T,2);$(xe,()=>xt,(_e,G)=>{G(_e,{children:(Se,Ve)=>{var K=Qr(),Ae=_(K,!0);v(K),C(()=>z(Ae,a(u).notes)),e(Se,K)},$$slots:{default:!0}})}),e(se,A)},$$slots:{default:!0}})}),e(r,o)},s=r=>{var o=Kr();e(r,o)};je(V,r=>{a(u).notes?r(de):r(s,!1)})}e(g,x)},$$slots:{default:!0}});var M=t(B,2);De(M,{children:(g,ie)=>{var x=ta(),V=_(x);$(V,()=>wr,(r,o)=>{o(r,{delayDuration:100,children:(f,ce)=>{var j=ea(),se=m(j);$(se,()=>gt,(A,T)=>{T(A,{children:(xe,_e)=>{var G=Xr(),Se=m(G);$(Se,()=>ht,(K,Ae)=>{Ae(K,{class:"truncate max-w-xs block",children:(Re,vt)=>{const Ne=$t(()=>`/dashboard/clients/${a(u).client_id}/stocking-info/${a(u).id}/harvest-info`);ve(Re,{variant:"outline",size:"sm",get href(){return a(Ne)},title:"View Harvest Info",children:(ut,tr)=>{Fr(ut,{class:"h-4 w-4"})},$$slots:{default:!0}})},$$slots:{default:!0}})});var Ve=t(Se,2);$(Ve,()=>xt,(K,Ae)=>{Ae(K,{children:(Re,vt)=>{var Ne=Wr();e(Re,Ne)},$$slots:{default:!0}})}),e(xe,G)},$$slots:{default:!0}})});var he=t(se,2);$(he,()=>gt,(A,T)=>{T(A,{children:(xe,_e)=>{var G=Zr(),Se=m(G);$(Se,()=>ht,(K,Ae)=>{Ae(K,{class:"truncate max-w-xs block",children:(Re,vt)=>{const Ne=$t(()=>`/dashboard/clients/${a(u).client_id}/stocking-info/${a(u).id}/sales`);ve(Re,{variant:"outline",size:"sm",get href(){return a(Ne)},title:"View Sales Info",children:(ut,tr)=>{qr(ut,{class:"h-4 w-4"})},$$slots:{default:!0}})},$$slots:{default:!0}})});var Ve=t(Se,2);$(Ve,()=>xt,(K,Ae)=>{Ae(K,{children:(Re,vt)=>{var Ne=Yr();e(Re,Ne)},$$slots:{default:!0}})}),e(xe,G)},$$slots:{default:!0}})}),e(f,j)},$$slots:{default:!0}})});var de=t(V,2);ve(de,{variant:"outline",size:"sm",onclick:()=>Ht(a(u)),children:(r,o)=>{ur(r,{})},$$slots:{default:!0}});var s=t(de,2);ve(s,{variant:"outline",size:"sm",onclick:()=>Kt(a(u)),children:(r,o)=>{zr(r,{class:"h-4 w-4 text-red-500"})},$$slots:{default:!0}}),v(x),e(g,x)},$$slots:{default:!0}}),e(H,O)},$$slots:{default:!0}})}),e(S,L)},$$slots:{default:!0}}),e(re,ne)},$$slots:{default:!0}}),v(q),e(ee,q)};je(Y,ee=>{a(dt).length===0?ee(Z):ee(ze,!1)})}e(le,X)},$$slots:{default:!0}}),e(n,y)},$$slots:{default:!0}});var Ct=t(At,2);$(Ct,()=>Ut,(n,k)=>{k(n,{get open(){return a(Ee)},set open(y){l(Ee,y,!0)},children:(y,N)=>{var ue=Le(),le=m(ue);$(le,()=>qt,(ye,X)=>{X(ye,{children:(J,ke)=>{var I=ca(),$e=m(I);$($e,()=>Lt,(Y,Z)=>{Z(Y,{})});var Pe=t($e,2);$(Pe,()=>Et,(Y,Z)=>{Z(Y,{class:"sm:max-w-[425px] p-6",children:(ze,ee)=>{var q=da(),te=m(q);$(te,()=>Ot,(s,r)=>{r(s,{children:(o,f)=>{var ce=na(),j=m(ce);$(j,()=>Bt,(he,A)=>{A(he,{children:(T,xe)=>{i();var _e=d("Add New Stocking Information");e(T,_e)},$$slots:{default:!0}})});var se=t(j,2);$(se,()=>Mt,(he,A)=>{A(he,{children:(T,xe)=>{i();var _e=d();C(()=>z(_e,`Enter the stocking details below for ${R.data.client.name??""}.`)),e(T,_e)},$$slots:{default:!0}})}),e(o,ce)},$$slots:{default:!0}})});var re=t(te,2),fe=_(re),ne=_(fe);{var pe=s=>{mt(s,{variant:"destructive",children:(r,o)=>{var f=ia(),ce=m(f);Vt(ce,{class:"h-4 w-4"});var j=t(ce,2);jt(j,{children:(se,he)=>{i();var A=d();C(()=>z(A,a(oe))),e(se,A)},$$slots:{default:!0}}),e(r,f)},$$slots:{default:!0}})};je(ne,s=>{a(oe)&&s(pe)})}var we=t(ne,2),S=_(we);W(S,{for:"stocking_date_create",children:(s,r)=>{i();var o=d("Stocking Date *");e(s,o)},$$slots:{default:!0}});var ae=t(S,2);U(ae,{id:"stocking_date_create",name:"stocking_date",type:"date",required:!0,get value(){return a(He)},set value(s){l(He,s,!0)}}),v(we);var L=t(we,2),E=_(L);W(E,{for:"species_name_create",children:(s,r)=>{i();var o=d("Species Name *");e(s,o)},$$slots:{default:!0}});var h=t(E,2);U(h,{id:"species_name_create",name:"species_name",type:"text",required:!0,maxlength:50,get value(){return a(Qe)},set value(s){l(Qe,s,!0)}}),v(L);var u=t(L,2),P=_(u);W(P,{for:"fingerlings_stocked_count_ma_create",children:(s,r)=>{i();var o=d("Fingerlings Stocked (Actual Count) *");e(s,o)},$$slots:{default:!0}});var H=t(P,2);U(H,{id:"fingerlings_stocked_count_ma_create",name:"fingerlings_stocked_count_ma",type:"number",step:"1",required:!0,get value(){return a(Ge)},set value(s){l(Ge,s,!0)}}),v(u);var Q=t(u,2),O=_(Q);W(O,{for:"fish_size_range_create",children:(s,r)=>{i();var o=d('Fish Size Range (e.g., "1-2 cm", "5-10g") *');e(s,o)},$$slots:{default:!0}});var be=t(O,2);U(be,{id:"fish_size_range_create",name:"fish_size_range",type:"text",required:!0,maxlength:50,get value(){return a(Ke)},set value(s){l(Ke,s,!0)}}),v(Q);var me=t(Q,2),ge=_(me);W(ge,{for:"cost_create",children:(s,r)=>{i();var o=d("Cost (₱) *");e(s,o)},$$slots:{default:!0}});var b=t(ge,2);U(b,{id:"cost_create",name:"cost",type:"number",step:"0.01",required:!0,get value(){return a(We)},set value(s){l(We,s,!0)}}),v(me);var F=t(me,2),p=_(F);W(p,{for:"estimated_mortality_rate_percent_create",children:(s,r)=>{i();var o=d("Estimated Mortality Rate (%)");e(s,o)},$$slots:{default:!0}});var B=t(p,2);U(B,{id:"estimated_mortality_rate_percent_create",name:"estimated_mortality_rate_percent",type:"number",step:"0.01",min:"0",max:"100",get value(){return a(Xe)},set value(s){l(Xe,s,!0)}}),v(F);var M=t(F,2),g=_(M);W(g,{for:"notes_create",children:(s,r)=>{i();var o=d("Notes");e(s,o)},$$slots:{default:!0}});var ie=t(g,2);U(ie,{id:"notes_create",name:"notes",type:"text",maxlength:255,get value(){return a(Ye)},set value(s){l(Ye,s,!0)}}),v(M);var x=t(M,2),V=_(x);ve(V,{type:"submit",class:"flex-1",children:(s,r)=>{i();var o=d("Add Stocking");e(s,o)},$$slots:{default:!0}});var de=t(V,2);ve(de,{type:"button",variant:"outline",onclick:()=>l(Ee,!1),children:(s,r)=>{i();var o=d("Cancel");e(s,o)},$$slots:{default:!0}}),v(x),v(fe),v(re),ft(re,(s,r)=>{var o;return(o=pt)==null?void 0:o(s,r)},()=>()=>async({result:s})=>{var r,o;s.type==="success"?(l(Ee,!1),await Ue(`app:stocking_info:${R.data.client.id}`),nt("Stocking record created successfully!","create"),l(He,""),l(Qe,""),l(Ge,null),l(Ke,""),l(We,null),l(Xe,null),l(Ye,""),l(oe,null)):s.type==="failure"&&(l(oe,typeof((r=s.data)==null?void 0:r.error)=="string"?s.data.error:JSON.stringify((o=s.data)==null?void 0:o.error)||"An error occurred",!0),it(a(oe)))}),e(ze,q)},$$slots:{default:!0}})}),e(J,I)},$$slots:{default:!0}})}),e(y,ue)},$$slots:{default:!0}})});var Dt=t(Ct,2);$(Dt,()=>Ut,(n,k)=>{k(n,{get open(){return a(Oe)},set open(y){l(Oe,y,!0)},children:(y,N)=>{var ue=Le(),le=m(ue);$(le,()=>qt,(ye,X)=>{X(ye,{children:(J,ke)=>{var I=$a(),$e=m(I);$($e,()=>Lt,(Y,Z)=>{Z(Y,{})});var Pe=t($e,2);$(Pe,()=>Et,(Y,Z)=>{Z(Y,{class:"sm:max-w-[425px] p-6",children:(ze,ee)=>{var q=ua(),te=m(q);$(te,()=>Ot,(r,o)=>{o(r,{children:(f,ce)=>{var j=_a(),se=m(j);$(se,()=>Bt,(A,T)=>{T(A,{children:(xe,_e)=>{i();var G=d("Edit Stocking Information");e(xe,G)},$$slots:{default:!0}})});var he=t(se,2);$(he,()=>Mt,(A,T)=>{T(A,{children:(xe,_e)=>{i();var G=d();C(()=>z(G,`Update the stocking details below for ${R.data.client.name??""}.`)),e(xe,G)},$$slots:{default:!0}})}),e(f,j)},$$slots:{default:!0}})});var re=t(te,2),fe=_(re);Rt(fe);var ne=t(fe,2),pe=_(ne);{var we=r=>{mt(r,{variant:"destructive",children:(o,f)=>{var ce=va(),j=m(ce);Vt(j,{class:"h-4 w-4"});var se=t(j,2);jt(se,{children:(he,A)=>{i();var T=d();C(()=>z(T,a(oe))),e(he,T)},$$slots:{default:!0}}),e(o,ce)},$$slots:{default:!0}})};je(pe,r=>{a(oe)&&r(we)})}var S=t(pe,2),ae=_(S);W(ae,{for:"stocking_date_edit",children:(r,o)=>{i();var f=d("Stocking Date *");e(r,f)},$$slots:{default:!0}});var L=t(ae,2);U(L,{id:"stocking_date_edit",name:"stocking_date",type:"date",required:!0,get value(){return a(D).stocking_date},set value(r){a(D).stocking_date=r}}),v(S);var E=t(S,2),h=_(E);W(h,{for:"species_name_edit",children:(r,o)=>{i();var f=d("Species Name *");e(r,f)},$$slots:{default:!0}});var u=t(h,2);U(u,{id:"species_name_edit",name:"species_name",type:"text",required:!0,maxlength:50,get value(){return a(D).species_name},set value(r){a(D).species_name=r}}),v(E);var P=t(E,2),H=_(P);W(H,{for:"fingerlings_stocked_count_ma_edit",children:(r,o)=>{i();var f=d("Fingerlings Stocked (Actual Count) *");e(r,f)},$$slots:{default:!0}});var Q=t(H,2);U(Q,{id:"fingerlings_stocked_count_ma_edit",name:"fingerlings_stocked_count_ma",type:"number",step:"1",required:!0,get value(){return a(D).fingerlings_stocked_count_ma},set value(r){a(D).fingerlings_stocked_count_ma=r}}),v(P);var O=t(P,2),be=_(O);W(be,{for:"fish_size_range_edit",children:(r,o)=>{i();var f=d('Fish Size Range (e.g., "1-2 cm", "5-10g") *');e(r,f)},$$slots:{default:!0}});var me=t(be,2);U(me,{id:"fish_size_range_edit",name:"fish_size_range",type:"text",required:!0,maxlength:50,get value(){return a(D).fish_size_range},set value(r){a(D).fish_size_range=r}}),v(O);var ge=t(O,2),b=_(ge);W(b,{for:"cost_edit",children:(r,o)=>{i();var f=d("Cost (₱) *");e(r,f)},$$slots:{default:!0}});var F=t(b,2);U(F,{id:"cost_edit",name:"cost",type:"number",step:"0.01",required:!0,get value(){return a(D).cost},set value(r){a(D).cost=r}}),v(ge);var p=t(ge,2),B=_(p);W(B,{for:"estimated_mortality_rate_percent_edit",children:(r,o)=>{i();var f=d("Estimated Mortality Rate (%)");e(r,f)},$$slots:{default:!0}});var M=t(B,2);U(M,{id:"estimated_mortality_rate_percent_edit",name:"estimated_mortality_rate_percent",type:"number",step:"0.01",min:"0",max:"100",get value(){return a(D).estimated_mortality_rate_percent},set value(r){a(D).estimated_mortality_rate_percent=r}}),v(p);var g=t(p,2),ie=_(g);W(ie,{for:"notes_edit",children:(r,o)=>{i();var f=d("Notes");e(r,f)},$$slots:{default:!0}});var x=t(ie,2);U(x,{id:"notes_edit",name:"notes",type:"text",maxlength:255,get value(){return a(D).notes},set value(r){a(D).notes=r}}),v(g);var V=t(g,2),de=_(V);ve(de,{type:"submit",class:"flex-1",children:(r,o)=>{i();var f=d("Save Changes");e(r,f)},$$slots:{default:!0}});var s=t(de,2);ve(s,{type:"button",variant:"outline",onclick:Qt,children:(r,o)=>{i();var f=d("Cancel");e(r,f)},$$slots:{default:!0}}),v(V),v(ne),v(re),ft(re,(r,o)=>{var f;return(f=pt)==null?void 0:f(r,o)},()=>()=>async({result:r})=>{var o,f;r.type==="success"?(l(Oe,!1),await Ue(`app:stocking_info:${R.data.client.id}`),nt("Stocking information updated successfully!","update"),l(Ze,null),l(D,{},!0),l(st,null)):r.type==="failure"&&(l(oe,typeof((o=r.data)==null?void 0:o.error)=="string"?r.data.error:JSON.stringify((f=r.data)==null?void 0:f.error)||"An error occurred",!0),it(a(oe)))}),C(()=>Nt(fe,a(Ze))),e(ze,q)},$$slots:{default:!0}})}),e(J,I)},$$slots:{default:!0}})}),e(y,ue)},$$slots:{default:!0}})});var Tt=t(Dt,2);$(Tt,()=>Pr,(n,k)=>{k(n,{get open(){return a(Be)},set open(y){l(Be,y,!0)},children:(y,N)=>{var ue=Le(),le=m(ue);$(le,()=>fr,(ye,X)=>{X(ye,{children:(J,ke)=>{var I=ga(),$e=m(I);$($e,()=>pr,(Y,Z)=>{Z(Y,{})});var Pe=t($e,2);$(Pe,()=>mr,(Y,Z)=>{Z(Y,{children:(ze,ee)=>{var q=ma(),te=m(q);$(te,()=>gr,(fe,ne)=>{ne(fe,{children:(pe,we)=>{var S=fa(),ae=m(S);$(ae,()=>hr,(E,h)=>{h(E,{children:(u,P)=>{i();var H=d("Delete Stocking Information");e(u,H)},$$slots:{default:!0}})});var L=t(ae,2);$(L,()=>xr,(E,h)=>{h(E,{children:(u,P)=>{i();var H=d();C(Q=>{var O;return z(H,`Are you sure you want to delete the stocking record for "${((O=a(Je))==null?void 0:O.species_name)??""}" on ${Q??""}? This will also delete all associated harvest records. This action cannot be undone.`)},[()=>{var Q;return yt((Q=a(Je))==null?void 0:Q.stocking_date)}]),e(u,H)},$$slots:{default:!0}})}),e(pe,S)},$$slots:{default:!0}})});var re=t(te,2);$(re,()=>yr,(fe,ne)=>{ne(fe,{children:(pe,we)=>{var S=pa(),ae=_(S);Rt(ae);var L=t(ae,2);ve(L,{type:"button",variant:"outline",onclick:()=>l(Be,!1),children:(h,u)=>{i();var P=d("Cancel");e(h,P)},$$slots:{default:!0}});var E=t(L,2);ve(E,{type:"submit",variant:"destructive",children:(h,u)=>{i();var P=d("Delete");e(h,P)},$$slots:{default:!0}}),v(S),ft(S,(h,u)=>{var P;return(P=pt)==null?void 0:P(h,u)},()=>()=>async({result:h})=>{var u,P;h.type==="success"?(l(Be,!1),await Ue(`app:stocking_info:${R.data.client.id}`),nt("Stocking record deleted successfully!","delete")):h.type==="failure"&&(l(oe,typeof((u=h.data)==null?void 0:u.error)=="string"?h.data.error:JSON.stringify((P=h.data)==null?void 0:P.error)||"An error occurred",!0),it(a(oe)))}),C(()=>{var h;return Nt(ae,(h=a(Je))==null?void 0:h.id)}),e(pe,S)},$$slots:{default:!0}})}),e(ze,q)},$$slots:{default:!0}})}),e(J,I)},$$slots:{default:!0}})}),e(y,ue)},$$slots:{default:!0}})});var zt=t(Tt,2),Zt=_(zt);{var er=n=>{var k=xa(),y=_(k);mt(y,{get variant(){return Ie},get class(){return Fe},children:(N,ue)=>{var le=ha(),ye=m(le);$r(ye,{});var X=t(ye,2);br(X,{children:(J,ke)=>{i();var I=d();C(()=>z(I,lt)),e(J,I)},$$slots:{default:!0}}),e(N,le)},$$slots:{default:!0}}),v(k),e(n,k)};je(Zt,n=>{a(ot)&&n(er)})}v(zt),C(()=>{z(Xt,`Stocking Information for ${R.data.client.name??""}`),z(Yt,`Operator Type: ${R.data.client.operator_type??""} | Address: ${R.data.client.address??""}`)}),e(Jt,Pt),ar()}export{Ka as component};
