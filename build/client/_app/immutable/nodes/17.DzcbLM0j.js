import{p as Je,d as q,a as e,f as v,t as _}from"../chunks/CY4Ce0c4.js";import{p as we,k as o,o as Ce,u as s,v as pe,c as C,w as Ke,r as D,x as Pr,l as Q,m as Xe,C as nr,s as t,t as Fe,q as d,n as f}from"../chunks/BdQXYw_T.js";import{s as He}from"../chunks/BO5sSAji.js";import{p as oe,i as J,r as ke,l as xr,s as ze,a as yr,b as wr}from"../chunks/D9hGQICX.js";import{e as Cr,i as Dr}from"../chunks/DsUCSRu3.js";import{c as ce}from"../chunks/B7wWqVz8.js";import{a as Te,e as Ue,A as Ir}from"../chunks/B6zvQKrV.js";import{b as Ie,a as Qe,r as kr,s as Ar}from"../chunks/BZ9DdiR_.js";import{i as ir}from"../chunks/DwnJwU6j.js";import{i as Sr,c as Tr,u as dr}from"../chunks/CPTLTW40.js";import{R as Ur,P as Nr}from"../chunks/0urWu8Wf.js";import{b as vr,B as xe}from"../chunks/MTanKdmA.js";import{I as ye}from"../chunks/79yj6mvb.js";import{L as fe}from"../chunks/BXiYU_fU.js";import{C as Le,a as Oe,b as Re,c as Be}from"../chunks/C8nz08U9.js";import{C as qe}from"../chunks/DIDi3WRX.js";import{S as Ge}from"../chunks/CPLOLVSj.js";import{a as Fr,b as Lr,A as Or}from"../chunks/DKAGjdov.js";import{R as Rr,a as Br,b as qr,c as zr,d as Er,e as Mr,f as Vr}from"../chunks/UFUhM6vw.js";import"../chunks/BCMyTCEX.js";import{s as jr}from"../chunks/B_4Zpmki.js";import{I as Wr}from"../chunks/BOqc4mWw.js";import{X as Xr}from"../chunks/Dt21h0cY.js";import{T as Hr,a as Gr}from"../chunks/D_UmtYL2.js";import{f as ge}from"../chunks/DYevSITT.js";import{c as Ye,m as Ze}from"../chunks/BnoYQOO4.js";import{h as Jr,A as Kr,i as Qr}from"../chunks/6xhieDVM.js";import{c as cr}from"../chunks/BDEhTM1z.js";import{C as Yr}from"../chunks/BHfZQdl9.js";var Zr=v("<button><!></button>");function et(k,r){const R=Je();we(r,!0);let V=oe(r,"id",19,()=>Ye(R)),$=oe(r,"ref",15,null),B=ke(r,["$$slots","$$events","$$legacy","children","child","id","ref"]);const I=Jr.create({id:ge.with(()=>V()),ref:ge.with(()=>$(),N=>$(N))}),P=pe(()=>Ze(B,I.props));var A=q(),j=o(A);{var re=N=>{var n=q(),b=o(n);Ie(b,()=>r.child,()=>({props:s(P)})),e(N,n)},K=N=>{var n=Zr();Qe(n,()=>({...s(P)}));var b=C(n);Ie(b,()=>r.children??Ke),D(n),e(N,n)};J(j,N=>{r.child?N(re):N(K,!1)})}e(k,A),Ce()}var rt=v("<button><!></button>");function tt(k,r){const R=Je();we(r,!0);let V=oe(r,"id",19,()=>Ye(R)),$=oe(r,"ref",15,null),B=oe(r,"disabled",3,!1),I=ke(r,["$$slots","$$events","$$legacy","id","ref","children","child","disabled"]);const P=Kr.create({id:ge.with(()=>V()),ref:ge.with(()=>$(),n=>$(n)),disabled:ge.with(()=>!!B())}),A=pe(()=>Ze(I,P.props));var j=q(),re=o(j);{var K=n=>{var b=q(),te=o(b);Ie(te,()=>r.child,()=>({props:s(A)})),e(n,b)},N=n=>{var b=rt();Qe(b,()=>({...s(A)}));var te=C(b);Ie(te,()=>r.children??Ke),D(b),e(n,b)};J(re,n=>{r.child?n(K):n(N,!1)})}e(k,j),Ce()}var at=v("<button><!></button>");function st(k,r){const R=Je();we(r,!0);let V=oe(r,"id",19,()=>Ye(R)),$=oe(r,"ref",15,null),B=oe(r,"disabled",3,!1),I=ke(r,["$$slots","$$events","$$legacy","id","ref","children","child","disabled"]);const P=Qr.create({id:ge.with(()=>V()),ref:ge.with(()=>$(),n=>$(n)),disabled:ge.with(()=>!!B())}),A=pe(()=>Ze(I,P.props));var j=q(),re=o(j);{var K=n=>{var b=q(),te=o(b);Ie(te,()=>r.child,()=>({props:s(A)})),e(n,b)},N=n=>{var b=at();Qe(b,()=>({...s(A)}));var te=C(b);Ie(te,()=>r.children??Ke),D(b),e(n,b)};J(re,n=>{r.child?n(K):n(N,!1)})}e(k,j),Ce()}function Ne(k,r){const R=xr(r,["children","$$slots","$$events","$$legacy"]),V=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56"}]];Wr(k,ze({name:"loader-2"},()=>R,{get iconNode(){return V},children:($,B)=>{var I=q(),P=o(I);jr(P,r,"default",{}),e($,I)},$$slots:{default:!0}}))}function ot(k,r){we(r,!0);let R=oe(r,"ref",15,null),V=ke(r,["$$slots","$$events","$$legacy","ref"]);var $=q(),B=o($);ce(B,()=>st,(I,P)=>{P(I,ze({"data-slot":"alert-dialog-trigger"},()=>V,{get ref(){return R()},set ref(A){R(A)}}))}),e(k,$),Ce()}function lt(k,r){we(r,!0);let R=oe(r,"ref",15,null),V=ke(r,["$$slots","$$events","$$legacy","ref","class"]);var $=q(),B=o($);const I=pe(()=>cr(vr(),r.class));ce(B,()=>et,(P,A)=>{A(P,ze({"data-slot":"alert-dialog-action",get class(){return s(I)}},()=>V,{get ref(){return R()},set ref(j){R(j)}}))}),e(k,$),Ce()}function nt(k,r){we(r,!0);let R=oe(r,"ref",15,null),V=ke(r,["$$slots","$$events","$$legacy","ref","class"]);var $=q(),B=o($);const I=pe(()=>cr(vr({variant:"outline"}),r.class));ce(B,()=>tt,(P,A)=>{A(P,ze({"data-slot":"alert-dialog-cancel",get class(){return s(I)}},()=>V,{get ref(){return R()},set ref(j){R(j)}}))}),e(k,$),Ce()}const it=[{name:"Default",value:"default",primaryColor:"oklch(0.205 0 0)"},{name:"Tangerine",value:"tangerine",primaryColor:"oklch(0.6397 0.1720 36.4421)"},{name:"Minimal Blue",value:"blue",primaryColor:"oklch(0.5461 0.2152 262.8809)"},{name:"Ocean Breeze",value:"ocean",primaryColor:"oklch(0.7227 0.192 149.5793)"},{name:"Northern Lights",value:"northern",primaryColor:"oklch(0.6487 0.1538 150.3071)"},{name:"Nature",value:"nature",primaryColor:"oklch(0.5234 0.1347 144.1672)"},{name:"Vintage Paper",value:"vintage",primaryColor:"oklch(0.618 0.0778 65.5444)"},{name:"Claude",value:"claude",primaryColor:"oklch(0.6171 0.1375 39.0427)"}],dt=localStorage.getItem("custom-theme")||"default",ur=Pr(dt);ur.subscribe(k=>{document.documentElement.setAttribute("data-theme",k),localStorage.setItem("custom-theme",k)});function vt(k){ur.set(k)}var ct=v("<!> <!>",1),ut=v("<p> </p>"),ft=v("<!> <!>",1),mt=v("<!> <!>",1),_t=v("<!> <!>",1),pt=v("<!> <!>",1),gt=v("<!> Remove Image",1),$t=v('<input type="hidden" name="removeProfileImage" value="true"/>'),ht=v("<!> Saving...",1),bt=v('<form method="POST" action="?/updateProfile" enctype="multipart/form-data"><div class="space-y-6"><div class="flex items-center gap-6"><!> <div class="space-y-2"><!> <!> <!> <input type="hidden" name="currentImagePath"/> <!></div></div> <div class="space-y-2"><!> <!></div> <!></div></form>'),Pt=v("<!> <!>",1),xt=v("<!> <!>",1),yt=v('<p class="text-red-500 text-sm">Passwords do not match.</p>'),wt=v("<!> Updating...",1),Ct=v('<form method="POST" action="?/updateCredentials"><div class="space-y-6"><div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!> <!></div> <!></div></form>'),Dt=v("<!> <!>",1),It=v("<!> <!>",1),kt=v("<!> Resetting...",1),At=v("<!> <!>",1),St=v("<!> <!>",1),Tt=v("<!> <!>",1),Ut=v("<!> <!>",1),Nt=v("<!> Saving...",1),Ft=v("<!> Importing...",1),Lt=v('<p class="text-red-500 text-sm mt-1">Invalid file type. Please select a .sqlite or .db file.</p>'),Ot=v('<div class="space-y-2"><!> <p class="text-sm text-gray-700 dark:text-gray-300">Delete all data from all tables, retaining the table structure. <span class="font-semibold text-red-600 dark:text-red-400">This action is irreversible.</span></p> <!> <form id="resetDbForm" method="POST" action="?/resetDatabase" class="hidden"></form></div> <!> <div class="space-y-2"><!> <p class="text-sm text-gray-700 dark:text-gray-300">Create a backup copy of your current database file.</p> <form method="POST" action="?/saveDatabase"><!></form></div> <!> <div class="space-y-2"><!> <p class="text-sm text-gray-700 dark:text-gray-300">Overwrite the current database with a selected backup file. <span class="font-semibold text-red-600 dark:text-red-400">This action is irreversible and will replace ALL existing data.</span></p> <form method="POST" action="?/importDatabase" enctype="multipart/form-data"><!> <!> <!></form></div>',1),Rt=v("<!> <!>",1),Bt=v("<!> <!>",1),qt=v('<div class="pointer-events-auto"><!></div>'),zt=v('<div class="space-y-8 p-6"><h1 class="text-3xl font-bold">Settings</h1> <p class="text-gray-500">Manage your profile, account, and application settings.</p> <!> <!> <!> <!> <!></div> <div class="fixed inset-x-0 bottom-6 flex justify-center z-50 pointer-events-none"><!></div>',1);function pa(k,r){we(r,!0);const[R,V]=yr(),$=()=>wr(Tr,"$currentUser",R);let B=Q(Xe(r.data.user.display_name||r.data.user.username)),I=Q(null),P=Q(Xe(r.data.user.profileImage)),A=Q(!1),j=Q(""),re=Q(""),K=Q(""),N=Q(""),n=Xe({profile:!1,credentials:!1,resetDb:!1,saveDb:!1,importDb:!1}),b=Q(!1),te=Q(""),Ee=Q("default"),Me=Q(""),$e=Q(null);nr(()=>{$().display_name!==s(B)&&d(B,$().display_name,!0)}),nr(()=>{$().profileImage!==s(P)&&!s(I)&&!s(A)&&d(P,$().profileImage,!0)});function fr(p){d(te,p,!0),d(Ee,"default"),d(Me,"bg-primary text-primary-foreground"),d(b,!0),setTimeout(()=>d(b,!1),3e3)}function er(p){d(te,p,!0),d(Ee,"destructive"),d(Me,""),d(b,!0),setTimeout(()=>d(b,!1),3e3)}function mr(p){const h=p.target;h.files&&h.files[0]?(d(I,h.files[0],!0),d(P,URL.createObjectURL(s(I)),!0),d(A,!1)):(d(I,null),d(P,$().profileImage,!0))}function _r(){d(I,null),d(P,null),d(A,!0)}function Ae(p){return()=>(n[p]=!0,async({result:h,update:W})=>{var E,Y,F,X,m;if(n[p]=!1,h.type==="success"){if(fr(((E=h.data)==null?void 0:E.message)||"Operation successful!"),p==="profile"){const c=(Y=h.data)!=null&&Y.profileImage?`/api/uploads/${h.data.profileImage.replace(/\\/g,"/")}`:null;dr({display_name:((F=h.data)==null?void 0:F.displayName)||s(B),profile_image:c}),d(P,c,!0),d(I,null),d(A,!1)}else if(p==="credentials")s(re)&&dr({username:s(re)}),d(j,""),d(re,""),d(K,""),d(N,"");else if(p==="importDb"){d($e,null);const c=document.getElementById("importDbFile");c&&(c.value="")}await ir("app:settings"),await ir("app:user-data"),W()}else h.type==="failure"?(er(((X=h.data)==null?void 0:X.message)||"Operation failed."),W()):h.type==="error"&&(er(((m=h.error)==null?void 0:m.message)||"An unexpected error occurred."),W())})}function pr(p){const h=p.target;h.files&&h.files[0]?d($e,h.files[0],!0):d($e,null)}var rr=zt(),Ve=o(rr),tr=t(C(Ve),4);Ge(tr,{});var ar=t(tr,2);Le(ar,{class:"max-w-2xl mx-auto",children:(p,h)=>{var W=mt(),E=o(W);Oe(E,{children:(F,X)=>{var m=ct(),c=o(m);Re(c,{children:(u,S)=>{f();var x=_("Application Theme");e(u,x)},$$slots:{default:!0}});var w=t(c,2);qe(w,{children:(u,S)=>{f();var x=_("Customize the look and feel of the application.");e(u,x)},$$slots:{default:!0}}),e(F,m)},$$slots:{default:!0}});var Y=t(E,2);Be(Y,{class:"flex gap-3",children:(F,X)=>{var m=q(),c=o(m);Cr(c,17,()=>it,Dr,(w,u)=>{var S=q(),x=o(S);ce(x,()=>Nr,(G,le)=>{le(G,{delayDuration:50,children:(ne,ae)=>{var me=q(),ie=o(me);ce(ie,()=>Ur,(se,de)=>{de(se,{children:(ue,he)=>{var g=ft(),z=o(g);ce(z,()=>Hr,(T,a)=>{a(T,{children:(y,i)=>{xe(y,{variant:"outline",class:"icon",get style(){return`background-color: ${s(u).primaryColor??""};`},onclick:()=>vt(s(u).value)})},$$slots:{default:!0}})});var l=t(z,2);ce(l,()=>Gr,(T,a)=>{a(T,{children:(y,i)=>{var L=ut(),U=C(L,!0);D(L),Fe(()=>He(U,s(u).name)),e(y,L)},$$slots:{default:!0}})}),e(ue,g)},$$slots:{default:!0}})}),e(ne,me)},$$slots:{default:!0}})}),e(w,S)}),e(F,m)},$$slots:{default:!0}}),e(p,W)},$$slots:{default:!0}});var sr=t(ar,2);Le(sr,{class:"max-w-2xl mx-auto",children:(p,h)=>{var W=Pt(),E=o(W);Oe(E,{children:(F,X)=>{var m=_t(),c=o(m);Re(c,{children:(u,S)=>{f();var x=_("Profile Information");e(u,x)},$$slots:{default:!0}});var w=t(c,2);qe(w,{children:(u,S)=>{f();var x=_("Update your display name and profile avatar.");e(u,x)},$$slots:{default:!0}}),e(F,m)},$$slots:{default:!0}});var Y=t(E,2);Be(Y,{children:(F,X)=>{var m=bt(),c=C(m),w=C(c),u=C(w);ce(u,()=>Or,(g,z)=>{z(g,{class:"h-24 w-24",children:(l,T)=>{var a=pt(),y=o(a);const i=pe(()=>s(P)||void 0);ce(y,()=>Fr,(U,M)=>{M(U,{get src(){return s(i)},alt:"Profile"})});var L=t(y,2);ce(L,()=>Lr,(U,M)=>{M(U,{children:(O,H)=>{f();var ve=_();Fe(De=>He(ve,De),[()=>r.data.user.display_name.substring(0,2).toUpperCase()]),e(O,ve)},$$slots:{default:!0}})}),e(l,a)},$$slots:{default:!0}})});var S=t(u,2),x=C(S);fe(x,{for:"profileImage",children:(g,z)=>{f();var l=_("Profile Image");e(g,l)},$$slots:{default:!0}});var G=t(x,2);ye(G,{id:"profileImage",name:"profileImage",type:"file",accept:"image/*",onchange:mr,class:"cursor-pointer"});var le=t(G,2);{var ne=g=>{xe(g,{type:"button",variant:"ghost",size:"sm",onclick:_r,children:(z,l)=>{var T=gt(),a=o(T);Xr(a,{class:"h-4 w-4 mr-1 text-red-500"}),f(),e(z,T)},$$slots:{default:!0}})};J(le,g=>{s(P)&&g(ne)})}var ae=t(le,2);kr(ae);var me=t(ae,2);{var ie=g=>{var z=$t();e(g,z)};J(me,g=>{s(A)&&g(ie)})}D(S),D(w);var se=t(w,2),de=C(se);fe(de,{for:"displayName",children:(g,z)=>{f();var l=_("Display Name");e(g,l)},$$slots:{default:!0}});var ue=t(de,2);ye(ue,{id:"displayName",name:"displayName",get placeholder(){return r.data.user.display_name},maxlength:20,get value(){return s(B)},set value(g){d(B,g,!0)}}),D(se);var he=t(se,2);xe(he,{type:"submit",get disabled(){return n.profile},children:(g,z)=>{var l=q(),T=o(l);{var a=i=>{var L=ht(),U=o(L);Ne(U,{class:"mr-2 h-4 w-4 animate-spin"}),f(),e(i,L)},y=i=>{var L=_("Save Profile");e(i,L)};J(T,i=>{n.profile?i(a):i(y,!1)})}e(g,l)},$$slots:{default:!0}}),D(c),D(m),Te(m,(g,z)=>{var l;return(l=Ue)==null?void 0:l(g,z)},()=>Ae("profile")),Fe(()=>Ar(ae,s(P)||"")),e(F,m)},$$slots:{default:!0}}),e(p,W)},$$slots:{default:!0}});var or=t(sr,2);Le(or,{class:"max-w-2xl mx-auto",children:(p,h)=>{var W=Dt(),E=o(W);Oe(E,{children:(F,X)=>{var m=xt(),c=o(m);Re(c,{children:(u,S)=>{f();var x=_("Account Credentials");e(u,x)},$$slots:{default:!0}});var w=t(c,2);qe(w,{children:(u,S)=>{f();var x=_("Change your username and password.");e(u,x)},$$slots:{default:!0}}),e(F,m)},$$slots:{default:!0}});var Y=t(E,2);Be(Y,{children:(F,X)=>{var m=Ct(),c=C(m),w=C(c),u=C(w);fe(u,{for:"currentPassword",children:(l,T)=>{f();var a=_("Current Password *");e(l,a)},$$slots:{default:!0}});var S=t(u,2);ye(S,{id:"currentPassword",name:"currentPassword",type:"password",required:!0,get value(){return s(j)},set value(l){d(j,l,!0)}}),D(w);var x=t(w,2),G=C(x);fe(G,{for:"newUsername",children:(l,T)=>{f();var a=_("New Username");e(l,a)},$$slots:{default:!0}});var le=t(G,2);ye(le,{id:"newUsername",name:"newUsername",type:"text",placeholder:"Leave blank to keep current",maxlength:"40",get value(){return s(re)},set value(l){d(re,l,!0)}}),D(x);var ne=t(x,2),ae=C(ne);fe(ae,{for:"newPassword",children:(l,T)=>{f();var a=_("New Password");e(l,a)},$$slots:{default:!0}});var me=t(ae,2);ye(me,{id:"newPassword",name:"newPassword",type:"password",placeholder:"Leave blank to keep current",minlength:"8",get value(){return s(K)},set value(l){d(K,l,!0)}}),D(ne);var ie=t(ne,2),se=C(ie);fe(se,{for:"confirmNewPassword",children:(l,T)=>{f();var a=_("Confirm New Password");e(l,a)},$$slots:{default:!0}});var de=t(se,2);ye(de,{id:"confirmNewPassword",name:"confirmNewPassword",type:"password",get value(){return s(N)},set value(l){d(N,l,!0)}});var ue=t(de,2);{var he=l=>{var T=yt();e(l,T)};J(ue,l=>{s(K)&&s(N)&&s(K)!==s(N)&&l(he)})}D(ie);var g=t(ie,2);const z=pe(()=>n.credentials||s(K)&&s(K)!==s(N));xe(g,{type:"submit",get disabled(){return s(z)},children:(l,T)=>{var a=q(),y=o(a);{var i=U=>{var M=wt(),O=o(M);Ne(O,{class:"mr-2 h-4 w-4 animate-spin"}),f(),e(U,M)},L=U=>{var M=_("Update Credentials");e(U,M)};J(y,U=>{n.credentials?U(i):U(L,!1)})}e(l,a)},$$slots:{default:!0}}),D(c),D(m),Te(m,(l,T)=>{var a;return(a=Ue)==null?void 0:a(l,T)},()=>Ae("credentials")),e(F,m)},$$slots:{default:!0}}),e(p,W)},$$slots:{default:!0}});var gr=t(or,2);{var $r=p=>{Le(p,{class:"max-w-2xl mx-auto border-red-500 bg-red-50/50 dark:bg-red-950/20",children:(h,W)=>{var E=Rt(),Y=o(E);Oe(Y,{children:(X,m)=>{var c=It(),w=o(c);Re(w,{class:"text-red-600 dark:text-red-400",children:(S,x)=>{f();var G=_("Admin: Database Management");e(S,G)},$$slots:{default:!0}});var u=t(w,2);qe(u,{class:"text-red-500 dark:text-red-300",children:(S,x)=>{f();var G=_("Caution: These operations are irreversible and affect all application data.");e(S,G)},$$slots:{default:!0}}),e(X,c)},$$slots:{default:!0}});var F=t(Y,2);Be(F,{class:"space-y-6",children:(X,m)=>{var c=Ot(),w=o(c),u=C(w);fe(u,{class:"text-lg font-medium",children:(a,y)=>{f();var i=_("Reset Database");e(a,i)},$$slots:{default:!0}});var S=t(u,4);Rr(S,{children:(a,y)=>{var i=Ut(),L=o(i);ot(L,{asChild:!0,children:(M,O)=>{xe(M,{variant:"destructive",class:"mt-2",get disabled(){return n.resetDb},children:(H,ve)=>{var De=q(),Se=o(De);{var je=Z=>{var _e=kt(),ee=o(_e);Ne(ee,{class:"mr-2 h-4 w-4 animate-spin"}),f(),e(Z,_e)},be=Z=>{var _e=_("Reset Database");e(Z,_e)};J(Se,Z=>{n.resetDb?Z(je):Z(be,!1)})}e(H,De)},$$slots:{default:!0}})},$$slots:{default:!0}});var U=t(L,2);Br(U,{children:(M,O)=>{var H=Tt(),ve=o(H);qr(ve,{children:(Se,je)=>{var be=At(),Z=o(be);zr(Z,{children:(ee,We)=>{f();var Pe=_("Are you absolutely sure?");e(ee,Pe)},$$slots:{default:!0}});var _e=t(Z,2);Er(_e,{children:(ee,We)=>{f();var Pe=_(`This action cannot be undone. This will permanently delete all data from your database,\r
                                    while keeping the table structure.`);e(ee,Pe)},$$slots:{default:!0}}),e(Se,be)},$$slots:{default:!0}});var De=t(ve,2);Mr(De,{children:(Se,je)=>{var be=St(),Z=o(be);nt(Z,{children:(ee,We)=>{f();var Pe=_("Cancel");e(ee,Pe)},$$slots:{default:!0}});var _e=t(Z,2);lt(_e,{onclick:()=>{const ee=document.getElementById("resetDbForm");ee&&ee.requestSubmit()},children:(ee,We)=>{f();var Pe=_("Continue");e(ee,Pe)},$$slots:{default:!0}}),e(Se,be)},$$slots:{default:!0}}),e(M,H)},$$slots:{default:!0}}),e(a,i)},$$slots:{default:!0}});var x=t(S,2);Te(x,(a,y)=>{var i;return(i=Ue)==null?void 0:i(a,y)},()=>Ae("resetDb")),D(w);var G=t(w,2);Ge(G,{});var le=t(G,2),ne=C(le);fe(ne,{class:"text-lg font-medium",children:(a,y)=>{f();var i=_("Save Database");e(a,i)},$$slots:{default:!0}});var ae=t(ne,4),me=C(ae);xe(me,{type:"submit",class:"mt-2",get disabled(){return n.saveDb},children:(a,y)=>{var i=q(),L=o(i);{var U=O=>{var H=Nt(),ve=o(H);Ne(ve,{class:"mr-2 h-4 w-4 animate-spin"}),f(),e(O,H)},M=O=>{var H=_("Save Database");e(O,H)};J(L,O=>{n.saveDb?O(U):O(M,!1)})}e(a,i)},$$slots:{default:!0}}),D(ae),Te(ae,(a,y)=>{var i;return(i=Ue)==null?void 0:i(a,y)},()=>Ae("saveDb")),D(le);var ie=t(le,2);Ge(ie,{});var se=t(ie,2),de=C(se);fe(de,{class:"text-lg font-medium",children:(a,y)=>{f();var i=_("Import Database");e(a,i)},$$slots:{default:!0}});var ue=t(de,4),he=C(ue);ye(he,{id:"importDbFile",name:"dbFile",type:"file",accept:".sqlite,.db",onchange:pr,class:"cursor-pointer mb-2",required:!0});var g=t(he,2);const z=pe(()=>n.importDb||!s($e));xe(g,{type:"submit",class:"mt-2",get disabled(){return s(z)},children:(a,y)=>{var i=q(),L=o(i);{var U=O=>{var H=Ft(),ve=o(H);Ne(ve,{class:"mr-2 h-4 w-4 animate-spin"}),f(),e(O,H)},M=O=>{var H=_("Import Database");e(O,H)};J(L,O=>{n.importDb?O(U):O(M,!1)})}e(a,i)},$$slots:{default:!0}});var l=t(g,2);{var T=a=>{var y=Lt();e(a,y)};J(l,a=>{s($e)&&!s($e).name.endsWith(".sqlite")&&!s($e).name.endsWith(".db")&&a(T)})}D(ue),Te(ue,(a,y)=>{var i;return(i=Ue)==null?void 0:i(a,y)},()=>Ae("importDb")),D(se),e(X,c)},$$slots:{default:!0}}),e(h,E)},$$slots:{default:!0}})};J(gr,p=>{Sr($().role)&&p($r)})}D(Ve);var lr=t(Ve,2),hr=C(lr);{var br=p=>{var h=qt(),W=C(h);Ir(W,{get variant(){return s(Ee)},get class(){return s(Me)},children:(E,Y)=>{var F=Bt(),X=o(F);Yr(X,{});var m=t(X,2);Vr(m,{children:(c,w)=>{f();var u=_();Fe(()=>He(u,s(te))),e(c,u)},$$slots:{default:!0}}),e(E,F)},$$slots:{default:!0}}),D(h),e(p,h)};J(hr,p=>{s(b)&&p(br)})}D(lr),e(k,rr),Ce(),V()}export{pa as component};
