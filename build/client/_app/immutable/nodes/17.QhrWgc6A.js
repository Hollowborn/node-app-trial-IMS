import{p as Ye,d as q,a as e,f as d,t as g}from"../chunks/BxWPM7vt.js";import"../chunks/twlfZeI1.js";import{p as Pe,k as l,o as xe,u as r,v as Te,c as y,w as Ze,r as w,x as xr,ab as W,aX as nr,aY as yr,s as t,a1 as Ve,t as We,q as n,n as _,aZ as ir}from"../chunks/VrzbJYtp.js";import{s as dr}from"../chunks/jPwQk_2E.js";import{p as se,i as H,r as De,l as wr,s as Be,a as Dr,b as Ir}from"../chunks/K2z4qc4G.js";import{e as Cr,i as kr}from"../chunks/3dJlLkWl.js";import{a as ke,e as Ae,A as Ar}from"../chunks/q_geWe1R.js";import{b as we,a as Ge,r as Sr,s as Tr}from"../chunks/BHm98m4T.js";import{i as Ur}from"../chunks/CLa6yqf_.js";import{i as Nr}from"../chunks/Co0R7JPe.js";import{i as Fr,c as Lr,u as cr}from"../chunks/CBLA49U0.js";import{P as Or,R as Rr}from"../chunks/BMspJ8Yh.js";import{b as vr,B as he}from"../chunks/DGxjUAYV.js";import{I as be}from"../chunks/Cl_oq7nf.js";import{L as ve}from"../chunks/BUlJYItk.js";import{C as Ne,a as Fe,b as Le,c as Oe}from"../chunks/_Y1sUBdb.js";import{C as Re}from"../chunks/DTKX657x.js";import{S as He}from"../chunks/CfhtIqMF.js";import{A as Br,a as qr,b as zr}from"../chunks/DBcW8l46.js";import{R as Er,a as Mr,b as Xr,c as jr,d as Vr,e as Wr,f as Hr}from"../chunks/DOd2QSgZ.js";import{s as Yr}from"../chunks/Cvje7MCY.js";import{I as Zr}from"../chunks/D1dXutnj.js";import{X as Gr}from"../chunks/BD6Ecydl.js";import{T as Jr,a as Kr}from"../chunks/Jos_wYTi.js";import{c as Je}from"../chunks/DhHZR6J_.js";import{f as ue}from"../chunks/CmULTxPs.js";import{c as Ke,m as Qe}from"../chunks/PI_H1sqg.js";import{h as Qr,A as et,i as rt}from"../chunks/DaJoOla_.js";import{c as fr}from"../chunks/BjxZ6Dx9.js";import{C as tt}from"../chunks/CCIBMD7x.js";var at=d("<button><!></button>");function st(C,a){const N=Ye();Pe(a,!0);let z=se(a,"id",19,()=>Ke(N)),f=se(a,"ref",15,null),R=De(a,["$$slots","$$events","$$legacy","children","child","id","ref"]);const A=Qr.create({id:ue.with(()=>z()),ref:ue.with(()=>f(),k=>f(k))}),I=Te(()=>Qe(R,A.props));var P=q(),L=l(P);{var ie=k=>{var c=q(),i=l(c);we(i,()=>a.child,()=>({props:r(I)})),e(k,c)},oe=k=>{var c=at();Ge(c,()=>({...r(I)}));var i=y(c);we(i,()=>a.children??Ze),w(c),e(k,c)};H(L,k=>{a.child?k(ie):k(oe,!1)})}e(C,P),xe()}var ot=d("<button><!></button>");function lt(C,a){const N=Ye();Pe(a,!0);let z=se(a,"id",19,()=>Ke(N)),f=se(a,"ref",15,null),R=se(a,"disabled",3,!1),A=De(a,["$$slots","$$events","$$legacy","id","ref","children","child","disabled"]);const I=et.create({id:ue.with(()=>z()),ref:ue.with(()=>f(),c=>f(c)),disabled:ue.with(()=>!!R())}),P=Te(()=>Qe(A,I.props));var L=q(),ie=l(L);{var oe=c=>{var i=q(),Y=l(i);we(Y,()=>a.child,()=>({props:r(P)})),e(c,i)},k=c=>{var i=ot();Ge(i,()=>({...r(P)}));var Y=y(i);we(Y,()=>a.children??Ze),w(i),e(c,i)};H(ie,c=>{a.child?c(oe):c(k,!1)})}e(C,L),xe()}var nt=d("<button><!></button>");function it(C,a){const N=Ye();Pe(a,!0);let z=se(a,"id",19,()=>Ke(N)),f=se(a,"ref",15,null),R=se(a,"disabled",3,!1),A=De(a,["$$slots","$$events","$$legacy","id","ref","children","child","disabled"]);const I=rt.create({id:ue.with(()=>z()),ref:ue.with(()=>f(),c=>f(c)),disabled:ue.with(()=>!!R())}),P=Te(()=>Qe(A,I.props));var L=q(),ie=l(L);{var oe=c=>{var i=q(),Y=l(i);we(Y,()=>a.child,()=>({props:r(P)})),e(c,i)},k=c=>{var i=nt();Ge(i,()=>({...r(P)}));var Y=y(i);we(Y,()=>a.children??Ze),w(i),e(c,i)};H(ie,c=>{a.child?c(oe):c(k,!1)})}e(C,L),xe()}function Se(C,a){const N=wr(a,["children","$$slots","$$events","$$legacy"]),z=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56"}]];Zr(C,Be({name:"loader-2"},()=>N,{get iconNode(){return z},children:(f,R)=>{var A=q(),I=l(A);Yr(I,a,"default",{}),e(f,A)},$$slots:{default:!0}}))}function dt(C,a){Pe(a,!0);let N=se(a,"ref",15,null),z=De(a,["$$slots","$$events","$$legacy","ref"]);var f=q(),R=l(f);Je(R,()=>it,(A,I)=>{I(A,Be({"data-slot":"alert-dialog-trigger"},()=>z,{get ref(){return N()},set ref(P){N(P)}}))}),e(C,f),xe()}function ct(C,a){Pe(a,!0);let N=se(a,"ref",15,null),z=De(a,["$$slots","$$events","$$legacy","ref","class"]);var f=q(),R=l(f);const A=Te(()=>fr(vr(),a.class));Je(R,()=>st,(I,P)=>{P(I,Be({"data-slot":"alert-dialog-action",get class(){return r(A)}},()=>z,{get ref(){return N()},set ref(L){N(L)}}))}),e(C,f),xe()}function vt(C,a){Pe(a,!0);let N=se(a,"ref",15,null),z=De(a,["$$slots","$$events","$$legacy","ref","class"]);var f=q(),R=l(f);const A=Te(()=>fr(vr({variant:"outline"}),a.class));Je(R,()=>lt,(I,P)=>{P(I,Be({"data-slot":"alert-dialog-cancel",get class(){return r(A)}},()=>z,{get ref(){return N()},set ref(L){N(L)}}))}),e(C,f),xe()}const ft=[{name:"Default",value:"default",primaryColor:"oklch(0.205 0 0)"},{name:"Tangerine",value:"tangerine",primaryColor:"oklch(0.6397 0.1720 36.4421)"},{name:"Minimal Blue",value:"blue",primaryColor:"oklch(0.5461 0.2152 262.8809)"},{name:"Ocean Breeze",value:"ocean",primaryColor:"oklch(0.7227 0.192 149.5793)"},{name:"Northern Lights",value:"northern",primaryColor:"oklch(0.6487 0.1538 150.3071)"}],ut=localStorage.getItem("custom-theme")||"default",ur=xr(ut);ur.subscribe(C=>{document.documentElement.setAttribute("data-theme",C),localStorage.setItem("custom-theme",C)});function mt(C){ur.set(C)}var _t=d("<!> <!>",1),pt=d("<p> </p>"),$t=d("<!> <!>",1),gt=d("<!> <!>",1),ht=d("<!> <!>",1),bt=d("<!> <!>",1),Pt=d("<!> Remove Image",1),xt=d('<input type="hidden" name="removeProfileImage" value="true"/>'),yt=d("<!> Saving...",1),wt=d('<form method="POST" action="?/updateProfile" enctype="multipart/form-data"><div class="space-y-6"><div class="flex items-center gap-6"><!> <div class="space-y-2"><!> <!> <!> <input type="hidden" name="currentImagePath"/> <!></div></div> <div class="space-y-2"><!> <!></div> <!></div></form>'),Dt=d("<!> <!>",1),It=d("<!> <!>",1),Ct=d('<p class="text-red-500 text-sm">Passwords do not match.</p>'),kt=d("<!> Updating...",1),At=d('<form method="POST" action="?/updateCredentials"><div class="space-y-6"><div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!> <!></div> <!></div></form>'),St=d("<!> <!>",1),Tt=d("<!> <!>",1),Ut=d("<!> Resetting...",1),Nt=d("<!> <!>",1),Ft=d("<!> <!>",1),Lt=d("<!> <!>",1),Ot=d("<!> <!>",1),Rt=d("<!> Saving...",1),Bt=d("<!> Importing...",1),qt=d('<p class="text-red-500 text-sm mt-1">Invalid file type. Please select a .sqlite or .db file.</p>'),zt=d('<div class="space-y-2"><!> <p class="text-sm text-gray-700 dark:text-gray-300">Delete all data from all tables, retaining the table structure. <span class="font-semibold text-red-600 dark:text-red-400">This action is irreversible.</span></p> <!> <form id="resetDbForm" method="POST" action="?/resetDatabase" class="hidden"></form></div> <!> <div class="space-y-2"><!> <p class="text-sm text-gray-700 dark:text-gray-300">Create a backup copy of your current database file.</p> <form method="POST" action="?/saveDatabase"><!></form></div> <!> <div class="space-y-2"><!> <p class="text-sm text-gray-700 dark:text-gray-300">Overwrite the current database with a selected backup file. <span class="font-semibold text-red-600 dark:text-red-400">This action is irreversible and will replace ALL existing data.</span></p> <form method="POST" action="?/importDatabase" enctype="multipart/form-data"><!> <!> <!></form></div>',1),Et=d("<!> <!>",1),Mt=d("<!> <!>",1),Xt=d('<div class="pointer-events-auto"><!></div>'),jt=d('<div class="space-y-8 p-6"><h1 class="text-3xl font-bold">Settings</h1> <p class="text-gray-500">Manage your profile, account, and application settings.</p> <!> <!> <!> <!> <!></div> <div class="fixed inset-x-0 bottom-6 flex justify-center z-50 pointer-events-none"><!></div>',1);function Pa(C,a){Pe(a,!1);const[N,z]=Dr(),f=()=>Ir(Lr,"$currentUser",N);let R=se(a,"data",8),A=W(R().user.username),I=W(null),P=W(R().user.profileImage),L=W(!1),ie=W(""),oe=W(""),k=W(""),c=W(""),i=W({profile:!1,credentials:!1,resetDb:!1,saveDb:!1,importDb:!1}),Y=W(!1),qe=W(""),ze=W("default"),Ee=W(""),me=W(null);function mr(p){n(qe,p),n(ze,"default"),n(Ee,"bg-primary text-primary-foreground"),n(Y,!0),setTimeout(()=>n(Y,!1),3e3)}function er(p){n(qe,p),n(ze,"destructive"),n(Ee,""),n(Y,!0),setTimeout(()=>n(Y,!1),3e3)}function _r(p){const h=p.target;h.files&&h.files[0]?(n(I,h.files[0]),n(P,URL.createObjectURL(r(I))),n(L,!1)):(n(I,null),n(P,f().profileImage))}function pr(){n(I,null),n(P,null),n(L,!0)}function Ie(p){return()=>(ir(i,r(i)[p]=!0),async({result:h,update:E})=>{var B,K,S,M,m,$;if(ir(i,r(i)[p]=!1),h.type==="success"){if(mr(((B=h.data)==null?void 0:B.message)||"Operation successful!"),p==="profile")cr({username:((K=h.data)==null?void 0:K.username)||r(A),profileImage:(S=h.data)==null?void 0:S.profileImage}),n(P,(M=h.data)==null?void 0:M.profileImage),n(I,null),n(L,!1);else if(p==="credentials")r(oe)&&cr({username:r(oe)}),n(ie,""),n(oe,""),n(k,""),n(c,"");else if(p==="importDb"){n(me,null);const b=document.getElementById("importDbFile");b&&(b.value="")}await Nr("app:settings"),E()}else h.type==="failure"?(er(((m=h.data)==null?void 0:m.message)||"Operation failed."),E()):h.type==="error"&&(er((($=h.error)==null?void 0:$.message)||"An unexpected error occurred."),E())})}function $r(p){const h=p.target;h.files&&h.files[0]?n(me,h.files[0]):n(me,null)}nr(()=>(f(),r(A)),()=>{f().username!==r(A)&&n(A,f().username)}),nr(()=>(f(),r(P)),()=>{f().profileImage!==r(P)&&(n(P,f().profileImage),n(I,null),n(L,!1))}),yr(),Ur();var rr=jt(),Me=l(rr),tr=t(y(Me),4);He(tr,{});var ar=t(tr,2);Ne(ar,{class:"max-w-2xl mx-auto",children:(p,h)=>{var E=gt(),B=l(E);Fe(B,{children:(S,M)=>{var m=_t(),$=l(m);Le($,{children:(u,T)=>{_();var x=g("Application Theme");e(u,x)},$$slots:{default:!0}});var b=t($,2);Re(b,{children:(u,T)=>{_();var x=g("Customize the look and feel of the application.");e(u,x)},$$slots:{default:!0}}),e(S,m)},$$slots:{default:!0}});var K=t(B,2);Oe(K,{class:"flex gap-3",children:(S,M)=>{var m=q(),$=l(m);Cr($,1,()=>ft,kr,(b,u)=>{Or(b,{delayDuration:50,children:(T,x)=>{Rr(T,{children:(X,de)=>{var le=$t(),Z=l(le);Jr(Z,{children:(Q,ne)=>{he(Q,{variant:"outline",class:"icon",get style(){return`background-color: ${r(u).primaryColor??""};`},onclick:()=>mt(r(u).value)})},$$slots:{default:!0}});var _e=t(Z,2);Kr(_e,{children:(Q,ne)=>{var ee=pt(),ce=y(ee,!0);w(ee),We(()=>dr(ce,r(u).name)),e(Q,ee)},$$slots:{default:!0}}),e(X,le)},$$slots:{default:!0}})},$$slots:{default:!0}})}),e(S,m)},$$slots:{default:!0}}),e(p,E)},$$slots:{default:!0}});var sr=t(ar,2);Ne(sr,{class:"max-w-2xl mx-auto",children:(p,h)=>{var E=Dt(),B=l(E);Fe(B,{children:(S,M)=>{var m=ht(),$=l(m);Le($,{children:(u,T)=>{_();var x=g("Profile Information");e(u,x)},$$slots:{default:!0}});var b=t($,2);Re(b,{children:(u,T)=>{_();var x=g("Update your display name and profile avatar.");e(u,x)},$$slots:{default:!0}}),e(S,m)},$$slots:{default:!0}});var K=t(B,2);Oe(K,{children:(S,M)=>{var m=wt(),$=y(m),b=y($),u=y(b);Br(u,{class:"h-24 w-24",children:(D,G)=>{var o=bt(),F=l(o);const s=Ve(()=>r(P)||void 0);qr(F,{get src(){return r(s)},alt:"Profile"});var U=t(F,2);zr(U,{}),e(D,o)},$$slots:{default:!0}});var T=t(u,2),x=y(T);ve(x,{for:"profileImage",children:(D,G)=>{_();var o=g("Profile Image");e(D,o)},$$slots:{default:!0}});var X=t(x,2);be(X,{id:"profileImage",name:"profileImage",type:"file",accept:"image/*",onchange:_r,class:"cursor-pointer"});var de=t(X,2);{var le=D=>{he(D,{type:"button",variant:"ghost",size:"sm",onclick:pr,children:(G,o)=>{var F=Pt(),s=l(F);Gr(s,{class:"h-4 w-4 mr-1 text-red-500"}),_(),e(G,F)},$$slots:{default:!0}})};H(de,D=>{r(P)&&D(le)})}var Z=t(de,2);Sr(Z);var _e=t(Z,2);{var Q=D=>{var G=xt();e(D,G)};H(_e,D=>{r(L)&&D(Q)})}w(T),w(b);var ne=t(b,2),ee=y(ne);ve(ee,{for:"displayName",children:(D,G)=>{_();var o=g("Display Name");e(D,o)},$$slots:{default:!0}});var ce=t(ee,2);be(ce,{id:"displayName",name:"displayName",get placeholder(){return R().user.display_name},maxlength:20}),w(ne);var ye=t(ne,2);he(ye,{type:"submit",get disabled(){return r(i).profile},children:(D,G)=>{var o=q(),F=l(o);{var s=v=>{var J=yt(),j=l(J);Se(j,{class:"mr-2 h-4 w-4 animate-spin"}),_(),e(v,J)},U=v=>{var J=g("Save Profile");e(v,J)};H(F,v=>{r(i).profile?v(s):v(U,!1)})}e(D,o)},$$slots:{default:!0}}),w($),w(m),ke(m,(D,G)=>{var o;return(o=Ae)==null?void 0:o(D,G)},()=>Ie("profile")),We(()=>Tr(Z,f().profileImage||"")),e(S,m)},$$slots:{default:!0}}),e(p,E)},$$slots:{default:!0}});var or=t(sr,2);Ne(or,{class:"max-w-2xl mx-auto",children:(p,h)=>{var E=St(),B=l(E);Fe(B,{children:(S,M)=>{var m=It(),$=l(m);Le($,{children:(u,T)=>{_();var x=g("Account Credentials");e(u,x)},$$slots:{default:!0}});var b=t($,2);Re(b,{children:(u,T)=>{_();var x=g("Change your username and password.");e(u,x)},$$slots:{default:!0}}),e(S,m)},$$slots:{default:!0}});var K=t(B,2);Oe(K,{children:(S,M)=>{var m=At(),$=y(m),b=y($),u=y(b);ve(u,{for:"currentPassword",children:(o,F)=>{_();var s=g("Current Password *");e(o,s)},$$slots:{default:!0}});var T=t(u,2);be(T,{id:"currentPassword",name:"currentPassword",type:"password",required:!0,get value(){return r(ie)},set value(o){n(ie,o)},$$legacy:!0}),w(b);var x=t(b,2),X=y(x);ve(X,{for:"newUsername",children:(o,F)=>{_();var s=g("New Username");e(o,s)},$$slots:{default:!0}});var de=t(X,2);be(de,{id:"newUsername",name:"newUsername",type:"text",placeholder:"Leave blank to keep current",maxlength:"40",get value(){return r(oe)},set value(o){n(oe,o)},$$legacy:!0}),w(x);var le=t(x,2),Z=y(le);ve(Z,{for:"newPassword",children:(o,F)=>{_();var s=g("New Password");e(o,s)},$$slots:{default:!0}});var _e=t(Z,2);be(_e,{id:"newPassword",name:"newPassword",type:"password",placeholder:"Leave blank to keep current",minlength:"8",get value(){return r(k)},set value(o){n(k,o)},$$legacy:!0}),w(le);var Q=t(le,2),ne=y(Q);ve(ne,{for:"confirmNewPassword",children:(o,F)=>{_();var s=g("Confirm New Password");e(o,s)},$$slots:{default:!0}});var ee=t(ne,2);be(ee,{id:"confirmNewPassword",name:"confirmNewPassword",type:"password",get value(){return r(c)},set value(o){n(c,o)},$$legacy:!0});var ce=t(ee,2);{var ye=o=>{var F=Ct();e(o,F)};H(ce,o=>{r(k)&&r(c)&&r(k)!==r(c)&&o(ye)})}w(Q);var D=t(Q,2);const G=Ve(()=>r(i).credentials||r(k)&&r(k)!==r(c));he(D,{type:"submit",get disabled(){return r(G)},children:(o,F)=>{var s=q(),U=l(s);{var v=j=>{var re=kt(),O=l(re);Se(O,{class:"mr-2 h-4 w-4 animate-spin"}),_(),e(j,re)},J=j=>{var re=g("Update Credentials");e(j,re)};H(U,j=>{r(i).credentials?j(v):j(J,!1)})}e(o,s)},$$slots:{default:!0}}),w($),w(m),ke(m,(o,F)=>{var s;return(s=Ae)==null?void 0:s(o,F)},()=>Ie("credentials")),e(S,m)},$$slots:{default:!0}}),e(p,E)},$$slots:{default:!0}});var gr=t(or,2);{var hr=p=>{Ne(p,{class:"max-w-2xl mx-auto border-red-500 bg-red-50/50 dark:bg-red-950/20",children:(h,E)=>{var B=Et(),K=l(B);Fe(K,{children:(M,m)=>{var $=Tt(),b=l($);Le(b,{class:"text-red-600 dark:text-red-400",children:(T,x)=>{_();var X=g("Admin: Database Management");e(T,X)},$$slots:{default:!0}});var u=t(b,2);Re(u,{class:"text-red-500 dark:text-red-300",children:(T,x)=>{_();var X=g("Caution: These operations are irreversible and affect all application data.");e(T,X)},$$slots:{default:!0}}),e(M,$)},$$slots:{default:!0}});var S=t(K,2);Oe(S,{class:"space-y-6",children:(M,m)=>{var $=zt(),b=l($),u=y(b);ve(u,{class:"text-lg font-medium",children:(s,U)=>{_();var v=g("Reset Database");e(s,v)},$$slots:{default:!0}});var T=t(u,4);Er(T,{children:(s,U)=>{var v=Ot(),J=l(v);dt(J,{asChild:!0,children:(re,O)=>{he(re,{variant:"destructive",class:"mt-2",get disabled(){return r(i).resetDb},children:(V,pe)=>{var Ue=q(),Ce=l(Ue);{var Xe=te=>{var fe=Ut(),ae=l(fe);Se(ae,{class:"mr-2 h-4 w-4 animate-spin"}),_(),e(te,fe)},$e=te=>{var fe=g("Reset Database");e(te,fe)};H(Ce,te=>{r(i).resetDb?te(Xe):te($e,!1)})}e(V,Ue)},$$slots:{default:!0}})},$$slots:{default:!0}});var j=t(J,2);Mr(j,{children:(re,O)=>{var V=Lt(),pe=l(V);Xr(pe,{children:(Ce,Xe)=>{var $e=Nt(),te=l($e);jr(te,{children:(ae,je)=>{_();var ge=g("Are you absolutely sure?");e(ae,ge)},$$slots:{default:!0}});var fe=t(te,2);Vr(fe,{children:(ae,je)=>{_();var ge=g(`This action cannot be undone. This will permanently delete all data from your database,\r
                                    while keeping the table structure.`);e(ae,ge)},$$slots:{default:!0}}),e(Ce,$e)},$$slots:{default:!0}});var Ue=t(pe,2);Wr(Ue,{children:(Ce,Xe)=>{var $e=Ft(),te=l($e);vt(te,{children:(ae,je)=>{_();var ge=g("Cancel");e(ae,ge)},$$slots:{default:!0}});var fe=t(te,2);ct(fe,{onclick:()=>{const ae=document.getElementById("resetDbForm");ae&&ae.requestSubmit()},children:(ae,je)=>{_();var ge=g("Continue");e(ae,ge)},$$slots:{default:!0}}),e(Ce,$e)},$$slots:{default:!0}}),e(re,V)},$$slots:{default:!0}}),e(s,v)},$$slots:{default:!0}});var x=t(T,2);ke(x,(s,U)=>{var v;return(v=Ae)==null?void 0:v(s,U)},()=>Ie("resetDb")),w(b);var X=t(b,2);He(X,{});var de=t(X,2),le=y(de);ve(le,{class:"text-lg font-medium",children:(s,U)=>{_();var v=g("Save Database");e(s,v)},$$slots:{default:!0}});var Z=t(le,4),_e=y(Z);he(_e,{type:"submit",class:"mt-2",get disabled(){return r(i).saveDb},children:(s,U)=>{var v=q(),J=l(v);{var j=O=>{var V=Rt(),pe=l(V);Se(pe,{class:"mr-2 h-4 w-4 animate-spin"}),_(),e(O,V)},re=O=>{var V=g("Save Database");e(O,V)};H(J,O=>{r(i).saveDb?O(j):O(re,!1)})}e(s,v)},$$slots:{default:!0}}),w(Z),ke(Z,(s,U)=>{var v;return(v=Ae)==null?void 0:v(s,U)},()=>Ie("saveDb")),w(de);var Q=t(de,2);He(Q,{});var ne=t(Q,2),ee=y(ne);ve(ee,{class:"text-lg font-medium",children:(s,U)=>{_();var v=g("Import Database");e(s,v)},$$slots:{default:!0}});var ce=t(ee,4),ye=y(ce);be(ye,{id:"importDbFile",name:"dbFile",type:"file",accept:".sqlite,.db",onchange:$r,class:"cursor-pointer mb-2",required:!0});var D=t(ye,2);const G=Ve(()=>r(i).importDb||!r(me));he(D,{type:"submit",class:"mt-2",get disabled(){return r(G)},children:(s,U)=>{var v=q(),J=l(v);{var j=O=>{var V=Bt(),pe=l(V);Se(pe,{class:"mr-2 h-4 w-4 animate-spin"}),_(),e(O,V)},re=O=>{var V=g("Import Database");e(O,V)};H(J,O=>{r(i).importDb?O(j):O(re,!1)})}e(s,v)},$$slots:{default:!0}});var o=t(D,2);{var F=s=>{var U=qt();e(s,U)};H(o,s=>{r(me)&&!r(me).name.endsWith(".sqlite")&&!r(me).name.endsWith(".db")&&s(F)})}w(ce),ke(ce,(s,U)=>{var v;return(v=Ae)==null?void 0:v(s,U)},()=>Ie("importDb")),w(ne),e(M,$)},$$slots:{default:!0}}),e(h,B)},$$slots:{default:!0}})};H(gr,p=>{Fr(f().role)&&p(hr)})}w(Me);var lr=t(Me,2),br=y(lr);{var Pr=p=>{var h=Xt(),E=y(h);Ar(E,{get variant(){return r(ze)},get class(){return r(Ee)},children:(B,K)=>{var S=Mt(),M=l(S);tt(M,{});var m=t(M,2);Hr(m,{children:($,b)=>{_();var u=g();We(()=>dr(u,r(qe))),e($,u)},$$slots:{default:!0}}),e(B,S)},$$slots:{default:!0}}),w(h),e(p,h)};H(br,p=>{r(Y)&&p(Pr)})}w(lr),e(C,rr),xe(),z()}export{Pa as component};
