import{f as v,a as t,t as i,c as ke}from"../chunks/Do_-mL-j.js";import{p as Mt,a as A,b as Je,f as p,t as B,d as Qt,g as a,u as pt,c,s as r,e as l,n,r as u}from"../chunks/CSgM7ggg.js";import{s as X}from"../chunks/Cc2sBIKg.js";import{i as je}from"../chunks/DFkGWr6I.js";import{e as Vt,i as Gt}from"../chunks/BveS6AeT.js";import{c as $}from"../chunks/BxwOPTHF.js";import{a as at,e as st,A as ot}from"../chunks/BOZ4giT5.js";import{r as gt,s as ht}from"../chunks/eOTtUvit.js";import{i as Fe,g as xt}from"../chunks/uKHEHksz.js";import{B as ue}from"../chunks/BVmkDKMc.js";import{I as de}from"../chunks/B5-iWWaj.js";import{C as Wt,a as Xt,b as Yt,c as Zt}from"../chunks/BBrFK00f.js";import{L as ve}from"../chunks/Bo2GsiZ3.js";import{T as er,a as tr,b as yt,c as we,d as rr,P as Pt,D as bt,e as kt,f as wt,g as St,h as At,A as Ct,i as Rt,R as Tt,j as Se,S as ar,C as sr}from"../chunks/CdrzcX6z.js";import{P as or,A as lr,a as dr,b as nr,c as ir,d as cr,e as ur,R as vr,f as _r}from"../chunks/DRgJLo_S.js";import"../chunks/Dlm0QRJp.js";import{R as fr}from"../chunks/BAa4oyvZ.js";import{S as $r}from"../chunks/C9JwNqn8.js";import{A as mr}from"../chunks/jrVE8UPr.js";import{S as pr}from"../chunks/C0R_oNfb.js";import{P as gr,C as hr,T as xr}from"../chunks/ARt1Dh6s.js";import{A as yr,a as Pr}from"../chunks/B3v1Wr7v.js";import{t as He}from"../chunks/Ca16gRfA.js";import{T as br,a as kr}from"../chunks/HFpTe9lc.js";var wr=v("<!> Back to Stocking Info",1),Sr=v("<!> <!>",1),Ar=v("<!> Add Sales Record",1),Cr=v('<div class="text-center py-8 text-gray-500">No sales records found for this stocking event.</div>'),Rr=v('<div class="flex items-center gap-1">Estimated Sales (₱) <!></div>'),Tr=v('<div class="flex items-center gap-1">Projected Amount (₱) <!></div>'),Dr=v('<div class="flex items-center gap-1">Feeds Used (kg) <!></div>'),jr=v('<div class="flex items-center gap-1">Feed Cost (₱) <!></div>'),Fr=v("<!> <!> <!> <!> <!> <!>",1),Nr=v("<p> </p>"),qr=v("<!> <!>",1),Er=v('<span class="text-gray-400 italic">N/A</span>'),Or=v('<div class="flex flex justify-center space-x-2"><!> <!></div>'),Ir=v("<!> <!> <!> <!> <!> <!>",1),Ur=v("<!> <!>",1),Br=v('<div class="border rounded-lg"><!></div>'),Lr=v('<div class="flex items-center gap-4 mb-4"><div class="relative flex-1"><!> <!></div> <!></div> <!>',1),zr=v("<!> <!>",1),Jr=v("<!> <!>",1),Hr=v("<!> <!>",1),Kr=v('<!> <form method="POST" action="?/create"><div class="space-y-4 mt-6"><!> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="flex gap-2 pt-4"><!> <!></div></div></form>',1),Mr=v("<!> <!>",1),Qr=v("<!> <!>",1),Vr=v("<!> <!>",1),Gr=v('<!> <form method="POST" action="?/update"><input type="hidden" name="id"/> <div class="space-y-4 mt-6"><!> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="flex gap-2 pt-4"><!> <!></div></div></form>',1),Wr=v("<!> <!>",1),Xr=v("<!> <!>",1),Yr=v('<form method="POST" action="?/delete"><input type="hidden" name="id"/> <!> <!></form>'),Zr=v("<!> <!>",1),ea=v("<!> <!>",1),ta=v("<!> <!>",1),ra=v('<div class="pointer-events-auto"><!></div>'),aa=v('<div class="space-y-6"><div class="flex justify-between items-center"><div><!> <h1 class="text-2xl font-bold"> </h1> <p class="text-gray-500"> </p></div></div></div> <!> <!> <!> <!> <div class="fixed inset-x-0 bottom-6 flex justify-center z-50 pointer-events-none"><!></div>',1);function Ca(Dt,P){Mt(P,!0);let Ae=A(Je(P.data.search||"")),Y=A(null),Ke=A(null),Ce=A(!1),Re=A(!1),Te=A(!1),Me=A(null),Ne=A(null),qe=A(null),Ee=A(null),Oe=A(null),Ie=A(""),Ue=A(null),L=A(Je({})),Qe=A(!1),Ve="",ge="default",he="",De=A(Je(P.data.sortBy||"created_at")),xe=A(Je(P.data.sortOrder||"desc"));function Be(s){return s==null?"₱0.00":new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(s)}function Ge(s,w){switch(Ve=s,w){case"create":ge="default",he="bg-[var(--primary)] text-[var(--primary-foreground)]",He.success(s);break;case"update":ge="default",he="bg-[var(--secondary)] text-[var(--secondary-foreground)]",He.success(s);break;case"delete":ge="destructive",he="",He.info(s);break;default:ge="default",he="bg-[var(--primary)] text-[var(--primary-foreground)]"}setTimeout(()=>l(Qe,!1),3e3)}function We(s){Ve=s,ge="destructive",he="",He.error(s),setTimeout(()=>l(Qe,!1),3e3)}let Xe=pt(()=>{var s;return((s=P.data.salesRecords)==null?void 0:s.filter(w=>{var g;return(g=w.remarks)==null?void 0:g.toLowerCase().includes(a(Ae).toLowerCase())}))||[]});function jt(s){l(Ue,s.id,!0),l(Ke,{...s},!0),l(L,{...s},!0),l(Re,!0)}function Ft(){l(Ue,null),l(L,{},!0),l(Ke,null),l(Re,!1)}async function Nt(){const s=new URL(window.location.href);a(Ae)?s.searchParams.set("search",a(Ae)):s.searchParams.delete("search"),s.searchParams.set("sort",a(De)),s.searchParams.set("order",a(xe)),await xt(s.pathname+s.search,{replaceState:!0}),Fe(`app:sales:${P.data.stocking.id}`)}function qt(s){l(Me,s,!0),l(Te,!0)}function Et(s){return s?new Date(s+"T00:00:00").toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"}function Ot(){l(Ce,!0),l(Ne,null),l(qe,null),l(Ee,null),l(Oe,null),l(Ie,""),l(Y,null)}async function Le(s){let w=s,g;a(De)===s?a(xe)==="asc"?g="desc":g="asc":(w=s,g="asc"),l(De,w,!0),l(xe,g,!0);const C=new URL(window.location.href);C.searchParams.set("sort",a(De)),C.searchParams.set("order",a(xe)),console.log("Navigating to:",C.pathname+C.search),await xt(C.pathname+C.search),Fe(`app:sales:${P.data.stocking.id}`)}function ze(s){if(a(De)===s){if(a(xe)==="asc")return yr;if(a(xe)==="desc")return Pr}return hr}var lt=aa(),Ye=p(lt),dt=c(Ye),nt=c(dt),it=c(nt);const It=pt(()=>`/dashboard/clients/${P.data.client.id}/stocking-info`);ue(it,{variant:"ghost",get href(){return a(It)},class:"mb-2 -ml-4",children:(s,w)=>{var g=wr(),C=p(g);mr(C,{class:"h-4 w-4 mr-2"}),n(),t(s,g)},$$slots:{default:!0}});var Ze=r(it,2),Ut=c(Ze);u(Ze);var ct=r(Ze,2),Bt=c(ct);u(ct),u(nt),u(dt),u(Ye);var ut=r(Ye,2);Wt(ut,{children:(s,w)=>{var g=zr(),C=p(g);Xt(C,{class:"h-4",children:(Z,ne)=>{var z=Sr(),O=p(z);Yt(O,{children:(R,se)=>{n();var ie=i();B(()=>X(ie,`Total Sales Records: ${a(Xe).length??""}`)),t(R,ie)},$$slots:{default:!0}});var _e=r(O,2);$r(_e,{class:"my-2"}),t(Z,z)},$$slots:{default:!0}});var ae=r(C,2);Zt(ae,{children:(Z,ne)=>{var z=Lr(),O=p(z),_e=c(O),R=c(_e);de(R,{placeholder:"Search by remarks...",class:"pl-10",get value(){return a(Ae)},set value(K){l(Ae,K,!0)},$$events:{input:Nt}});var se=r(R,2);pr(se,{class:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),u(_e);var ie=r(_e,2);ue(ie,{onclick:Ot,children:(K,T)=>{var M=Ar(),Q=p(M);gr(Q,{class:"h-4 w-4 mr-2"}),n(),t(K,M)},$$slots:{default:!0}}),u(O);var J=r(O,2);{var H=K=>{var T=Cr();t(K,T)},me=K=>{var T=Br(),M=c(T);er(M,{children:(Q,oe)=>{var ee=Ur(),le=p(ee);tr(le,{children:(S,V)=>{yt(S,{children:(D,j)=>{var m=Fr(),f=p(m);we(f,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Le("estimated_sales"),children:(b,F)=>{var h=Rr(),N=r(c(h));$(N,()=>ze("estimated_sales"),(q,x)=>{x(q,{class:"h-4 w-4"})}),u(h),t(b,h)},$$slots:{default:!0}});var y=r(f,2);we(y,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Le("projected_amount"),children:(b,F)=>{var h=Tr(),N=r(c(h));$(N,()=>ze("projected_amount"),(q,x)=>{x(q,{class:"h-4 w-4"})}),u(h),t(b,h)},$$slots:{default:!0}});var I=r(y,2);we(I,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Le("feeds_used_kg"),children:(b,F)=>{var h=Dr(),N=r(c(h));$(N,()=>ze("feeds_used_kg"),(q,x)=>{x(q,{class:"h-4 w-4"})}),u(h),t(b,h)},$$slots:{default:!0}});var U=r(I,2);we(U,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Le("feed_cost"),children:(b,F)=>{var h=jr(),N=r(c(h));$(N,()=>ze("feed_cost"),(q,x)=>{x(q,{class:"h-4 w-4"})}),u(h),t(b,h)},$$slots:{default:!0}});var te=r(U,2);we(te,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2",children:(b,F)=>{n();var h=i("Remarks");t(b,h)},$$slots:{default:!0}});var $e=r(te,2);we($e,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 text-center",children:(b,F)=>{n();var h=i("Actions");t(b,h)},$$slots:{default:!0}}),t(D,m)},$$slots:{default:!0}})},$$slots:{default:!0}});var fe=r(le,2);rr(fe,{children:(S,V)=>{var D=ke(),j=p(D);Vt(j,17,()=>a(Xe),Gt,(m,f,y)=>{yt(m,{class:y%2===0?"bg-gray-50 dark:bg-card":"bg-white dark:bg-background",children:(I,U)=>{var te=Ir(),$e=p(te);Se($e,{children:(x,d)=>{n();var e=i();B(o=>X(e,o),[()=>Be(a(f).estimated_sales)]),t(x,e)},$$slots:{default:!0}});var b=r($e,2);Se(b,{children:(x,d)=>{n();var e=i();B(o=>X(e,o),[()=>Be(a(f).projected_amount)]),t(x,e)},$$slots:{default:!0}});var F=r(b,2);Se(F,{children:(x,d)=>{n();var e=i();B(()=>X(e,`${a(f).feeds_used_kg??""} kg`)),t(x,e)},$$slots:{default:!0}});var h=r(F,2);Se(h,{children:(x,d)=>{n();var e=i();B(o=>X(e,o),[()=>Be(a(f).feed_cost)]),t(x,e)},$$slots:{default:!0}});var N=r(h,2);Se(N,{class:"max-w-xs truncate",children:(x,d)=>{var e=ke(),o=p(e);{var _=k=>{var G=ke(),ce=p(G);$(ce,()=>fr,(W,re)=>{re(W,{children:(pe,ye)=>{var Pe=qr(),mt=p(Pe);$(mt,()=>br,(et,tt)=>{tt(et,{class:"truncate max-w-xs block",children:(rt,Ht)=>{n();var be=i();B(()=>X(be,a(f).remarks)),t(rt,be)},$$slots:{default:!0}})});var Jt=r(mt,2);$(Jt,()=>kr,(et,tt)=>{tt(et,{children:(rt,Ht)=>{var be=Nr(),Kt=c(be,!0);u(be),B(()=>X(Kt,a(f).remarks)),t(rt,be)},$$slots:{default:!0}})}),t(pe,Pe)},$$slots:{default:!0}})}),t(k,G)},E=k=>{var G=Er();t(k,G)};je(o,k=>{a(f).remarks?k(_):k(E,!1)})}t(x,e)},$$slots:{default:!0}});var q=r(N,2);Se(q,{children:(x,d)=>{var e=Or(),o=c(e);ue(o,{variant:"outline",size:"sm",onclick:()=>jt(a(f)),children:(E,k)=>{ar(E,{})},$$slots:{default:!0}});var _=r(o,2);ue(_,{variant:"outline",size:"sm",onclick:()=>qt(a(f)),children:(E,k)=>{xr(E,{class:"h-4 w-4 text-red-500"})},$$slots:{default:!0}}),u(e),t(x,e)},$$slots:{default:!0}}),t(I,te)},$$slots:{default:!0}})}),t(S,D)},$$slots:{default:!0}}),t(Q,ee)},$$slots:{default:!0}}),u(T),t(K,T)};je(J,K=>{a(Xe).length===0?K(H):K(me,!1)})}t(Z,z)},$$slots:{default:!0}}),t(s,g)},$$slots:{default:!0}});var vt=r(ut,2);$(vt,()=>Tt,(s,w)=>{w(s,{get open(){return a(Ce)},set open(g){l(Ce,g,!0)},children:(g,C)=>{var ae=ke(),Z=p(ae);$(Z,()=>Pt,(ne,z)=>{z(ne,{children:(O,_e)=>{var R=Mr(),se=p(R);$(se,()=>bt,(J,H)=>{H(J,{})});var ie=r(se,2);$(ie,()=>kt,(J,H)=>{H(J,{class:"sm:max-w-[425px] p-6",children:(me,K)=>{var T=Kr(),M=p(T);$(M,()=>wt,(d,e)=>{e(d,{children:(o,_)=>{var E=Jr(),k=p(E);$(k,()=>St,(ce,W)=>{W(ce,{children:(re,pe)=>{n();var ye=i("Add New Sales Record");t(re,ye)},$$slots:{default:!0}})});var G=r(k,2);$(G,()=>At,(ce,W)=>{W(ce,{children:(re,pe)=>{n();var ye=i("Enter the sales details below.");t(re,ye)},$$slots:{default:!0}})}),t(o,E)},$$slots:{default:!0}})});var Q=r(M,2),oe=c(Q),ee=c(oe);{var le=d=>{ot(d,{variant:"destructive",children:(e,o)=>{var _=Hr(),E=p(_);Ct(E,{class:"h-4 w-4"});var k=r(E,2);Rt(k,{children:(G,ce)=>{n();var W=i();B(()=>X(W,a(Y))),t(G,W)},$$slots:{default:!0}}),t(e,_)},$$slots:{default:!0}})};je(ee,d=>{a(Y)&&d(le)})}var fe=r(ee,2),S=c(fe);ve(S,{for:"estimated_sales_create",children:(d,e)=>{n();var o=i("Estimated Sales (₱) *");t(d,o)},$$slots:{default:!0}});var V=r(S,2);de(V,{id:"estimated_sales_create",name:"estimated_sales",type:"number",step:"0.01",required:!0,get value(){return a(Ne)},set value(d){l(Ne,d,!0)}}),u(fe);var D=r(fe,2),j=c(D);ve(j,{for:"projected_amount_create",children:(d,e)=>{n();var o=i("Projected Amount (₱) *");t(d,o)},$$slots:{default:!0}});var m=r(j,2);de(m,{id:"projected_amount_create",name:"projected_amount",type:"number",step:"0.01",required:!0,get value(){return a(qe)},set value(d){l(qe,d,!0)}}),u(D);var f=r(D,2),y=c(f);ve(y,{for:"feeds_used_kg_create",children:(d,e)=>{n();var o=i("Feeds Used (kg) *");t(d,o)},$$slots:{default:!0}});var I=r(y,2);de(I,{id:"feeds_used_kg_create",name:"feeds_used_kg",type:"number",step:"0.01",required:!0,get value(){return a(Ee)},set value(d){l(Ee,d,!0)}}),u(f);var U=r(f,2),te=c(U);ve(te,{for:"feed_cost_create",children:(d,e)=>{n();var o=i("Feed Cost (₱) *");t(d,o)},$$slots:{default:!0}});var $e=r(te,2);de($e,{id:"feed_cost_create",name:"feed_cost",type:"number",step:"0.01",required:!0,get value(){return a(Oe)},set value(d){l(Oe,d,!0)}}),u(U);var b=r(U,2),F=c(b);ve(F,{for:"remarks_create",children:(d,e)=>{n();var o=i("Remarks *");t(d,o)},$$slots:{default:!0}});var h=r(F,2);de(h,{id:"remarks_create",name:"remarks",type:"text",maxlength:255,required:!0,get value(){return a(Ie)},set value(d){l(Ie,d,!0)}}),u(b);var N=r(b,2),q=c(N);ue(q,{type:"submit",class:"flex-1",children:(d,e)=>{n();var o=i("Add Sales Record");t(d,o)},$$slots:{default:!0}});var x=r(q,2);ue(x,{type:"button",variant:"outline",onclick:()=>l(Ce,!1),children:(d,e)=>{n();var o=i("Cancel");t(d,o)},$$slots:{default:!0}}),u(N),u(oe),u(Q),at(Q,(d,e)=>{var o;return(o=st)==null?void 0:o(d,e)},()=>()=>async({result:d})=>{var e,o;d.type==="success"?(l(Ce,!1),await Fe(`app:sales:${P.data.stocking.id}`),Ge("Sales record created successfully!","create"),l(Ne,null),l(qe,null),l(Ee,null),l(Oe,null),l(Ie,""),l(Y,null)):d.type==="failure"&&(l(Y,typeof((e=d.data)==null?void 0:e.error)=="string"?d.data.error:JSON.stringify((o=d.data)==null?void 0:o.error)||"An error occurred",!0),We(a(Y)))}),t(me,T)},$$slots:{default:!0}})}),t(O,R)},$$slots:{default:!0}})}),t(g,ae)},$$slots:{default:!0}})});var _t=r(vt,2);$(_t,()=>Tt,(s,w)=>{w(s,{get open(){return a(Re)},set open(g){l(Re,g,!0)},children:(g,C)=>{var ae=ke(),Z=p(ae);$(Z,()=>Pt,(ne,z)=>{z(ne,{children:(O,_e)=>{var R=Wr(),se=p(R);$(se,()=>bt,(J,H)=>{H(J,{})});var ie=r(se,2);$(ie,()=>kt,(J,H)=>{H(J,{class:"sm:max-w-[425px] p-6",children:(me,K)=>{var T=Gr(),M=p(T);$(M,()=>wt,(e,o)=>{o(e,{children:(_,E)=>{var k=Qr(),G=p(k);$(G,()=>St,(W,re)=>{re(W,{children:(pe,ye)=>{n();var Pe=i("Edit Sales Record");t(pe,Pe)},$$slots:{default:!0}})});var ce=r(G,2);$(ce,()=>At,(W,re)=>{re(W,{children:(pe,ye)=>{n();var Pe=i("Update the sales details below.");t(pe,Pe)},$$slots:{default:!0}})}),t(_,k)},$$slots:{default:!0}})});var Q=r(M,2),oe=c(Q);gt(oe);var ee=r(oe,2),le=c(ee);{var fe=e=>{ot(e,{variant:"destructive",children:(o,_)=>{var E=Vr(),k=p(E);Ct(k,{class:"h-4 w-4"});var G=r(k,2);Rt(G,{children:(ce,W)=>{n();var re=i();B(()=>X(re,a(Y))),t(ce,re)},$$slots:{default:!0}}),t(o,E)},$$slots:{default:!0}})};je(le,e=>{a(Y)&&e(fe)})}var S=r(le,2),V=c(S);ve(V,{for:"estimated_sales_edit",children:(e,o)=>{n();var _=i("Estimated Sales (₱) *");t(e,_)},$$slots:{default:!0}});var D=r(V,2);de(D,{id:"estimated_sales_edit",name:"estimated_sales",type:"number",step:"0.01",required:!0,get value(){return a(L).estimated_sales},set value(e){a(L).estimated_sales=e}}),u(S);var j=r(S,2),m=c(j);ve(m,{for:"projected_amount_edit",children:(e,o)=>{n();var _=i("Projected Amount (₱) *");t(e,_)},$$slots:{default:!0}});var f=r(m,2);de(f,{id:"projected_amount_edit",name:"projected_amount",type:"number",step:"0.01",required:!0,get value(){return a(L).projected_amount},set value(e){a(L).projected_amount=e}}),u(j);var y=r(j,2),I=c(y);ve(I,{for:"feeds_used_kg_edit",children:(e,o)=>{n();var _=i("Feeds Used (kg) *");t(e,_)},$$slots:{default:!0}});var U=r(I,2);de(U,{id:"feeds_used_kg_edit",name:"feeds_used_kg",type:"number",step:"0.01",required:!0,get value(){return a(L).feeds_used_kg},set value(e){a(L).feeds_used_kg=e}}),u(y);var te=r(y,2),$e=c(te);ve($e,{for:"feed_cost_edit",children:(e,o)=>{n();var _=i("Feed Cost (₱) *");t(e,_)},$$slots:{default:!0}});var b=r($e,2);de(b,{id:"feed_cost_edit",name:"feed_cost",type:"number",step:"0.01",required:!0,get value(){return a(L).feed_cost},set value(e){a(L).feed_cost=e}}),u(te);var F=r(te,2),h=c(F);ve(h,{for:"remarks_edit",children:(e,o)=>{n();var _=i("Remarks *");t(e,_)},$$slots:{default:!0}});var N=r(h,2);de(N,{id:"remarks_edit",name:"remarks",type:"text",maxlength:255,required:!0,get value(){return a(L).remarks},set value(e){a(L).remarks=e}}),u(F);var q=r(F,2),x=c(q);ue(x,{type:"submit",class:"flex-1",children:(e,o)=>{n();var _=i("Save Changes");t(e,_)},$$slots:{default:!0}});var d=r(x,2);ue(d,{type:"button",variant:"outline",onclick:Ft,children:(e,o)=>{n();var _=i("Cancel");t(e,_)},$$slots:{default:!0}}),u(q),u(ee),u(Q),at(Q,(e,o)=>{var _;return(_=st)==null?void 0:_(e,o)},()=>()=>async({result:e})=>{var o,_;e.type==="success"?(l(Re,!1),await Fe(`app:sales:${P.data.stocking.id}`),Ge("Sales record updated successfully!","update"),l(Ue,null),l(L,{},!0),l(Ke,null)):e.type==="failure"&&(l(Y,typeof((o=e.data)==null?void 0:o.error)=="string"?e.data.error:JSON.stringify((_=e.data)==null?void 0:_.error)||"An error occurred",!0),We(a(Y)))}),B(()=>ht(oe,a(Ue))),t(me,T)},$$slots:{default:!0}})}),t(O,R)},$$slots:{default:!0}})}),t(g,ae)},$$slots:{default:!0}})});var ft=r(_t,2);$(ft,()=>vr,(s,w)=>{w(s,{get open(){return a(Te)},set open(g){l(Te,g,!0)},children:(g,C)=>{var ae=ke(),Z=p(ae);$(Z,()=>or,(ne,z)=>{z(ne,{children:(O,_e)=>{var R=ea(),se=p(R);$(se,()=>lr,(J,H)=>{H(J,{})});var ie=r(se,2);$(ie,()=>dr,(J,H)=>{H(J,{children:(me,K)=>{var T=Zr(),M=p(T);$(M,()=>nr,(oe,ee)=>{ee(oe,{children:(le,fe)=>{var S=Xr(),V=p(S);$(V,()=>ir,(j,m)=>{m(j,{children:(f,y)=>{n();var I=i("Delete Sales Record");t(f,I)},$$slots:{default:!0}})});var D=r(V,2);$(D,()=>cr,(j,m)=>{m(j,{children:(f,y)=>{n();var I=i();B(U=>X(I,`Are you sure you want to delete this sales record (Estimated Sales: ${U??""})? This action cannot be undone.`),[()=>{var U;return Be((U=a(Me))==null?void 0:U.estimated_sales)}]),t(f,I)},$$slots:{default:!0}})}),t(le,S)},$$slots:{default:!0}})});var Q=r(M,2);$(Q,()=>ur,(oe,ee)=>{ee(oe,{children:(le,fe)=>{var S=Yr(),V=c(S);gt(V);var D=r(V,2);ue(D,{type:"button",variant:"outline",onclick:()=>l(Te,!1),children:(m,f)=>{n();var y=i("Cancel");t(m,y)},$$slots:{default:!0}});var j=r(D,2);ue(j,{type:"submit",variant:"destructive",children:(m,f)=>{n();var y=i("Delete");t(m,y)},$$slots:{default:!0}}),u(S),at(S,(m,f)=>{var y;return(y=st)==null?void 0:y(m,f)},()=>()=>async({result:m})=>{var f,y;m.type==="success"?(l(Te,!1),await Fe(`app:sales:${P.data.stocking.id}`),Ge("Sales record deleted successfully!","delete")):m.type==="failure"&&(l(Y,typeof((f=m.data)==null?void 0:f.error)=="string"?m.data.error:JSON.stringify((y=m.data)==null?void 0:y.error)||"An error occurred",!0),We(a(Y)))}),B(()=>{var m;return ht(V,(m=a(Me))==null?void 0:m.id)}),t(le,S)},$$slots:{default:!0}})}),t(me,T)},$$slots:{default:!0}})}),t(O,R)},$$slots:{default:!0}})}),t(g,ae)},$$slots:{default:!0}})});var $t=r(ft,2),Lt=c($t);{var zt=s=>{var w=ra(),g=c(w);ot(g,{get variant(){return ge},get class(){return he},children:(C,ae)=>{var Z=ta(),ne=p(Z);sr(ne,{});var z=r(ne,2);_r(z,{children:(O,_e)=>{n();var R=i();B(()=>X(R,Ve)),t(O,R)},$$slots:{default:!0}}),t(C,Z)},$$slots:{default:!0}}),u(w),t(s,w)};je(Lt,s=>{a(Qe)&&s(zt)})}u($t),B(s=>{X(Ut,`Sales Records for ${P.data.client.name??""} - Stocking on ${s??""} (${(P.data.stocking?P.data.stocking.species_name:"N/A")??""})`),X(Bt,`Stocking ID: ${(P.data.stocking?P.data.stocking.id:"N/A")??""} | Fingerlings Stocked: ${(P.data.stocking?P.data.stocking.fingerlings_stocked_count_ma:"N/A")??""}`)},[()=>P.data.stocking?Et(P.data.stocking.stocking_date):"N/A"]),t(Dt,lt),Qt()}export{Ca as component};
