import{p as Je,c as O,a as e,f as v,t as $}from"../chunks/Do_-mL-j.js";import{p as we,f as o,d as De,g as s,u as pe,c as D,h as Ke,r as I,a as Q,b as Xe,v as hr,s as a,t as Fe,e as d,n as u}from"../chunks/CSgM7ggg.js";import{s as He}from"../chunks/Cc2sBIKg.js";import{p as oe,i as J,r as Ae,l as br,s as ze,a as Pr,c as xr}from"../chunks/DFkGWr6I.js";import{e as yr,i as wr}from"../chunks/BveS6AeT.js";import{c as ce}from"../chunks/BxwOPTHF.js";import{a as Ue,e as Ne,A as Dr}from"../chunks/BOZ4giT5.js";import{b as Ce,a as Qe,r as Ir,s as Cr}from"../chunks/eOTtUvit.js";import{i as nr}from"../chunks/uKHEHksz.js";import{c as Ar,u as ir}from"../chunks/BdKzLJUH.js";import{a as kr,s as Sr}from"../chunks/DDxGkWpc.js";import{R as Ur,P as Nr}from"../chunks/BAa4oyvZ.js";import{b as dr,B as xe}from"../chunks/BVmkDKMc.js";import{I as ye}from"../chunks/B5-iWWaj.js";import{L as ue}from"../chunks/Bo2GsiZ3.js";import{C as Le,a as Re,b as Oe,c as Be}from"../chunks/BBrFK00f.js";import{C as qe}from"../chunks/C_qPImRn.js";import{S as Ge}from"../chunks/C9JwNqn8.js";import{a as Tr,b as Fr,A as Lr}from"../chunks/BkXn0r0G.js";import{R as Rr,a as Or,b as Br,c as qr,d as zr,e as Er,f as Mr}from"../chunks/DRgJLo_S.js";import"../chunks/DTVKcNaw.js";import{s as jr}from"../chunks/CFJF3e64.js";import{I as Vr}from"../chunks/DKYlzseR.js";import{X as Wr}from"../chunks/fdmIGhiF.js";import{T as Xr,a as Hr}from"../chunks/HFpTe9lc.js";import{f as $e}from"../chunks/D5BR4JST.js";import{c as Ye,m as Ze}from"../chunks/Cdy27KB5.js";import{h as Gr,A as Jr,i as Kr}from"../chunks/CW0o_Oq5.js";import{c as vr}from"../chunks/AFOXVD51.js";import{C as Qr}from"../chunks/m1yvVzPT.js";var Yr=v("<button><!></button>");function Zr(M,r){const R=Je();we(r,!0);let j=oe(r,"id",19,()=>Ye(R)),w=oe(r,"ref",15,null),q=Ae(r,["$$slots","$$events","$$legacy","children","child","id","ref"]);const C=Gr.create({id:$e.with(()=>j()),ref:$e.with(()=>w(),N=>w(N))}),P=pe(()=>Ze(q,C.props));var A=O(),V=o(A);{var re=N=>{var n=O(),b=o(n);Ce(b,()=>r.child,()=>({props:s(P)})),e(N,n)},K=N=>{var n=Yr();Qe(n,()=>({...s(P)}));var b=D(n);Ce(b,()=>r.children??Ke),I(n),e(N,n)};J(V,N=>{r.child?N(re):N(K,!1)})}e(M,A),De()}var ea=v("<button><!></button>");function ra(M,r){const R=Je();we(r,!0);let j=oe(r,"id",19,()=>Ye(R)),w=oe(r,"ref",15,null),q=oe(r,"disabled",3,!1),C=Ae(r,["$$slots","$$events","$$legacy","id","ref","children","child","disabled"]);const P=Jr.create({id:$e.with(()=>j()),ref:$e.with(()=>w(),n=>w(n)),disabled:$e.with(()=>!!q())}),A=pe(()=>Ze(C,P.props));var V=O(),re=o(V);{var K=n=>{var b=O(),ae=o(b);Ce(ae,()=>r.child,()=>({props:s(A)})),e(n,b)},N=n=>{var b=ea();Qe(b,()=>({...s(A)}));var ae=D(b);Ce(ae,()=>r.children??Ke),I(b),e(n,b)};J(re,n=>{r.child?n(K):n(N,!1)})}e(M,V),De()}var aa=v("<button><!></button>");function ta(M,r){const R=Je();we(r,!0);let j=oe(r,"id",19,()=>Ye(R)),w=oe(r,"ref",15,null),q=oe(r,"disabled",3,!1),C=Ae(r,["$$slots","$$events","$$legacy","id","ref","children","child","disabled"]);const P=Kr.create({id:$e.with(()=>j()),ref:$e.with(()=>w(),n=>w(n)),disabled:$e.with(()=>!!q())}),A=pe(()=>Ze(C,P.props));var V=O(),re=o(V);{var K=n=>{var b=O(),ae=o(b);Ce(ae,()=>r.child,()=>({props:s(A)})),e(n,b)},N=n=>{var b=aa();Qe(b,()=>({...s(A)}));var ae=D(b);Ce(ae,()=>r.children??Ke),I(b),e(n,b)};J(re,n=>{r.child?n(K):n(N,!1)})}e(M,V),De()}function Te(M,r){const R=br(r,["children","$$slots","$$events","$$legacy"]),j=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56"}]];Vr(M,ze({name:"loader-2"},()=>R,{get iconNode(){return j},children:(w,q)=>{var C=O(),P=o(C);jr(P,r,"default",{}),e(w,C)},$$slots:{default:!0}}))}function sa(M,r){we(r,!0);let R=oe(r,"ref",15,null),j=Ae(r,["$$slots","$$events","$$legacy","ref"]);var w=O(),q=o(w);ce(q,()=>ta,(C,P)=>{P(C,ze({"data-slot":"alert-dialog-trigger"},()=>j,{get ref(){return R()},set ref(A){R(A)}}))}),e(M,w),De()}function oa(M,r){we(r,!0);let R=oe(r,"ref",15,null),j=Ae(r,["$$slots","$$events","$$legacy","ref","class"]);var w=O(),q=o(w);const C=pe(()=>vr(dr(),r.class));ce(q,()=>Zr,(P,A)=>{A(P,ze({"data-slot":"alert-dialog-action",get class(){return s(C)}},()=>j,{get ref(){return R()},set ref(V){R(V)}}))}),e(M,w),De()}function la(M,r){we(r,!0);let R=oe(r,"ref",15,null),j=Ae(r,["$$slots","$$events","$$legacy","ref","class"]);var w=O(),q=o(w);const C=pe(()=>vr(dr({variant:"outline"}),r.class));ce(q,()=>ra,(P,A)=>{A(P,ze({"data-slot":"alert-dialog-cancel",get class(){return s(C)}},()=>j,{get ref(){return R()},set ref(V){R(V)}}))}),e(M,w),De()}var na=v("<!> <!>",1),ia=v("<p> </p>"),da=v("<!> <!>",1),va=v("<!> <!>",1),ca=v("<!> <!>",1),fa=v("<!> <!>",1),ua=v("<!> Remove Image",1),ma=v('<input type="hidden" name="removeProfileImage" value="true"/>'),_a=v("<!> Saving...",1),pa=v('<form method="POST" action="?/updateProfile" enctype="multipart/form-data"><div class="space-y-6"><div class="flex items-center gap-6"><!> <div class="space-y-2"><!> <!> <!> <input type="hidden" name="currentImagePath"/> <!></div></div> <div class="space-y-2"><!> <!></div> <!></div></form>'),$a=v("<!> <!>",1),ga=v("<!> <!>",1),ha=v('<p class="text-red-500 text-sm">Passwords do not match.</p>'),ba=v("<!> Updating...",1),Pa=v('<form method="POST" action="?/updateCredentials"><div class="space-y-6"><div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!> <!></div> <!></div></form>'),xa=v("<!> <!>",1),ya=v("<!> <!>",1),wa=v("<!> Resetting...",1),Da=v("<!> <!>",1),Ia=v("<!> <!>",1),Ca=v("<!> <!>",1),Aa=v("<!> <!>",1),ka=v("<!> Saving...",1),Sa=v("<!> Importing...",1),Ua=v('<p class="text-red-500 text-sm mt-1">Invalid file type. Please select a .sqlite or .db file.</p>'),Na=v('<div class="space-y-2"><!> <p class="text-sm text-gray-700 dark:text-gray-300">Delete all data from all tables, retaining the table structure. <span class="font-semibold text-red-600 dark:text-red-400">This action is irreversible.</span></p> <!> <form id="resetDbForm" method="POST" action="?/resetDatabase" class="hidden"></form></div> <!> <div class="space-y-2"><!> <p class="text-sm text-gray-700 dark:text-gray-300">Create a backup copy of your current database file.</p> <form method="POST" action="?/saveDatabase"><!></form></div> <!> <div class="space-y-2"><!> <p class="text-sm text-gray-700 dark:text-gray-300">Overwrite the current database with a selected backup file. <span class="font-semibold text-red-600 dark:text-red-400">This action is irreversible and will replace ALL existing data.</span></p> <form method="POST" action="?/importDatabase" enctype="multipart/form-data"><!> <!> <!></form></div>',1),Ta=v("<!> <!>",1),Fa=v("<!> <!>",1),La=v('<div class="pointer-events-auto"><!></div>'),Ra=v('<div class="space-y-8 p-6"><h1 class="text-3xl font-bold">Settings</h1> <p class="text-gray-500">Manage your profile, account, and application settings.</p> <!> <!> <!> <!> <!></div> <div class="fixed inset-x-0 bottom-6 flex justify-center z-50 pointer-events-none"><!></div>',1);function ut(M,r){we(r,!0);const[R,j]=Pr(),w=()=>xr(Ar,"$currentUser",R);let q=Q(Xe(r.data.user.display_name||r.data.user.username||"")),C=Q(null),P=Q(Xe(r.data.user.profileImage)),A=Q(!1),V=Q(""),re=Q(""),K=Q(""),N=Q(""),n=Xe({profile:!1,credentials:!1,resetDb:!1,saveDb:!1,importDb:!1}),b=Q(!1),ae=Q(""),Ee=Q("default"),Me=Q(""),ge=Q(null);hr(()=>{w().profileImage!==s(P)&&!s(C)&&!s(A)&&d(P,w().profileImage,!0)});function cr(m){d(ae,m,!0),d(Ee,"default"),d(Me,"bg-primary text-primary-foreground"),d(b,!0),setTimeout(()=>d(b,!1),3e3)}function er(m){d(ae,m,!0),d(Ee,"destructive"),d(Me,""),d(b,!0),setTimeout(()=>d(b,!1),3e3)}function fr(m){const _=m.target;_.files&&_.files[0]?(d(C,_.files[0],!0),d(P,URL.createObjectURL(s(C)),!0),d(A,!1)):(d(C,null),d(P,w().profileImage,!0))}function ur(){d(C,null),d(P,null),d(A,!0)}function ke(m){return()=>(n[m]=!0,async({result:_,update:W})=>{var z,Y,T,X,p,g;if(n[m]=!1,_.type==="success"){if(cr(((z=_.data)==null?void 0:z.message)||"Operation successful!"),m==="profile"){const c=(Y=_.data)!=null&&Y.profileImage?`/api/uploads/${_.data.profileImage.replace(/\\/g,"/")}`:null;ir({display_name:((T=_.data)==null?void 0:T.displayName)||s(q),profile_image:c}),d(P,c,!0),d(C,null),d(A,!1)}else if(m==="credentials")s(re)&&ir({username:s(re)}),d(V,""),d(re,""),d(K,""),d(N,"");else if(m==="importDb"){d(ge,null);const c=document.getElementById("importDbFile");c&&(c.value="")}else if(m==="saveDb"&&((X=_.data)!=null&&X.backupFileName)){const c=`/api/download-db?filename=${_.data.backupFileName}`;window.location.href=c}await nr("app:settings"),await nr("app:user-data"),W()}else _.type==="failure"?(er(((p=_.data)==null?void 0:p.message)||"Operation failed."),W()):_.type==="error"&&(er(((g=_.error)==null?void 0:g.message)||"An unexpected error occurred."),W())})}function mr(m){const _=m.target;_.files&&_.files[0]?d(ge,_.files[0],!0):d(ge,null)}var rr=Ra(),je=o(rr),ar=a(D(je),4);Ge(ar,{});var tr=a(ar,2);Le(tr,{class:"max-w-2xl mx-auto",children:(m,_)=>{var W=va(),z=o(W);Re(z,{children:(T,X)=>{var p=na(),g=o(p);Oe(g,{children:(f,k)=>{u();var x=$("Application Theme");e(f,x)},$$slots:{default:!0}});var c=a(g,2);qe(c,{children:(f,k)=>{u();var x=$("Customize the look and feel of the application.");e(f,x)},$$slots:{default:!0}}),e(T,p)},$$slots:{default:!0}});var Y=a(z,2);Be(Y,{class:"flex gap-3",children:(T,X)=>{var p=O(),g=o(p);yr(g,17,()=>kr,wr,(c,f)=>{var k=O(),x=o(k);ce(x,()=>Nr,(G,le)=>{le(G,{delayDuration:50,children:(ne,te)=>{var me=O(),ie=o(me);ce(ie,()=>Ur,(se,de)=>{de(se,{children:(fe,he)=>{var h=da(),B=o(h);ce(B,()=>Xr,(S,t)=>{t(S,{children:(y,i)=>{xe(y,{variant:"outline",class:"icon",get style(){return`background-color: ${s(f).primaryColor??""};`},onclick:()=>Sr(s(f).value)})},$$slots:{default:!0}})});var l=a(B,2);ce(l,()=>Hr,(S,t)=>{t(S,{children:(y,i)=>{var F=ia(),U=D(F,!0);I(F),Fe(()=>He(U,s(f).name)),e(y,F)},$$slots:{default:!0}})}),e(fe,h)},$$slots:{default:!0}})}),e(ne,me)},$$slots:{default:!0}})}),e(c,k)}),e(T,p)},$$slots:{default:!0}}),e(m,W)},$$slots:{default:!0}});var sr=a(tr,2);Le(sr,{class:"max-w-2xl mx-auto",children:(m,_)=>{var W=$a(),z=o(W);Re(z,{children:(T,X)=>{var p=ca(),g=o(p);Oe(g,{children:(f,k)=>{u();var x=$("Profile Information");e(f,x)},$$slots:{default:!0}});var c=a(g,2);qe(c,{children:(f,k)=>{u();var x=$("Update your display name and profile avatar.");e(f,x)},$$slots:{default:!0}}),e(T,p)},$$slots:{default:!0}});var Y=a(z,2);Be(Y,{children:(T,X)=>{var p=pa(),g=D(p),c=D(g),f=D(c);ce(f,()=>Lr,(h,B)=>{B(h,{class:"h-24 w-24",children:(l,S)=>{var t=fa(),y=o(t);const i=pe(()=>s(P)||void 0);ce(y,()=>Tr,(U,E)=>{E(U,{get src(){return s(i)},alt:"Profile"})});var F=a(y,2);ce(F,()=>Fr,(U,E)=>{E(U,{children:(L,H)=>{u();var ve=$();Fe(Ie=>He(ve,Ie),[()=>r.data.user.display_name.substring(0,2).toUpperCase()]),e(L,ve)},$$slots:{default:!0}})}),e(l,t)},$$slots:{default:!0}})});var k=a(f,2),x=D(k);ue(x,{for:"profileImage",children:(h,B)=>{u();var l=$("Profile Image");e(h,l)},$$slots:{default:!0}});var G=a(x,2);ye(G,{id:"profileImage",name:"profileImage",type:"file",accept:"image/*",onchange:fr,class:"cursor-pointer"});var le=a(G,2);{var ne=h=>{xe(h,{type:"button",variant:"ghost",size:"sm",onclick:ur,children:(B,l)=>{var S=ua(),t=o(S);Wr(t,{class:"h-4 w-4 mr-1 text-red-500"}),u(),e(B,S)},$$slots:{default:!0}})};J(le,h=>{s(P)&&h(ne)})}var te=a(le,2);Ir(te);var me=a(te,2);{var ie=h=>{var B=ma();e(h,B)};J(me,h=>{s(A)&&h(ie)})}I(k),I(c);var se=a(c,2),de=D(se);ue(de,{for:"displayName",children:(h,B)=>{u();var l=$("Display Name");e(h,l)},$$slots:{default:!0}});var fe=a(de,2);ye(fe,{id:"displayName",name:"displayName",maxlength:20,get value(){return s(q)},set value(h){d(q,h,!0)}}),I(se);var he=a(se,2);xe(he,{type:"submit",get disabled(){return n.profile},children:(h,B)=>{var l=O(),S=o(l);{var t=i=>{var F=_a(),U=o(F);Te(U,{class:"mr-2 h-4 w-4 animate-spin"}),u(),e(i,F)},y=i=>{var F=$("Save Profile");e(i,F)};J(S,i=>{n.profile?i(t):i(y,!1)})}e(h,l)},$$slots:{default:!0}}),I(g),I(p),Ue(p,(h,B)=>{var l;return(l=Ne)==null?void 0:l(h,B)},()=>ke("profile")),Fe(()=>Cr(te,s(P)||"")),e(T,p)},$$slots:{default:!0}}),e(m,W)},$$slots:{default:!0}});var or=a(sr,2);Le(or,{class:"max-w-2xl mx-auto",children:(m,_)=>{var W=xa(),z=o(W);Re(z,{children:(T,X)=>{var p=ga(),g=o(p);Oe(g,{children:(f,k)=>{u();var x=$("Account Credentials");e(f,x)},$$slots:{default:!0}});var c=a(g,2);qe(c,{children:(f,k)=>{u();var x=$("Change your username and password.");e(f,x)},$$slots:{default:!0}}),e(T,p)},$$slots:{default:!0}});var Y=a(z,2);Be(Y,{children:(T,X)=>{var p=Pa(),g=D(p),c=D(g),f=D(c);ue(f,{for:"currentPassword",children:(l,S)=>{u();var t=$("Current Password *");e(l,t)},$$slots:{default:!0}});var k=a(f,2);ye(k,{id:"currentPassword",name:"currentPassword",type:"password",required:!0,get value(){return s(V)},set value(l){d(V,l,!0)}}),I(c);var x=a(c,2),G=D(x);ue(G,{for:"newUsername",children:(l,S)=>{u();var t=$("New Username");e(l,t)},$$slots:{default:!0}});var le=a(G,2);ye(le,{id:"newUsername",name:"newUsername",type:"text",placeholder:"Leave blank to keep current",maxlength:40,get value(){return s(re)},set value(l){d(re,l,!0)}}),I(x);var ne=a(x,2),te=D(ne);ue(te,{for:"newPassword",children:(l,S)=>{u();var t=$("New Password");e(l,t)},$$slots:{default:!0}});var me=a(te,2);ye(me,{id:"newPassword",name:"newPassword",type:"password",placeholder:"Leave blank to keep current",minlength:8,get value(){return s(K)},set value(l){d(K,l,!0)}}),I(ne);var ie=a(ne,2),se=D(ie);ue(se,{for:"confirmNewPassword",children:(l,S)=>{u();var t=$("Confirm New Password");e(l,t)},$$slots:{default:!0}});var de=a(se,2);ye(de,{id:"confirmNewPassword",name:"confirmNewPassword",type:"password",get value(){return s(N)},set value(l){d(N,l,!0)}});var fe=a(de,2);{var he=l=>{var S=ha();e(l,S)};J(fe,l=>{s(K)&&s(N)&&s(K)!==s(N)&&l(he)})}I(ie);var h=a(ie,2);const B=pe(()=>n.credentials||s(K)&&s(K)!==s(N));xe(h,{type:"submit",get disabled(){return s(B)},children:(l,S)=>{var t=O(),y=o(t);{var i=U=>{var E=ba(),L=o(E);Te(L,{class:"mr-2 h-4 w-4 animate-spin"}),u(),e(U,E)},F=U=>{var E=$("Update Credentials");e(U,E)};J(y,U=>{n.credentials?U(i):U(F,!1)})}e(l,t)},$$slots:{default:!0}}),I(g),I(p),Ue(p,(l,S)=>{var t;return(t=Ne)==null?void 0:t(l,S)},()=>ke("credentials")),e(T,p)},$$slots:{default:!0}}),e(m,W)},$$slots:{default:!0}});var _r=a(or,2);{var pr=m=>{Le(m,{class:"max-w-2xl mx-auto border-red-500 bg-red-50/50 dark:bg-red-950/20",children:(_,W)=>{var z=Ta(),Y=o(z);Re(Y,{children:(X,p)=>{var g=ya(),c=o(g);Oe(c,{class:"text-red-600 dark:text-red-400",children:(k,x)=>{u();var G=$("Admin: Database Management");e(k,G)},$$slots:{default:!0}});var f=a(c,2);qe(f,{class:"text-red-500 dark:text-red-300",children:(k,x)=>{u();var G=$("Caution: These operations are irreversible and affect all application data.");e(k,G)},$$slots:{default:!0}}),e(X,g)},$$slots:{default:!0}});var T=a(Y,2);Be(T,{class:"space-y-6",children:(X,p)=>{var g=Na(),c=o(g),f=D(c);ue(f,{class:"text-lg font-medium",children:(t,y)=>{u();var i=$("Reset Database");e(t,i)},$$slots:{default:!0}});var k=a(f,4);Rr(k,{children:(t,y)=>{var i=Aa(),F=o(i);sa(F,{children:(E,L)=>{xe(E,{variant:"destructive",class:"mt-2",get disabled(){return n.resetDb},children:(H,ve)=>{var Ie=O(),Se=o(Ie);{var Ve=Z=>{var _e=wa(),ee=o(_e);Te(ee,{class:"mr-2 h-4 w-4 animate-spin"}),u(),e(Z,_e)},be=Z=>{var _e=$("Reset Database");e(Z,_e)};J(Se,Z=>{n.resetDb?Z(Ve):Z(be,!1)})}e(H,Ie)},$$slots:{default:!0}})},$$slots:{default:!0}});var U=a(F,2);Or(U,{children:(E,L)=>{var H=Ca(),ve=o(H);Br(ve,{children:(Se,Ve)=>{var be=Da(),Z=o(be);qr(Z,{children:(ee,We)=>{u();var Pe=$("Are you absolutely sure?");e(ee,Pe)},$$slots:{default:!0}});var _e=a(Z,2);zr(_e,{children:(ee,We)=>{u();var Pe=$(`This action cannot be undone. This will permanently delete all data from your database,\r
                                    while keeping the table structure.`);e(ee,Pe)},$$slots:{default:!0}}),e(Se,be)},$$slots:{default:!0}});var Ie=a(ve,2);Er(Ie,{children:(Se,Ve)=>{var be=Ia(),Z=o(be);la(Z,{children:(ee,We)=>{u();var Pe=$("Cancel");e(ee,Pe)},$$slots:{default:!0}});var _e=a(Z,2);oa(_e,{onclick:()=>{const ee=document.getElementById("resetDbForm");ee&&ee.requestSubmit()},children:(ee,We)=>{u();var Pe=$("Continue");e(ee,Pe)},$$slots:{default:!0}}),e(Se,be)},$$slots:{default:!0}}),e(E,H)},$$slots:{default:!0}}),e(t,i)},$$slots:{default:!0}});var x=a(k,2);Ue(x,(t,y)=>{var i;return(i=Ne)==null?void 0:i(t,y)},()=>ke("resetDb")),I(c);var G=a(c,2);Ge(G,{});var le=a(G,2),ne=D(le);ue(ne,{class:"text-lg font-medium",children:(t,y)=>{u();var i=$("Save Database");e(t,i)},$$slots:{default:!0}});var te=a(ne,4),me=D(te);xe(me,{type:"submit",class:"mt-2",get disabled(){return n.saveDb},children:(t,y)=>{var i=O(),F=o(i);{var U=L=>{var H=ka(),ve=o(H);Te(ve,{class:"mr-2 h-4 w-4 animate-spin"}),u(),e(L,H)},E=L=>{var H=$("Save Database");e(L,H)};J(F,L=>{n.saveDb?L(U):L(E,!1)})}e(t,i)},$$slots:{default:!0}}),I(te),Ue(te,(t,y)=>{var i;return(i=Ne)==null?void 0:i(t,y)},()=>ke("saveDb")),I(le);var ie=a(le,2);Ge(ie,{});var se=a(ie,2),de=D(se);ue(de,{class:"text-lg font-medium",children:(t,y)=>{u();var i=$("Import Database");e(t,i)},$$slots:{default:!0}});var fe=a(de,4),he=D(fe);ye(he,{id:"importDbFile",name:"dbFile",type:"file",accept:".sqlite,.db",onchange:mr,class:"cursor-pointer mb-2",required:!0});var h=a(he,2);const B=pe(()=>n.importDb||!s(ge));xe(h,{type:"submit",class:"mt-2",get disabled(){return s(B)},children:(t,y)=>{var i=O(),F=o(i);{var U=L=>{var H=Sa(),ve=o(H);Te(ve,{class:"mr-2 h-4 w-4 animate-spin"}),u(),e(L,H)},E=L=>{var H=$("Import Database");e(L,H)};J(F,L=>{n.importDb?L(U):L(E,!1)})}e(t,i)},$$slots:{default:!0}});var l=a(h,2);{var S=t=>{var y=Ua();e(t,y)};J(l,t=>{s(ge)&&!s(ge).name.endsWith(".sqlite")&&!s(ge).name.endsWith(".db")&&t(S)})}I(fe),Ue(fe,(t,y)=>{var i;return(i=Ne)==null?void 0:i(t,y)},()=>ke("importDb")),I(se),e(X,g)},$$slots:{default:!0}}),e(_,z)},$$slots:{default:!0}})};J(_r,m=>{r.data.user.role=="admin"&&m(pr)})}I(je);var lr=a(je,2),$r=D(lr);{var gr=m=>{var _=La(),W=D(_);Dr(W,{get variant(){return s(Ee)},get class(){return s(Me)},children:(z,Y)=>{var T=Fa(),X=o(T);Qr(X,{});var p=a(X,2);Mr(p,{children:(g,c)=>{u();var f=$();Fe(()=>He(f,s(ae))),e(g,f)},$$slots:{default:!0}}),e(z,T)},$$slots:{default:!0}}),I(_),e(m,_)};J($r,m=>{s(b)&&m(gr)})}I(lr),e(M,rr),De(),j()}export{ut as component};
