import{f as v,a as t,t as i,d as ke}from"../chunks/BxWPM7vt.js";import{p as Kt,l as A,m as He,k as p,t as B,o as Mt,u as a,v as mt,c,s as r,q as o,n,r as u}from"../chunks/VrzbJYtp.js";import{s as X}from"../chunks/jPwQk_2E.js";import{i as Fe}from"../chunks/K2z4qc4G.js";import{e as Qt,i as Vt}from"../chunks/3dJlLkWl.js";import{c as $}from"../chunks/DhHZR6J_.js";import{a as rt,e as at,A as st}from"../chunks/q_geWe1R.js";import{r as pt,s as gt}from"../chunks/BHm98m4T.js";import{i as Ne,g as ht}from"../chunks/Co0R7JPe.js";import{B as ue}from"../chunks/DGxjUAYV.js";import{I as de}from"../chunks/Cl_oq7nf.js";import{C as Gt,a as Wt,b as Xt,c as Yt}from"../chunks/_Y1sUBdb.js";import{L as ve}from"../chunks/BUlJYItk.js";import{A as xt,a as yt}from"../chunks/C43ptUaS.js";import{P as Zt,A as er,a as tr,b as rr,c as ar,d as sr,e as or,R as lr,f as dr}from"../chunks/DOd2QSgZ.js";import{T as nr,a as ir,b as Pt,c as we,d as cr,P as bt,D as kt,e as wt,f as St,g as At,h as Ct,R as Rt,i as Se,S as ur,C as vr}from"../chunks/BeUoQy-y.js";import"../chunks/Dcluerj8.js";import{R as _r}from"../chunks/BMspJ8Yh.js";import{S as fr}from"../chunks/CfhtIqMF.js";import{A as $r}from"../chunks/BBqmbskW.js";import{S as mr}from"../chunks/D47F4gF3.js";import{P as pr,C as gr,T as hr}from"../chunks/CvWd9xh1.js";import{A as xr,a as yr}from"../chunks/CkucYYup.js";import{T as Pr,a as br}from"../chunks/Jos_wYTi.js";var kr=v("<!> Back to Stocking Info",1),wr=v("<!> <!>",1),Sr=v("<!> Add Sales Record",1),Ar=v('<div class="text-center py-8 text-gray-500">No sales records found for this stocking event.</div>'),Cr=v('<div class="flex items-center gap-1">Estimated Sales (₱) <!></div>'),Rr=v('<div class="flex items-center gap-1">Projected Amount (₱) <!></div>'),Tr=v('<div class="flex items-center gap-1">Feeds Used (kg) <!></div>'),Dr=v('<div class="flex items-center gap-1">Feed Cost (₱) <!></div>'),jr=v("<!> <!> <!> <!> <!> <!>",1),Fr=v("<p> </p>"),Nr=v("<!> <!>",1),Er=v('<span class="text-gray-400 italic">N/A</span>'),qr=v('<div class="flex flex justify-center space-x-2"><!> <!></div>'),Or=v("<!> <!> <!> <!> <!> <!>",1),Ir=v("<!> <!>",1),Ur=v('<div class="border rounded-lg"><!></div>'),Br=v('<div class="flex items-center gap-4 mb-4"><div class="relative flex-1"><!> <!></div> <!></div> <!>',1),Lr=v("<!> <!>",1),zr=v("<!> <!>",1),Jr=v("<!> <!>",1),Hr=v('<!> <form method="POST" action="?/create"><div class="space-y-4 mt-6"><!> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="flex gap-2 pt-4"><!> <!></div></div></form>',1),Kr=v("<!> <!>",1),Mr=v("<!> <!>",1),Qr=v("<!> <!>",1),Vr=v('<!> <form method="POST" action="?/update"><input type="hidden" name="id"/> <div class="space-y-4 mt-6"><!> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="flex gap-2 pt-4"><!> <!></div></div></form>',1),Gr=v("<!> <!>",1),Wr=v("<!> <!>",1),Xr=v('<form method="POST" action="?/delete"><input type="hidden" name="id"/> <!> <!></form>'),Yr=v("<!> <!>",1),Zr=v("<!> <!>",1),ea=v("<!> <!>",1),ta=v('<div class="pointer-events-auto"><!></div>'),ra=v('<div class="space-y-6"><div class="flex justify-between items-center"><div><!> <h1 class="text-2xl font-bold"> </h1> <p class="text-gray-500"> </p></div></div></div> <!> <!> <!> <!> <div class="fixed inset-x-0 bottom-6 flex justify-center z-50 pointer-events-none"><!></div>',1);function Aa(Tt,P){Kt(P,!0);let Ae=A(He(P.data.search||"")),Y=A(null),Ke=A(null),Ce=A(!1),Re=A(!1),Te=A(!1),Me=A(null),Ee=A(null),qe=A(null),Oe=A(null),Ie=A(null),Ue=A(""),Be=A(null),L=A(He({})),De=A(!1),Qe="",ge="default",he="",je=A(He(P.data.sortBy||"created_at")),xe=A(He(P.data.sortOrder||"desc"));function Le(l){return l==null?"₱0.00":new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(l)}function Ve(l,w){switch(Qe=l,o(De,!0),w){case"create":ge="default",he="bg-[var(--primary)] text-[var(--primary-foreground)]";break;case"update":ge="default",he="bg-[var(--secondary)] text-[var(--secondary-foreground)]";break;case"delete":ge="destructive",he="";break;default:ge="default",he="bg-[var(--primary)] text-[var(--primary-foreground)]"}setTimeout(()=>o(De,!1),3e3)}function Ge(l){Qe=l,ge="destructive",he="",o(De,!0),setTimeout(()=>o(De,!1),3e3)}let We=mt(()=>{var l;return((l=P.data.salesRecords)==null?void 0:l.filter(w=>{var g;return(g=w.remarks)==null?void 0:g.toLowerCase().includes(a(Ae).toLowerCase())}))||[]});function Dt(l){o(Be,l.id,!0),o(Ke,{...l},!0),o(L,{...l},!0),o(Re,!0)}function jt(){o(Be,null),o(L,{},!0),o(Ke,null),o(Re,!1)}async function Ft(){const l=new URL(window.location.href);a(Ae)?l.searchParams.set("search",a(Ae)):l.searchParams.delete("search"),l.searchParams.set("sort",a(je)),l.searchParams.set("order",a(xe)),await ht(l.pathname+l.search,{replaceState:!0}),Ne(`app:sales:${P.data.stocking.id}`)}function Nt(l){o(Me,l,!0),o(Te,!0)}function Et(l){return l?new Date(l+"T00:00:00").toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"}function qt(){o(Ce,!0),o(Ee,null),o(qe,null),o(Oe,null),o(Ie,null),o(Ue,""),o(Y,null)}async function ze(l){let w=l,g;a(je)===l?a(xe)==="asc"?g="desc":g="asc":(w=l,g="asc"),o(je,w,!0),o(xe,g,!0);const C=new URL(window.location.href);C.searchParams.set("sort",a(je)),C.searchParams.set("order",a(xe)),console.log("Navigating to:",C.pathname+C.search),await ht(C.pathname+C.search),Ne(`app:sales:${P.data.stocking.id}`)}function Je(l){if(a(je)===l){if(a(xe)==="asc")return xr;if(a(xe)==="desc")return yr}return gr}var ot=ra(),Xe=p(ot),lt=c(Xe),dt=c(lt),nt=c(dt);const Ot=mt(()=>`/dashboard/clients/${P.data.client.id}/stocking-info`);ue(nt,{variant:"ghost",get href(){return a(Ot)},class:"mb-2 -ml-4",children:(l,w)=>{var g=kr(),C=p(g);$r(C,{class:"h-4 w-4 mr-2"}),n(),t(l,g)},$$slots:{default:!0}});var Ye=r(nt,2),It=c(Ye);u(Ye);var it=r(Ye,2),Ut=c(it);u(it),u(dt),u(lt),u(Xe);var ct=r(Xe,2);Gt(ct,{children:(l,w)=>{var g=Lr(),C=p(g);Wt(C,{class:"h-4",children:(Z,ne)=>{var z=wr(),O=p(z);Xt(O,{children:(R,se)=>{n();var ie=i();B(()=>X(ie,`Total Sales Records: ${a(We).length??""}`)),t(R,ie)},$$slots:{default:!0}});var _e=r(O,2);fr(_e,{class:"my-2"}),t(Z,z)},$$slots:{default:!0}});var ae=r(C,2);Yt(ae,{children:(Z,ne)=>{var z=Br(),O=p(z),_e=c(O),R=c(_e);de(R,{placeholder:"Search by remarks...",class:"pl-10",get value(){return a(Ae)},set value(K){o(Ae,K,!0)},$$events:{input:Ft}});var se=r(R,2);mr(se,{class:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),u(_e);var ie=r(_e,2);ue(ie,{onclick:qt,children:(K,T)=>{var M=Sr(),Q=p(M);pr(Q,{class:"h-4 w-4 mr-2"}),n(),t(K,M)},$$slots:{default:!0}}),u(O);var J=r(O,2);{var H=K=>{var T=Ar();t(K,T)},me=K=>{var T=Ur(),M=c(T);nr(M,{children:(Q,oe)=>{var ee=Ir(),le=p(ee);ir(le,{children:(S,V)=>{Pt(S,{children:(D,j)=>{var m=jr(),f=p(m);we(f,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>ze("estimated_sales"),children:(b,F)=>{var h=Cr(),N=r(c(h));$(N,()=>Je("estimated_sales"),(E,x)=>{x(E,{class:"h-4 w-4"})}),u(h),t(b,h)},$$slots:{default:!0}});var y=r(f,2);we(y,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>ze("projected_amount"),children:(b,F)=>{var h=Rr(),N=r(c(h));$(N,()=>Je("projected_amount"),(E,x)=>{x(E,{class:"h-4 w-4"})}),u(h),t(b,h)},$$slots:{default:!0}});var I=r(y,2);we(I,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>ze("feeds_used_kg"),children:(b,F)=>{var h=Tr(),N=r(c(h));$(N,()=>Je("feeds_used_kg"),(E,x)=>{x(E,{class:"h-4 w-4"})}),u(h),t(b,h)},$$slots:{default:!0}});var U=r(I,2);we(U,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>ze("feed_cost"),children:(b,F)=>{var h=Dr(),N=r(c(h));$(N,()=>Je("feed_cost"),(E,x)=>{x(E,{class:"h-4 w-4"})}),u(h),t(b,h)},$$slots:{default:!0}});var te=r(U,2);we(te,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2",children:(b,F)=>{n();var h=i("Remarks");t(b,h)},$$slots:{default:!0}});var $e=r(te,2);we($e,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 text-center",children:(b,F)=>{n();var h=i("Actions");t(b,h)},$$slots:{default:!0}}),t(D,m)},$$slots:{default:!0}})},$$slots:{default:!0}});var fe=r(le,2);cr(fe,{children:(S,V)=>{var D=ke(),j=p(D);Qt(j,17,()=>a(We),Vt,(m,f,y)=>{Pt(m,{class:y%2===0?"bg-gray-50 dark:bg-card":"bg-white dark:bg-background",children:(I,U)=>{var te=Or(),$e=p(te);Se($e,{children:(x,d)=>{n();var e=i();B(s=>X(e,s),[()=>Le(a(f).estimated_sales)]),t(x,e)},$$slots:{default:!0}});var b=r($e,2);Se(b,{children:(x,d)=>{n();var e=i();B(s=>X(e,s),[()=>Le(a(f).projected_amount)]),t(x,e)},$$slots:{default:!0}});var F=r(b,2);Se(F,{children:(x,d)=>{n();var e=i();B(()=>X(e,`${a(f).feeds_used_kg??""} kg`)),t(x,e)},$$slots:{default:!0}});var h=r(F,2);Se(h,{children:(x,d)=>{n();var e=i();B(s=>X(e,s),[()=>Le(a(f).feed_cost)]),t(x,e)},$$slots:{default:!0}});var N=r(h,2);Se(N,{class:"max-w-xs truncate",children:(x,d)=>{var e=ke(),s=p(e);{var _=k=>{var G=ke(),ce=p(G);$(ce,()=>_r,(W,re)=>{re(W,{children:(pe,ye)=>{var Pe=Nr(),$t=p(Pe);$($t,()=>Pr,(Ze,et)=>{et(Ze,{class:"truncate max-w-xs block",children:(tt,Jt)=>{n();var be=i();B(()=>X(be,a(f).remarks)),t(tt,be)},$$slots:{default:!0}})});var zt=r($t,2);$(zt,()=>br,(Ze,et)=>{et(Ze,{children:(tt,Jt)=>{var be=Fr(),Ht=c(be,!0);u(be),B(()=>X(Ht,a(f).remarks)),t(tt,be)},$$slots:{default:!0}})}),t(pe,Pe)},$$slots:{default:!0}})}),t(k,G)},q=k=>{var G=Er();t(k,G)};Fe(s,k=>{a(f).remarks?k(_):k(q,!1)})}t(x,e)},$$slots:{default:!0}});var E=r(N,2);Se(E,{children:(x,d)=>{var e=qr(),s=c(e);ue(s,{variant:"outline",size:"sm",onclick:()=>Dt(a(f)),children:(q,k)=>{ur(q,{})},$$slots:{default:!0}});var _=r(s,2);ue(_,{variant:"outline",size:"sm",onclick:()=>Nt(a(f)),children:(q,k)=>{hr(q,{class:"h-4 w-4 text-red-500"})},$$slots:{default:!0}}),u(e),t(x,e)},$$slots:{default:!0}}),t(I,te)},$$slots:{default:!0}})}),t(S,D)},$$slots:{default:!0}}),t(Q,ee)},$$slots:{default:!0}}),u(T),t(K,T)};Fe(J,K=>{a(We).length===0?K(H):K(me,!1)})}t(Z,z)},$$slots:{default:!0}}),t(l,g)},$$slots:{default:!0}});var ut=r(ct,2);$(ut,()=>Rt,(l,w)=>{w(l,{get open(){return a(Ce)},set open(g){o(Ce,g,!0)},children:(g,C)=>{var ae=ke(),Z=p(ae);$(Z,()=>bt,(ne,z)=>{z(ne,{children:(O,_e)=>{var R=Kr(),se=p(R);$(se,()=>kt,(J,H)=>{H(J,{})});var ie=r(se,2);$(ie,()=>wt,(J,H)=>{H(J,{class:"sm:max-w-[425px] p-6",children:(me,K)=>{var T=Hr(),M=p(T);$(M,()=>St,(d,e)=>{e(d,{children:(s,_)=>{var q=zr(),k=p(q);$(k,()=>At,(ce,W)=>{W(ce,{children:(re,pe)=>{n();var ye=i("Add New Sales Record");t(re,ye)},$$slots:{default:!0}})});var G=r(k,2);$(G,()=>Ct,(ce,W)=>{W(ce,{children:(re,pe)=>{n();var ye=i("Enter the sales details below.");t(re,ye)},$$slots:{default:!0}})}),t(s,q)},$$slots:{default:!0}})});var Q=r(M,2),oe=c(Q),ee=c(oe);{var le=d=>{st(d,{variant:"destructive",children:(e,s)=>{var _=Jr(),q=p(_);xt(q,{class:"h-4 w-4"});var k=r(q,2);yt(k,{children:(G,ce)=>{n();var W=i();B(()=>X(W,a(Y))),t(G,W)},$$slots:{default:!0}}),t(e,_)},$$slots:{default:!0}})};Fe(ee,d=>{a(Y)&&d(le)})}var fe=r(ee,2),S=c(fe);ve(S,{for:"estimated_sales_create",children:(d,e)=>{n();var s=i("Estimated Sales (₱) *");t(d,s)},$$slots:{default:!0}});var V=r(S,2);de(V,{id:"estimated_sales_create",name:"estimated_sales",type:"number",step:"0.01",required:!0,get value(){return a(Ee)},set value(d){o(Ee,d,!0)}}),u(fe);var D=r(fe,2),j=c(D);ve(j,{for:"projected_amount_create",children:(d,e)=>{n();var s=i("Projected Amount (₱) *");t(d,s)},$$slots:{default:!0}});var m=r(j,2);de(m,{id:"projected_amount_create",name:"projected_amount",type:"number",step:"0.01",required:!0,get value(){return a(qe)},set value(d){o(qe,d,!0)}}),u(D);var f=r(D,2),y=c(f);ve(y,{for:"feeds_used_kg_create",children:(d,e)=>{n();var s=i("Feeds Used (kg) *");t(d,s)},$$slots:{default:!0}});var I=r(y,2);de(I,{id:"feeds_used_kg_create",name:"feeds_used_kg",type:"number",step:"0.01",required:!0,get value(){return a(Oe)},set value(d){o(Oe,d,!0)}}),u(f);var U=r(f,2),te=c(U);ve(te,{for:"feed_cost_create",children:(d,e)=>{n();var s=i("Feed Cost (₱) *");t(d,s)},$$slots:{default:!0}});var $e=r(te,2);de($e,{id:"feed_cost_create",name:"feed_cost",type:"number",step:"0.01",required:!0,get value(){return a(Ie)},set value(d){o(Ie,d,!0)}}),u(U);var b=r(U,2),F=c(b);ve(F,{for:"remarks_create",children:(d,e)=>{n();var s=i("Remarks");t(d,s)},$$slots:{default:!0}});var h=r(F,2);de(h,{id:"remarks_create",name:"remarks",type:"text",maxlength:255,get value(){return a(Ue)},set value(d){o(Ue,d,!0)}}),u(b);var N=r(b,2),E=c(N);ue(E,{type:"submit",class:"flex-1",children:(d,e)=>{n();var s=i("Add Sales Record");t(d,s)},$$slots:{default:!0}});var x=r(E,2);ue(x,{type:"button",variant:"outline",onclick:()=>o(Ce,!1),children:(d,e)=>{n();var s=i("Cancel");t(d,s)},$$slots:{default:!0}}),u(N),u(oe),u(Q),rt(Q,(d,e)=>{var s;return(s=at)==null?void 0:s(d,e)},()=>()=>async({result:d})=>{var e,s;d.type==="success"?(o(Ce,!1),await Ne(`app:sales:${P.data.stocking.id}`),Ve("Sales record created successfully!","create"),o(Ee,null),o(qe,null),o(Oe,null),o(Ie,null),o(Ue,""),o(Y,null)):d.type==="failure"&&(o(Y,typeof((e=d.data)==null?void 0:e.error)=="string"?d.data.error:JSON.stringify((s=d.data)==null?void 0:s.error)||"An error occurred",!0),Ge(a(Y)))}),t(me,T)},$$slots:{default:!0}})}),t(O,R)},$$slots:{default:!0}})}),t(g,ae)},$$slots:{default:!0}})});var vt=r(ut,2);$(vt,()=>Rt,(l,w)=>{w(l,{get open(){return a(Re)},set open(g){o(Re,g,!0)},children:(g,C)=>{var ae=ke(),Z=p(ae);$(Z,()=>bt,(ne,z)=>{z(ne,{children:(O,_e)=>{var R=Gr(),se=p(R);$(se,()=>kt,(J,H)=>{H(J,{})});var ie=r(se,2);$(ie,()=>wt,(J,H)=>{H(J,{class:"sm:max-w-[425px] p-6",children:(me,K)=>{var T=Vr(),M=p(T);$(M,()=>St,(e,s)=>{s(e,{children:(_,q)=>{var k=Mr(),G=p(k);$(G,()=>At,(W,re)=>{re(W,{children:(pe,ye)=>{n();var Pe=i("Edit Sales Record");t(pe,Pe)},$$slots:{default:!0}})});var ce=r(G,2);$(ce,()=>Ct,(W,re)=>{re(W,{children:(pe,ye)=>{n();var Pe=i("Update the sales details below.");t(pe,Pe)},$$slots:{default:!0}})}),t(_,k)},$$slots:{default:!0}})});var Q=r(M,2),oe=c(Q);pt(oe);var ee=r(oe,2),le=c(ee);{var fe=e=>{st(e,{variant:"destructive",children:(s,_)=>{var q=Qr(),k=p(q);xt(k,{class:"h-4 w-4"});var G=r(k,2);yt(G,{children:(ce,W)=>{n();var re=i();B(()=>X(re,a(Y))),t(ce,re)},$$slots:{default:!0}}),t(s,q)},$$slots:{default:!0}})};Fe(le,e=>{a(Y)&&e(fe)})}var S=r(le,2),V=c(S);ve(V,{for:"estimated_sales_edit",children:(e,s)=>{n();var _=i("Estimated Sales (₱) *");t(e,_)},$$slots:{default:!0}});var D=r(V,2);de(D,{id:"estimated_sales_edit",name:"estimated_sales",type:"number",step:"0.01",required:!0,get value(){return a(L).estimated_sales},set value(e){a(L).estimated_sales=e}}),u(S);var j=r(S,2),m=c(j);ve(m,{for:"projected_amount_edit",children:(e,s)=>{n();var _=i("Projected Amount (₱) *");t(e,_)},$$slots:{default:!0}});var f=r(m,2);de(f,{id:"projected_amount_edit",name:"projected_amount",type:"number",step:"0.01",required:!0,get value(){return a(L).projected_amount},set value(e){a(L).projected_amount=e}}),u(j);var y=r(j,2),I=c(y);ve(I,{for:"feeds_used_kg_edit",children:(e,s)=>{n();var _=i("Feeds Used (kg) *");t(e,_)},$$slots:{default:!0}});var U=r(I,2);de(U,{id:"feeds_used_kg_edit",name:"feeds_used_kg",type:"number",step:"0.01",required:!0,get value(){return a(L).feeds_used_kg},set value(e){a(L).feeds_used_kg=e}}),u(y);var te=r(y,2),$e=c(te);ve($e,{for:"feed_cost_edit",children:(e,s)=>{n();var _=i("Feed Cost (₱) *");t(e,_)},$$slots:{default:!0}});var b=r($e,2);de(b,{id:"feed_cost_edit",name:"feed_cost",type:"number",step:"0.01",required:!0,get value(){return a(L).feed_cost},set value(e){a(L).feed_cost=e}}),u(te);var F=r(te,2),h=c(F);ve(h,{for:"remarks_edit",children:(e,s)=>{n();var _=i("Remarks");t(e,_)},$$slots:{default:!0}});var N=r(h,2);de(N,{id:"remarks_edit",name:"remarks",type:"text",maxlength:255,get value(){return a(L).remarks},set value(e){a(L).remarks=e}}),u(F);var E=r(F,2),x=c(E);ue(x,{type:"submit",class:"flex-1",children:(e,s)=>{n();var _=i("Save Changes");t(e,_)},$$slots:{default:!0}});var d=r(x,2);ue(d,{type:"button",variant:"outline",onclick:jt,children:(e,s)=>{n();var _=i("Cancel");t(e,_)},$$slots:{default:!0}}),u(E),u(ee),u(Q),rt(Q,(e,s)=>{var _;return(_=at)==null?void 0:_(e,s)},()=>()=>async({result:e})=>{var s,_;e.type==="success"?(o(Re,!1),await Ne(`app:sales:${P.data.stocking.id}`),Ve("Sales record updated successfully!","update"),o(Be,null),o(L,{},!0),o(Ke,null)):e.type==="failure"&&(o(Y,typeof((s=e.data)==null?void 0:s.error)=="string"?e.data.error:JSON.stringify((_=e.data)==null?void 0:_.error)||"An error occurred",!0),Ge(a(Y)))}),B(()=>gt(oe,a(Be))),t(me,T)},$$slots:{default:!0}})}),t(O,R)},$$slots:{default:!0}})}),t(g,ae)},$$slots:{default:!0}})});var _t=r(vt,2);$(_t,()=>lr,(l,w)=>{w(l,{get open(){return a(Te)},set open(g){o(Te,g,!0)},children:(g,C)=>{var ae=ke(),Z=p(ae);$(Z,()=>Zt,(ne,z)=>{z(ne,{children:(O,_e)=>{var R=Zr(),se=p(R);$(se,()=>er,(J,H)=>{H(J,{})});var ie=r(se,2);$(ie,()=>tr,(J,H)=>{H(J,{children:(me,K)=>{var T=Yr(),M=p(T);$(M,()=>rr,(oe,ee)=>{ee(oe,{children:(le,fe)=>{var S=Wr(),V=p(S);$(V,()=>ar,(j,m)=>{m(j,{children:(f,y)=>{n();var I=i("Delete Sales Record");t(f,I)},$$slots:{default:!0}})});var D=r(V,2);$(D,()=>sr,(j,m)=>{m(j,{children:(f,y)=>{n();var I=i();B(U=>X(I,`Are you sure you want to delete this sales record (Estimated Sales: ${U??""})? This action cannot be undone.`),[()=>{var U;return Le((U=a(Me))==null?void 0:U.estimated_sales)}]),t(f,I)},$$slots:{default:!0}})}),t(le,S)},$$slots:{default:!0}})});var Q=r(M,2);$(Q,()=>or,(oe,ee)=>{ee(oe,{children:(le,fe)=>{var S=Xr(),V=c(S);pt(V);var D=r(V,2);ue(D,{type:"button",variant:"outline",onclick:()=>o(Te,!1),children:(m,f)=>{n();var y=i("Cancel");t(m,y)},$$slots:{default:!0}});var j=r(D,2);ue(j,{type:"submit",variant:"destructive",children:(m,f)=>{n();var y=i("Delete");t(m,y)},$$slots:{default:!0}}),u(S),rt(S,(m,f)=>{var y;return(y=at)==null?void 0:y(m,f)},()=>()=>async({result:m})=>{var f,y;m.type==="success"?(o(Te,!1),await Ne(`app:sales:${P.data.stocking.id}`),Ve("Sales record deleted successfully!","delete")):m.type==="failure"&&(o(Y,typeof((f=m.data)==null?void 0:f.error)=="string"?m.data.error:JSON.stringify((y=m.data)==null?void 0:y.error)||"An error occurred",!0),Ge(a(Y)))}),B(()=>{var m;return gt(V,(m=a(Me))==null?void 0:m.id)}),t(le,S)},$$slots:{default:!0}})}),t(me,T)},$$slots:{default:!0}})}),t(O,R)},$$slots:{default:!0}})}),t(g,ae)},$$slots:{default:!0}})});var ft=r(_t,2),Bt=c(ft);{var Lt=l=>{var w=ta(),g=c(w);st(g,{get variant(){return ge},get class(){return he},children:(C,ae)=>{var Z=ea(),ne=p(Z);vr(ne,{});var z=r(ne,2);dr(z,{children:(O,_e)=>{n();var R=i();B(()=>X(R,Qe)),t(O,R)},$$slots:{default:!0}}),t(C,Z)},$$slots:{default:!0}}),u(w),t(l,w)};Fe(Bt,l=>{a(De)&&l(Lt)})}u(ft),B(l=>{X(It,`Sales Records for ${P.data.client.name??""} - Stocking on ${l??""} (${(P.data.stocking?P.data.stocking.species_name:"N/A")??""})`),X(Ut,`Stocking ID: ${(P.data.stocking?P.data.stocking.id:"N/A")??""} | Fingerlings Stocked: ${(P.data.stocking?P.data.stocking.fingerlings_stocked_count_ma:"N/A")??""}`)},[()=>P.data.stocking?Et(P.data.stocking.stocking_date):"N/A"]),t(Tt,ot),Mt()}export{Aa as component};
