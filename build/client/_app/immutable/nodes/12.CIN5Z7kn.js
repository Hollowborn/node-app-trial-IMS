import{f as u,a as e,t as l,c as Ye}from"../chunks/Do_-mL-j.js";import{p as Mt,a as H,b as Ze,s as t,f as p,d as Ht,t as I,c,e as n,n as d,g as r,u as kt,r as $}from"../chunks/CSgM7ggg.js";import{s as U}from"../chunks/Cc2sBIKg.js";import{i as et}from"../chunks/DFkGWr6I.js";import{e as ut,i as vt}from"../chunks/BveS6AeT.js";import{c as y}from"../chunks/BxwOPTHF.js";import{a as _t,e as ct,A as $t}from"../chunks/Dl7G6IOE.js";import{r as ze,s as Je}from"../chunks/eOTtUvit.js";import{i as We,g as wt}from"../chunks/DiJvn89z.js";import{B as De}from"../chunks/BVmkDKMc.js";import{I as Pe}from"../chunks/B5-iWWaj.js";import{C as Vt,a as Gt,b as Kt,c as Wt}from"../chunks/BBrFK00f.js";import{L as Y}from"../chunks/Bo2GsiZ3.js";import{T as Xt,a as Yt,b as qt,c as Be,d as Zt,P as St,D as Ft,e as At,f as Ct,g as Dt,h as Bt,A as Nt,i as Tt,R as It,j as Ne,S as er,C as tr}from"../chunks/CdrzcX6z.js";import{P as rr,A as ar,a as sr,b as or,c as dr,d as lr,e as nr,R as ir,f as ur}from"../chunks/DRgJLo_S.js";import{R as tt,S as rt,a as at,b as qe}from"../chunks/B762jp4P.js";import{B as Rt}from"../chunks/Dlm0QRJp.js";import{S as vr}from"../chunks/C9JwNqn8.js";import{S as _r}from"../chunks/C0R_oNfb.js";import{P as cr,C as $r,T as fr}from"../chunks/ARt1Dh6s.js";import{A as pr,a as mr}from"../chunks/B3v1Wr7v.js";import{U as gr}from"../chunks/nTpf8bzQ.js";var hr=u("<!> <!>",1),yr=u("<!> Add Feed Item",1),xr=u('<div class="text-center py-8 text-gray-500">No feed items found</div>'),Pr=u('<div class="flex items-center gap-1">Feed Name <!></div>'),br=u('<div class="flex items-center gap-1">Feed Stage <!></div>'),kr=u('<div class="flex items-center gap-1">Quantity (kg) <!></div>'),wr=u('<div class="flex items-center gap-1">Cost per Unit <!></div>'),qr=u('<div class="flex items-center gap-1">Total Cost <!></div>'),Sr=u('<div class="flex items-center gap-1">Requested By <!></div>'),Fr=u('<div class="flex items-center gap-1">Date <!></div>'),Ar=u('<div class="flex items-center gap-1">Created At <!></div>'),Cr=u("<!> <!> <!> <!> <!> <!> <!> <!> <!>",1),Dr=u("<!> ",1),Br=u('<div class="flex flex justify-center space-x-2"><!> <!></div>'),Nr=u("<!> <!> <!> <!> <!> <!> <!> <!> <!>",1),Tr=u("<!> <!>",1),Ir=u('<div class="border rounded-lg"><!></div>'),Rr=u('<div class="flex items-center gap-4 mb-4"><div class="relative flex-1"><!> <!></div> <!></div> <!>',1),Or=u("<!> <!>",1),Lr=u("<!> <!>",1),Ur=u("<!> <!>",1),Qr=u("<span> </span>"),Er=u("<!> <!> <!>",1),jr=u("<!> <!>",1),zr=u("<span> </span>"),Jr=u("<!> <!>",1),Mr=u("<!> <!>",1),Hr=u('<!> <form method="POST" action="?/create"><div class="space-y-4 mt-6"><!> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!> <input type="hidden" name="feed_stage"/></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!> <input type="hidden" name="requested_by"/></div> <div class="space-y-2"><!> <!></div> <div class="flex gap-2 pt-4"><!> <!></div></div></form>',1),Vr=u("<!> <!>",1),Gr=u("<!> <!>",1),Kr=u("<!> <!>",1),Wr=u("<span> </span>"),Xr=u("<!> <!> <!>",1),Yr=u("<!> <!>",1),Zr=u("<span> </span>"),ea=u("<!> <!>",1),ta=u("<!> <!>",1),ra=u('<!> <form method="POST" action="?/update"><input type="hidden" name="id"/> <div class="space-y-4 mt-6"><!> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!> <input type="hidden" name="feed_stage"/></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!> <input type="hidden" name="requested_by"/></div> <div class="space-y-2"><!> <!></div> <div class="flex gap-2 pt-4"><!> <!></div></div></form>',1),aa=u("<!> <!>",1),sa=u("<!> <!>",1),oa=u('<form method="POST" action="?/delete"><input type="hidden" name="id"/> <!> <!></form>'),da=u("<!> <!>",1),la=u("<!> <!>",1),na=u("<!> <!>",1),ia=u('<div class="pointer-events-auto"><!></div>'),ua=u('<div class="space-y-6"><div class="flex justify-between items-center"><div><h1 class="text-2xl font-bold">Feeds Inventory Management</h1> <p class="text-gray-500">Manage feed stock and consumption records</p></div></div></div>  <!> <!> <!> <!> <div class="fixed inset-x-0 bottom-6 flex justify-center z-50 pointer-events-none"><!></div>',1);function Na(Ot,Se){Mt(Se,!0);let Me=H(Ze(Se.data.search||"")),ie=H(null),st=H(null),He=H(!1),Ve=H(!1),Ge=H(!1),ot=H(null),Oe=H(void 0),Le=H(void 0),Ue=H(void 0),Qe=H(void 0),Xe=H(null),k=H(Ze({})),Ke=H(!1),dt="",Ee="default",je="",ue=H(Ze(Se.data.sortBy||"created_at")),ve=H(Ze(Se.data.sortOrder||"desc"));function ft(i){return i==null?"â‚±0.00":new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(i)}function lt(i,N){switch(dt=i,n(Ke,!0),N){case"create":Ee="default",je="bg-[var(--primary)] text-[var(--primary-foreground)]";break;case"update":Ee="default",je="bg-[var(--secondary)] text-[var(--secondary-foreground)]";break;case"delete":Ee="destructive",je="";break;default:Ee="default",je="bg-[var(--primary)] text-[var(--primary-foreground)]"}setTimeout(()=>n(Ke,!1),3e3)}function nt(i){dt=i,Ee="destructive",je="",n(Ke,!0),setTimeout(()=>n(Ke,!1),3e3)}let it=kt(()=>{var i;return((i=Se.data.feedItems)==null?void 0:i.filter(N=>{const P=r(Me).toLowerCase(),z=N.feed_name.toLowerCase().includes(P),Z=N.feed_stage.toLowerCase().includes(P),W=N.requested_by_name&&N.requested_by_name.toLowerCase().includes(P);return z||Z||W}))||[]});function Lt(i){n(Xe,i.id,!0),n(k,{...i},!0),n(st,{...i},!0),n(Le,i.feed_stage,!0),n(Qe,i.requested_by,!0),n(Ve,!0)}function Ut(){n(Xe,null),n(k,{},!0),n(st,null),n(Ve,!1)}async function Qt(){const i=new URL(window.location.href);r(Me)?i.searchParams.set("search",r(Me)):i.searchParams.delete("search"),i.searchParams.set("sort",r(ue)),i.searchParams.set("order",r(ve)),await wt(i.pathname+i.search,{replaceState:!0}),We("app:feed_inventory")}function Et(i){n(ot,i,!0),n(Ge,!0)}function pt(i){return i?new Date(i).toLocaleDateString():"N/A"}function jt(){n(He,!0),n(k,{},!0),n(Oe,void 0),n(Ue,void 0),n(ie,null)}async function Te(i){let N=i,P;r(ue)===i?r(ve)==="asc"?P="desc":P="asc":(N=i,P="asc"),n(ue,N,!0),n(ve,P,!0);const z=new URL(window.location.href);z.searchParams.set("sort",r(ue)),z.searchParams.set("order",r(ve)),console.log("Navigating to:",z.pathname+z.search),await wt(z.pathname+z.search),We("app:feed_inventory")}function Ie(i,N,P){if(N===i){if(P==="asc")return pr;if(P==="desc")return mr}return $r}var mt=ua(),gt=t(p(mt),2);Vt(gt,{children:(i,N)=>{var P=Or(),z=p(P);Gt(z,{class:"h-4",children:(W,be)=>{var ee=hr(),X=p(ee);Kt(X,{children:(J,fe)=>{d();var ke=l();I(()=>U(ke,`Total Feeds: ${r(it).length??""}`)),e(J,ke)},$$slots:{default:!0}});var Fe=t(X,2);vr(Fe,{class:"my-2"}),e(W,ee)},$$slots:{default:!0}});var Z=t(z,2);Wt(Z,{children:(W,be)=>{var ee=Rr(),X=p(ee),Fe=c(X),J=c(Fe);Pe(J,{placeholder:"Search by feed name, stage, or requested by...",class:"pl-10",get value(){return r(Me)},set value(ae){n(Me,ae,!0)},$$events:{input:Qt}});var fe=t(J,2);_r(fe,{class:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),$(Fe);var ke=t(Fe,2);De(ke,{onclick:jt,children:(ae,V)=>{var se=yr(),oe=p(se);cr(oe,{class:"h-4 w-4 mr-2"}),d(),e(ae,se)},$$slots:{default:!0}}),$(X);var te=t(X,2);{var re=ae=>{var V=xr();e(ae,V)},Re=ae=>{var V=Ir(),se=c(V);Xt(se,{children:(oe,pe)=>{var _e=Tr(),me=p(_e);Yt(me,{children:(Q,de)=>{qt(Q,{children:(G,K)=>{var x=Cr(),m=p(x);Be(m,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Te("feed_name"),children:(w,j)=>{var v=Pr(),q=t(c(v));y(q,()=>Ie("feed_name",r(ue),r(ve)),(S,F)=>{F(S,{class:"h-4 w-4"})}),$(v),e(w,v)},$$slots:{default:!0}});var C=t(m,2);Be(C,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Te("feed_stage"),children:(w,j)=>{var v=br(),q=t(c(v));y(q,()=>Ie("feed_stage",r(ue),r(ve)),(S,F)=>{F(S,{class:"h-4 w-4"})}),$(v),e(w,v)},$$slots:{default:!0}});var M=t(C,2);Be(M,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Te("quantity_kg"),children:(w,j)=>{var v=kr(),q=t(c(v));y(q,()=>Ie("quantity_kg",r(ue),r(ve)),(S,F)=>{F(S,{class:"h-4 w-4"})}),$(v),e(w,v)},$$slots:{default:!0}});var ge=t(M,2);Be(ge,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Te("cost_per_unit"),children:(w,j)=>{var v=wr(),q=t(c(v));y(q,()=>Ie("cost_per_unit",r(ue),r(ve)),(S,F)=>{F(S,{class:"h-4 w-4"})}),$(v),e(w,v)},$$slots:{default:!0}});var he=t(ge,2);Be(he,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Te("total_cost"),children:(w,j)=>{var v=qr(),q=t(c(v));y(q,()=>Ie("total_cost",r(ue),r(ve)),(S,F)=>{F(S,{class:"h-4 w-4"})}),$(v),e(w,v)},$$slots:{default:!0}});var ce=t(he,2);Be(ce,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Te("requested_by_name"),children:(w,j)=>{var v=Sr(),q=t(c(v));y(q,()=>Ie("requested_by_name",r(ue),r(ve)),(S,F)=>{F(S,{class:"h-4 w-4"})}),$(v),e(w,v)},$$slots:{default:!0}});var we=t(ce,2);Be(we,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Te("date"),children:(w,j)=>{var v=Fr(),q=t(c(v));y(q,()=>Ie("date",r(ue),r(ve)),(S,F)=>{F(S,{class:"h-4 w-4"})}),$(v),e(w,v)},$$slots:{default:!0}});var ye=t(we,2);Be(ye,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 cursor-pointer",onclick:()=>Te("created_at"),children:(w,j)=>{var v=Ar(),q=t(c(v));y(q,()=>Ie("created_at",r(ue),r(ve)),(S,F)=>{F(S,{class:"h-4 w-4"})}),$(v),e(w,v)},$$slots:{default:!0}});var xe=t(ye,2);Be(xe,{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 border-b pb-2 mb-2 text-center",children:(w,j)=>{d();var v=l("Actions");e(w,v)},$$slots:{default:!0}}),e(G,x)},$$slots:{default:!0}})},$$slots:{default:!0}});var Ae=t(me,2);Zt(Ae,{children:(Q,de)=>{var G=Ye(),K=p(G);ut(K,17,()=>r(it),vt,(x,m,C)=>{qt(x,{class:C%2===0?"bg-gray-50 dark:bg-card":"bg-white dark:bg-background",children:(M,ge)=>{var he=Nr(),ce=p(he);Ne(ce,{class:"font-bold",children:(A,le)=>{d();var g=l();I(()=>U(g,r(m).feed_name)),e(A,g)},$$slots:{default:!0}});var we=t(ce,2);Ne(we,{children:(A,le)=>{Rt(A,{variant:"outline",class:"flex items-center gap-1",children:(g,E)=>{d();var $e=l();I(()=>U($e,r(m).feed_stage)),e(g,$e)},$$slots:{default:!0}})},$$slots:{default:!0}});var ye=t(we,2);Ne(ye,{children:(A,le)=>{d();var g=l();I(()=>U(g,`${r(m).current_stock_kg??""} / ${r(m).quantity_kg??""} kg`)),e(A,g)},$$slots:{default:!0}});var xe=t(ye,2);Ne(xe,{children:(A,le)=>{d();var g=l();I(E=>U(g,E),[()=>ft(r(m).cost_per_unit)]),e(A,g)},$$slots:{default:!0}});var w=t(xe,2);Ne(w,{children:(A,le)=>{d();var g=l();I(E=>U(g,E),[()=>ft(r(m).total_cost)]),e(A,g)},$$slots:{default:!0}});var j=t(w,2);const v=kt(()=>r(m).requested_by_name?"":"text-gray-400 italic");Ne(j,{get class(){return r(v)},children:(A,le)=>{Rt(A,{variant:"outline",class:"flex items-center gap-1",children:(g,E)=>{var $e=Dr(),s=p($e);gr(s,{class:"h-3 w-3"});var a=t(s);I(()=>U(a,` ${r(m).requested_by_name||"N/A"}`)),e(g,$e)},$$slots:{default:!0}})},$$slots:{default:!0}});var q=t(j,2);Ne(q,{children:(A,le)=>{d();var g=l();I(E=>U(g,E),[()=>pt(r(m).date)]),e(A,g)},$$slots:{default:!0}});var S=t(q,2);Ne(S,{class:"text-gray-500 text-sm",children:(A,le)=>{d();var g=l();I(E=>U(g,E),[()=>pt(r(m).created_at)]),e(A,g)},$$slots:{default:!0}});var F=t(S,2);Ne(F,{children:(A,le)=>{var g=Br(),E=c(g);De(E,{variant:"outline",size:"sm",onclick:()=>Lt(r(m)),children:(s,a)=>{er(s,{})},$$slots:{default:!0}});var $e=t(E,2);De($e,{variant:"outline",size:"sm",onclick:()=>Et(r(m)),children:(s,a)=>{fr(s,{class:"h-4 w-4 text-red-500"})},$$slots:{default:!0}}),$(g),e(A,g)},$$slots:{default:!0}}),e(M,he)},$$slots:{default:!0}})}),e(Q,G)},$$slots:{default:!0}}),e(oe,_e)},$$slots:{default:!0}}),$(V),e(ae,V)};et(te,ae=>{r(it).length===0?ae(re):ae(Re,!1)})}e(W,ee)},$$slots:{default:!0}}),e(i,P)},$$slots:{default:!0}});var ht=t(gt,2);y(ht,()=>It,(i,N)=>{N(i,{get open(){return r(He)},set open(P){n(He,P,!0)},children:(P,z)=>{var Z=Ye(),W=p(Z);y(W,()=>St,(be,ee)=>{ee(be,{children:(X,Fe)=>{var J=Vr(),fe=p(J);y(fe,()=>Ft,(te,re)=>{re(te,{})});var ke=t(fe,2);y(ke,()=>At,(te,re)=>{re(te,{class:"sm:max-w-[425px] p-6",children:(Re,ae)=>{var V=Hr(),se=p(V);y(se,()=>Ct,(s,a)=>{a(s,{children:(o,_)=>{var L=Lr(),T=p(L);y(T,()=>Dt,(b,f)=>{f(b,{children:(h,D)=>{d();var B=l("Add New Feed Item");e(h,B)},$$slots:{default:!0}})});var R=t(T,2);y(R,()=>Bt,(b,f)=>{f(b,{children:(h,D)=>{d();var B=l("Enter the feed item's information below.");e(h,B)},$$slots:{default:!0}})}),e(o,L)},$$slots:{default:!0}})});var oe=t(se,2),pe=c(oe),_e=c(pe);{var me=s=>{$t(s,{variant:"destructive",children:(a,o)=>{var _=Ur(),L=p(_);Nt(L,{class:"h-4 w-4"});var T=t(L,2);Tt(T,{children:(R,b)=>{d();var f=l();I(()=>U(f,r(ie))),e(R,f)},$$slots:{default:!0}}),e(a,_)},$$slots:{default:!0}})};et(_e,s=>{r(ie)&&s(me)})}var Ae=t(_e,2),Q=c(Ae);Y(Q,{for:"feed_name_create",children:(s,a)=>{d();var o=l("Feed Name *");e(s,o)},$$slots:{default:!0}});var de=t(Q,2);Pe(de,{id:"feed_name_create",name:"feed_name",required:!0,maxlength:40,get value(){return r(k).feed_name},set value(s){r(k).feed_name=s}}),$(Ae);var G=t(Ae,2),K=c(G);Y(K,{for:"feed_stage_create",children:(s,a)=>{d();var o=l("Feed Stage *");e(s,o)},$$slots:{default:!0}});var x=t(K,2);tt(x,{type:"single",required:!0,get value(){return r(Oe)},set value(s){n(Oe,s,!0)},children:(s,a)=>{var o=jr(),_=p(o);rt(_,{children:(T,R)=>{var b=Qr(),f=c(b,!0);$(b),I(()=>U(f,r(Oe)||"Select feed stage")),e(T,b)},$$slots:{default:!0}});var L=t(_,2);at(L,{children:(T,R)=>{var b=Er(),f=p(b);qe(f,{value:"Fry Booster",children:(B,O)=>{d();var ne=l("Fry Booster");e(B,ne)},$$slots:{default:!0}});var h=t(f,2);qe(h,{value:"Pre Starter",children:(B,O)=>{d();var ne=l("Pre Starter");e(B,ne)},$$slots:{default:!0}});var D=t(h,2);qe(D,{value:"Finisher",children:(B,O)=>{d();var ne=l("Finisher");e(B,ne)},$$slots:{default:!0}}),e(T,b)},$$slots:{default:!0}}),e(s,o)},$$slots:{default:!0}});var m=t(x,2);ze(m),$(G);var C=t(G,2),M=c(C);Y(M,{for:"current_kg_create",children:(s,a)=>{d();var o=l("Current Quantity (kg) *");e(s,o)},$$slots:{default:!0}});var ge=t(M,2);Pe(ge,{id:"current_kg_create",name:"current_stock_kg",type:"number",step:"0.01",max:1e4,min:1,get value(){return r(k).current_stock_kg},set value(s){r(k).current_stock_kg=s}}),$(C);var he=t(C,2),ce=c(he);Y(ce,{for:"quantity_kg_create",children:(s,a)=>{d();var o=l("Quantity (kg) *");e(s,o)},$$slots:{default:!0}});var we=t(ce,2);Pe(we,{id:"quantity_kg_create",name:"quantity_kg",type:"number",step:"0.01",max:1e4,min:1,get value(){return r(k).quantity_kg},set value(s){r(k).quantity_kg=s}}),$(he);var ye=t(he,2),xe=c(ye);Y(xe,{for:"cost_per_unit_create",children:(s,a)=>{d();var o=l("Cost per Unit *");e(s,o)},$$slots:{default:!0}});var w=t(xe,2);Pe(w,{id:"cost_per_unit_create",name:"cost_per_unit",type:"number",step:"0.01",max:1e8,min:1,required:!0,get value(){return r(k).cost_per_unit},set value(s){r(k).cost_per_unit=s}}),$(ye);var j=t(ye,2),v=c(j);Y(v,{for:"requested_by_create",children:(s,a)=>{d();var o=l("Requested By");e(s,o)},$$slots:{default:!0}});var q=t(v,2);tt(q,{type:"single",get value(){return r(Ue)},set value(s){n(Ue,s,!0)},children:(s,a)=>{var o=Mr(),_=p(o);rt(_,{children:(T,R)=>{var b=zr(),f=c(b,!0);$(b),I(h=>U(f,h),[()=>{var h;return((h=Se.data.employees.find(D=>D.id===r(Ue)))==null?void 0:h.name)||"Select employee (Optional)"}]),e(T,b)},$$slots:{default:!0}});var L=t(_,2);at(L,{children:(T,R)=>{var b=Jr(),f=p(b);qe(f,{value:null,children:(D,B)=>{d();var O=l("N/A (No Assignment)");e(D,O)},$$slots:{default:!0}});var h=t(f,2);ut(h,17,()=>Se.data.employees,vt,(D,B)=>{qe(D,{get value(){return r(B).id},children:(O,ne)=>{d();var Ce=l();I(()=>U(Ce,r(B).name)),e(O,Ce)},$$slots:{default:!0}})}),e(T,b)},$$slots:{default:!0}}),e(s,o)},$$slots:{default:!0}});var S=t(q,2);ze(S),$(j);var F=t(j,2),A=c(F);Y(A,{for:"date_create",children:(s,a)=>{d();var o=l("Date *");e(s,o)},$$slots:{default:!0}});var le=t(A,2);Pe(le,{id:"date_create",name:"date",type:"date",required:!0,get value(){return r(k).date},set value(s){r(k).date=s}}),$(F);var g=t(F,2),E=c(g);De(E,{type:"submit",class:"flex-1",children:(s,a)=>{d();var o=l("Add Feed Item");e(s,o)},$$slots:{default:!0}});var $e=t(E,2);De($e,{type:"button",variant:"outline",onclick:()=>n(He,!1),children:(s,a)=>{d();var o=l("Cancel");e(s,o)},$$slots:{default:!0}}),$(g),$(pe),$(oe),_t(oe,(s,a)=>{var o;return(o=ct)==null?void 0:o(s,a)},()=>()=>async({result:s})=>{var a,o;s.type==="success"?(n(He,!1),await We("app:feed_inventory"),lt("Feed item added successfully!","create"),n(k,{},!0),n(Oe,void 0),n(Ue,void 0),n(ie,null)):s.type==="failure"&&(n(ie,typeof((a=s.data)==null?void 0:a.error)=="string"?s.data.error:JSON.stringify((o=s.data)==null?void 0:o.error)||"An error occurred",!0),nt(r(ie)))}),I(()=>{Je(m,r(Oe)),Je(S,r(Ue))}),e(Re,V)},$$slots:{default:!0}})}),e(X,J)},$$slots:{default:!0}})}),e(P,Z)},$$slots:{default:!0}})});var yt=t(ht,2);y(yt,()=>It,(i,N)=>{N(i,{get open(){return r(Ve)},set open(P){n(Ve,P,!0)},children:(P,z)=>{var Z=Ye(),W=p(Z);y(W,()=>St,(be,ee)=>{ee(be,{children:(X,Fe)=>{var J=aa(),fe=p(J);y(fe,()=>Ft,(te,re)=>{re(te,{})});var ke=t(fe,2);y(ke,()=>At,(te,re)=>{re(te,{class:"sm:max-w-[425px] p-6",children:(Re,ae)=>{var V=ra(),se=p(V);y(se,()=>Ct,(a,o)=>{o(a,{children:(_,L)=>{var T=Gr(),R=p(T);y(R,()=>Dt,(f,h)=>{h(f,{children:(D,B)=>{d();var O=l("Edit Feed Item");e(D,O)},$$slots:{default:!0}})});var b=t(R,2);y(b,()=>Bt,(f,h)=>{h(f,{children:(D,B)=>{d();var O=l("Update the feed item's information below.");e(D,O)},$$slots:{default:!0}})}),e(_,T)},$$slots:{default:!0}})});var oe=t(se,2),pe=c(oe);ze(pe);var _e=t(pe,2),me=c(_e);{var Ae=a=>{$t(a,{variant:"destructive",children:(o,_)=>{var L=Kr(),T=p(L);Nt(T,{class:"h-4 w-4"});var R=t(T,2);Tt(R,{children:(b,f)=>{d();var h=l();I(()=>U(h,r(ie))),e(b,h)},$$slots:{default:!0}}),e(o,L)},$$slots:{default:!0}})};et(me,a=>{r(ie)&&a(Ae)})}var Q=t(me,2),de=c(Q);Y(de,{for:"feed_name_edit",children:(a,o)=>{d();var _=l("Feed Name *");e(a,_)},$$slots:{default:!0}});var G=t(de,2);Pe(G,{id:"feed_name_edit",name:"feed_name",required:!0,maxlength:40,get value(){return r(k).feed_name},set value(a){r(k).feed_name=a}}),$(Q);var K=t(Q,2),x=c(K);Y(x,{for:"feed_stage_edit",children:(a,o)=>{d();var _=l("Feed Stage *");e(a,_)},$$slots:{default:!0}});var m=t(x,2);tt(m,{type:"single",required:!0,get value(){return r(Le)},set value(a){n(Le,a,!0)},children:(a,o)=>{var _=Yr(),L=p(_);rt(L,{children:(R,b)=>{var f=Wr(),h=c(f,!0);$(f),I(()=>U(h,r(Le)||"Select feed stage")),e(R,f)},$$slots:{default:!0}});var T=t(L,2);at(T,{children:(R,b)=>{var f=Xr(),h=p(f);qe(h,{value:"Fry Booster",children:(O,ne)=>{d();var Ce=l("Fry Booster");e(O,Ce)},$$slots:{default:!0}});var D=t(h,2);qe(D,{value:"Pre Starter",children:(O,ne)=>{d();var Ce=l("Pre Starter");e(O,Ce)},$$slots:{default:!0}});var B=t(D,2);qe(B,{value:"Finisher",children:(O,ne)=>{d();var Ce=l("Finisher");e(O,Ce)},$$slots:{default:!0}}),e(R,f)},$$slots:{default:!0}}),e(a,_)},$$slots:{default:!0}});var C=t(m,2);ze(C),$(K);var M=t(K,2),ge=c(M);Y(ge,{for:"current_kg_edit",children:(a,o)=>{d();var _=l("Current Quantity (kg) *");e(a,_)},$$slots:{default:!0}});var he=t(ge,2);Pe(he,{id:"current_kg_edit",name:"current_stock_kg",type:"number",step:"0.01",required:!0,get value(){return r(k).current_stock_kg},set value(a){r(k).current_stock_kg=a}}),$(M);var ce=t(M,2),we=c(ce);Y(we,{for:"quantity_kg_edit",children:(a,o)=>{d();var _=l("Quantity (kg) *");e(a,_)},$$slots:{default:!0}});var ye=t(we,2);Pe(ye,{id:"quantity_kg_edit",name:"quantity_kg",type:"number",step:"0.01",required:!0,get value(){return r(k).quantity_kg},set value(a){r(k).quantity_kg=a}}),$(ce);var xe=t(ce,2),w=c(xe);Y(w,{for:"cost_per_unit_edit",children:(a,o)=>{d();var _=l("Cost per Unit *");e(a,_)},$$slots:{default:!0}});var j=t(w,2);Pe(j,{id:"cost_per_unit_edit",name:"cost_per_unit",type:"number",step:"0.01",required:!0,get value(){return r(k).cost_per_unit},set value(a){r(k).cost_per_unit=a}}),$(xe);var v=t(xe,2),q=c(v);Y(q,{for:"requested_by_edit",children:(a,o)=>{d();var _=l("Requested By");e(a,_)},$$slots:{default:!0}});var S=t(q,2);tt(S,{type:"single",get value(){return r(Qe)},set value(a){n(Qe,a,!0)},children:(a,o)=>{var _=ta(),L=p(_);rt(L,{children:(R,b)=>{var f=Zr(),h=c(f,!0);$(f),I(D=>U(h,D),[()=>{var D;return((D=Se.data.employees.find(B=>B.id===r(Qe)))==null?void 0:D.name)||"Select employee (Optional)"}]),e(R,f)},$$slots:{default:!0}});var T=t(L,2);at(T,{children:(R,b)=>{var f=ea(),h=p(f);qe(h,{value:null,children:(B,O)=>{d();var ne=l("N/A (No Assignment)");e(B,ne)},$$slots:{default:!0}});var D=t(h,2);ut(D,17,()=>Se.data.employees,vt,(B,O)=>{qe(B,{get value(){return r(O).id},children:(ne,Ce)=>{d();var bt=l();I(()=>U(bt,r(O).name)),e(ne,bt)},$$slots:{default:!0}})}),e(R,f)},$$slots:{default:!0}}),e(a,_)},$$slots:{default:!0}});var F=t(S,2);ze(F),$(v);var A=t(v,2),le=c(A);Y(le,{for:"date_edit",children:(a,o)=>{d();var _=l("Date *");e(a,_)},$$slots:{default:!0}});var g=t(le,2);Pe(g,{id:"date_edit",name:"date",type:"date",required:!0,get value(){return r(k).date},set value(a){r(k).date=a}}),$(A);var E=t(A,2),$e=c(E);De($e,{type:"submit",class:"flex-1",children:(a,o)=>{d();var _=l("Save Changes");e(a,_)},$$slots:{default:!0}});var s=t($e,2);De(s,{type:"button",variant:"outline",onclick:Ut,children:(a,o)=>{d();var _=l("Cancel");e(a,_)},$$slots:{default:!0}}),$(E),$(_e),$(oe),_t(oe,(a,o)=>{var _;return(_=ct)==null?void 0:_(a,o)},()=>()=>async({result:a})=>{var o,_;a.type==="success"?(n(Ve,!1),await We("app:feed_inventory"),lt("Feed item updated successfully!","update"),n(Xe,null),n(k,{},!0),n(st,null),n(Le,void 0),n(Qe,void 0)):a.type==="failure"&&(n(ie,typeof((o=a.data)==null?void 0:o.error)=="string"?a.data.error:JSON.stringify((_=a.data)==null?void 0:_.error)||"An error occurred",!0),nt(r(ie)))}),I(()=>{Je(pe,r(Xe)),Je(C,r(Le)),Je(F,r(Qe))}),e(Re,V)},$$slots:{default:!0}})}),e(X,J)},$$slots:{default:!0}})}),e(P,Z)},$$slots:{default:!0}})});var xt=t(yt,2);y(xt,()=>ir,(i,N)=>{N(i,{get open(){return r(Ge)},set open(P){n(Ge,P,!0)},children:(P,z)=>{var Z=Ye(),W=p(Z);y(W,()=>rr,(be,ee)=>{ee(be,{children:(X,Fe)=>{var J=la(),fe=p(J);y(fe,()=>ar,(te,re)=>{re(te,{})});var ke=t(fe,2);y(ke,()=>sr,(te,re)=>{re(te,{children:(Re,ae)=>{var V=da(),se=p(V);y(se,()=>or,(pe,_e)=>{_e(pe,{children:(me,Ae)=>{var Q=sa(),de=p(Q);y(de,()=>dr,(K,x)=>{x(K,{children:(m,C)=>{d();var M=l("Delete Feed Item");e(m,M)},$$slots:{default:!0}})});var G=t(de,2);y(G,()=>lr,(K,x)=>{x(K,{children:(m,C)=>{d();var M=l();I(()=>{var ge;return U(M,`Are you sure you want to delete "${((ge=r(ot))==null?void 0:ge.feed_name)??""}"? This action cannot be undone.`)}),e(m,M)},$$slots:{default:!0}})}),e(me,Q)},$$slots:{default:!0}})});var oe=t(se,2);y(oe,()=>nr,(pe,_e)=>{_e(pe,{children:(me,Ae)=>{var Q=oa(),de=c(Q);ze(de);var G=t(de,2);De(G,{type:"button",variant:"outline",onclick:()=>n(Ge,!1),children:(x,m)=>{d();var C=l("Cancel");e(x,C)},$$slots:{default:!0}});var K=t(G,2);De(K,{type:"submit",variant:"destructive",children:(x,m)=>{d();var C=l("Delete");e(x,C)},$$slots:{default:!0}}),$(Q),_t(Q,(x,m)=>{var C;return(C=ct)==null?void 0:C(x,m)},()=>()=>async({result:x})=>{var m,C;x.type==="success"?(n(Ge,!1),await We("app:feed_inventory"),lt("Feed item deleted successfully!","delete")):x.type==="failure"&&(n(ie,typeof((m=x.data)==null?void 0:m.error)=="string"?x.data.error:JSON.stringify((C=x.data)==null?void 0:C.error)||"An error occurred",!0),nt(r(ie)))}),I(()=>{var x;return Je(de,(x=r(ot))==null?void 0:x.id)}),e(me,Q)},$$slots:{default:!0}})}),e(Re,V)},$$slots:{default:!0}})}),e(X,J)},$$slots:{default:!0}})}),e(P,Z)},$$slots:{default:!0}})});var Pt=t(xt,2),zt=c(Pt);{var Jt=i=>{var N=ia(),P=c(N);$t(P,{get variant(){return Ee},get class(){return je},children:(z,Z)=>{var W=na(),be=p(W);tr(be,{});var ee=t(be,2);ur(ee,{children:(X,Fe)=>{d();var J=l();I(()=>U(J,dt)),e(X,J)},$$slots:{default:!0}}),e(z,W)},$$slots:{default:!0}}),$(N),e(i,N)};et(zt,i=>{r(Ke)&&i(Jt)})}$(Pt),e(Ot,mt),Ht()}export{Na as component};
