import{V as W,y as $,a2 as j,i as w,h as E,j as ee,a as k,u as Q,a3 as te,a4 as se,a5 as ue,a6 as U,P as b,e as N,Q as ve,a7 as L,z as O,A as ae,a8 as M,T as re,Z as de,b as D,a9 as V,aa as X,ab as P,ac as _e,ad as Z,ae as oe,af as ce,ag as he,S as Ee,ah as me,ai as ne,aj as pe,g as Ae,E as Te,ak as ge}from"./BdQXYw_T.js";import{a as J}from"./BO5sSAji.js";import{b as xe,j as Ce}from"./CY4Ce0c4.js";function ye(f,e){return e}function Ie(f,e,n,u){for(var _=[],c=e.length,v=0;v<c;v++)he(e[v].e,_,!0);var o=c>0&&_.length===0&&n!==null;if(o){var h=n.parentNode;Ee(h),h.append(n),u.clear(),I(f,e[0].prev,e[c-1].next)}me(_,()=>{for(var l=0;l<c;l++){var d=e[l];o||(u.delete(d.k),I(f,d.prev,d.next)),ne(d.e,!o)}})}function He(f,e,n,u,_,c=null){var v=f,o={flags:e,items:new Map,first:null},h=(e&j)!==0;if(h){var l=f;v=E?w(ee(l)):l.appendChild(W())}E&&k();var d=null,m=!1,a=te(()=>{var s=n();return oe(s)?s:s==null?[]:re(s)});$(()=>{var s=Q(a),r=s.length;if(m&&r===0)return;m=r===0;let x=!1;if(E){var A=se(v)===ue;A!==(r===0)&&(v=U(),w(v),b(!1),x=!0)}if(E){for(var T=null,g,p=0;p<r;p++){if(N.nodeType===8&&N.data===ve){v=N,x=!0,b(!1);break}var i=s[p],t=u(i,p);g=ie(N,o,T,null,i,t,p,_,e,n),o.items.set(t,g),T=g}r>0&&w(U())}E||Ne(s,o,v,_,e,u,n),c!==null&&(r===0?d?L(d):d=O(()=>c(v)):d!==null&&ae(d,()=>{d=null})),x&&b(!0),Q(a)}),E&&(v=N)}function Ne(f,e,n,u,_,c,v){var F,Y,z,B;var o=(_&ce)!==0,h=(_&(V|P))!==0,l=f.length,d=e.items,m=e.first,a=m,s,r=null,x,A=[],T=[],g,p,i,t;if(o)for(t=0;t<l;t+=1)g=f[t],p=c(g,t),i=d.get(p),i!==void 0&&((F=i.a)==null||F.measure(),(x??(x=new Set)).add(i));for(t=0;t<l;t+=1){if(g=f[t],p=c(g,t),i=d.get(p),i===void 0){var fe=a?a.e.nodes_start:n;r=ie(fe,e,r,r===null?e.first:r.next,g,p,t,u,_,v),d.set(p,r),A=[],T=[],a=r.next;continue}if(h&&Se(i,g,t,_),(i.e.f&M)!==0&&(L(i.e),o&&((Y=i.a)==null||Y.unfix(),(x??(x=new Set)).delete(i))),i!==a){if(s!==void 0&&s.has(i)){if(A.length<T.length){var R=T[0],C;r=R.prev;var q=A[0],y=A[A.length-1];for(C=0;C<A.length;C+=1)K(A[C],R,n);for(C=0;C<T.length;C+=1)s.delete(T[C]);I(e,q.prev,y.next),I(e,r,q),I(e,y,R),a=R,r=y,t-=1,A=[],T=[]}else s.delete(i),K(i,a,n),I(e,i.prev,i.next),I(e,i,r===null?e.first:r.next),I(e,r,i),r=i;continue}for(A=[],T=[];a!==null&&a.k!==p;)(a.e.f&M)===0&&(s??(s=new Set)).add(a),T.push(a),a=a.next;if(a===null)continue;i=a}A.push(i),r=i,a=i.next}if(a!==null||s!==void 0){for(var S=s===void 0?[]:re(s);a!==null;)(a.e.f&M)===0&&S.push(a),a=a.next;var H=S.length;if(H>0){var le=(_&j)!==0&&l===0?n:null;if(o){for(t=0;t<H;t+=1)(z=S[t].a)==null||z.measure();for(t=0;t<H;t+=1)(B=S[t].a)==null||B.fix()}Ie(e,S,le,d)}}o&&de(()=>{var G;if(x!==void 0)for(i of x)(G=i.a)==null||G.apply()}),D.first=e.first&&e.first.e,D.last=r&&r.e}function Se(f,e,n,u){(u&V)!==0&&X(f.v,e),(u&P)!==0?X(f.i,n):f.i=n}function ie(f,e,n,u,_,c,v,o,h,l){var d=(h&V)!==0,m=(h&pe)===0,a=d?m?_e(_):Z(_):_,s=(h&P)===0?v:Z(v),r={i:s,v:a,k:c,a:null,e:null,prev:n,next:u};try{return r.e=O(()=>o(f,a,s,l),E),r.e.prev=n&&n.e,r.e.next=u&&u.e,n===null?e.first=r:(n.next=r,n.e.next=r.e),u!==null&&(u.prev=r,u.e.prev=r.e),r}finally{}}function K(f,e,n){for(var u=f.next?f.next.e.nodes_start:n,_=e?e.e.nodes_start:n,c=f.e.nodes_start;c!==u;){var v=Ae(c);_.before(c),c=v}}function I(f,e,n){e===null?f.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function Me(f,e,n,u,_,c){let v=E;E&&k();var o,h,l=null;E&&N.nodeType===1&&(l=N,k());var d=E?N:f,m;$(()=>{const a=e()||null;var s=n||a==="svg"?ge:null;a!==o&&(m&&(a===null?ae(m,()=>{m=null,h=null}):a===h?L(m):(ne(m),J(!1))),a&&a!==h&&(m=O(()=>{if(l=E?l:s?document.createElementNS(s,a):document.createElement(a),xe(l,l),u){E&&Ce(a)&&l.append(document.createComment(""));var r=E?ee(l):l.appendChild(W());E&&(r===null?b(!1):w(r)),u(l,r)}D.nodes_end=l,d.before(l)})),o=a,o&&(h=o),J(!0))},Te),v&&(b(!0),w(d))}export{Me as a,He as e,ye as i};
