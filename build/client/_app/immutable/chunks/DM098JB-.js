var he=t=>{throw TypeError(t)};var re=(t,e,r)=>e.has(t)||he("Cannot "+r);var n=(t,e,r)=>(re(t,e,"read from private field"),r?r.call(t):e.get(t)),s=(t,e,r)=>e.has(t)?he("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),h=(t,e,r,i)=>(re(t,e,"write to private field"),i?i.call(t,r):e.set(t,r),r),g=(t,e,r)=>(re(t,e,"access private method"),r);import{s as Me}from"./Co0R7JPe.js";import{D as Se,z as Be,C as Ie,l as j,u as d,q as k,m as te,v as ce,a_ as ue}from"./VrzbJYtp.js";import{o as I}from"./BxWPM7vt.js";import{c as ae}from"./CmULTxPs.js";import{M as _e}from"./CD-1ytIX.js";const $e=()=>{const t=Me;return{page:{subscribe:t.page.subscribe},navigating:{subscribe:t.navigating.subscribe},updated:t.updated}},pt={subscribe(t){return $e().page.subscribe(t)}},xe=typeof window<"u"?window:void 0;function Pe(t){let e=t.activeElement;for(;e!=null&&e.shadowRoot;){const r=e.shadowRoot.activeElement;if(r===e)break;e=r}return e}var A,$,be;let Le=(be=class{constructor(e={}){s(this,A);s(this,$);const{window:r=xe,document:i=r==null?void 0:r.document}=e;r!==void 0&&(h(this,A,i),h(this,$,ae(c=>{const u=I(r,"focusin",c),o=I(r,"focusout",c);return()=>{u(),o()}})))}get current(){var e;return(e=n(this,$))==null||e.call(this),n(this,A)?Pe(n(this,A)):null}},A=new WeakMap,$=new WeakMap,be);new Le;function We(t,e){switch(t){case"post":Be(e);break;case"pre":Se(e);break}}function Ee(t,e,r,i={}){const{lazy:c=!1}=i;let u=!c,o=Array.isArray(t)?[]:void 0;We(e,()=>{const a=Array.isArray(t)?t.map(m=>m()):t();if(!u){u=!0,o=a;return}const f=Ie(()=>r(a,o));return o=a,f})}function le(t,e,r){Ee(t,"post",e,r)}function qe(t,e,r){Ee(t,"pre",e,r)}le.pre=qe;function Fe(t,e){switch(t){case"local":return e.localStorage;case"session":return e.sessionStorage}}var b,y,T,S,P,p,X,w,N,J;class ke{constructor(e,r,i={}){s(this,w);s(this,b);s(this,y);s(this,T);s(this,S);s(this,P);s(this,p,j(0));s(this,X,e=>{e.key!==n(this,y)||e.newValue===null||(h(this,b,g(this,w,N).call(this,e.newValue)),k(n(this,p),d(n(this,p))+1))});const{storage:c="local",serializer:u={serialize:JSON.stringify,deserialize:JSON.parse},syncTabs:o=!0,window:a=xe}=i;if(h(this,b,r),h(this,y,e),h(this,T,u),a===void 0)return;const f=Fe(c,a);h(this,S,f);const m=f.getItem(e);m!==null?h(this,b,g(this,w,N).call(this,m)):g(this,w,J).call(this,r),o&&c==="local"&&h(this,P,ae(()=>I(a,"storage",n(this,X))))}get current(){var c,u;(c=n(this,P))==null||c.call(this),d(n(this,p));const e=g(this,w,N).call(this,(u=n(this,S))==null?void 0:u.getItem(n(this,y)))??n(this,b),r=new WeakMap,i=o=>{if(o===null||(o==null?void 0:o.constructor.name)==="Date"||typeof o!="object")return o;let a=r.get(o);return a||(a=new Proxy(o,{get:(f,m)=>(d(n(this,p)),i(Reflect.get(f,m))),set:(f,m,O)=>(k(n(this,p),d(n(this,p))+1),Reflect.set(f,m,O),g(this,w,J).call(this,e),!0)}),r.set(o,a)),a};return i(e)}set current(e){g(this,w,J).call(this,e),k(n(this,p),d(n(this,p))+1)}}b=new WeakMap,y=new WeakMap,T=new WeakMap,S=new WeakMap,P=new WeakMap,p=new WeakMap,X=new WeakMap,w=new WeakSet,N=function(e){try{return n(this,T).deserialize(e)}catch(r){console.error(`Error when parsing "${e}" from persisted store "${n(this,y)}"`,r);return}},J=function(e){var r;try{e!=null&&((r=n(this,S))==null||r.setItem(n(this,y),n(this,T).serialize(e)))}catch(i){console.error(`Error when writing value from persisted store "${n(this,y)}" to ${n(this,S)}`,i)}};function me(t){return t.filter(e=>e.length>0)}const Ae={getItem:t=>null,setItem:(t,e)=>{}},C=typeof document<"u";function Ve(t){return typeof t=="function"}function ve(t){return t!==null&&typeof t=="object"}const _=Symbol("box"),de=Symbol("is-writable");function Re(t){return ve(t)&&_ in t}function je(t){return l.isBox(t)&&de in t}function l(t){let e=j(te(t));return{[_]:!0,[de]:!0,get current(){return d(e)},set current(r){k(e,r,!0)}}}function Ce(t,e){const r=ce(t);return e?{[_]:!0,[de]:!0,get current(){return d(r)},set current(i){e(i)}}:{[_]:!0,get current(){return t()}}}function Oe(t){return l.isBox(t)?t:Ve(t)?l.with(t):l(t)}function De(t){return Object.entries(t).reduce((e,[r,i])=>l.isBox(i)?(l.isWritableBox(i)?Object.defineProperty(e,r,{get(){return i.current},set(c){i.current=c}}):Object.defineProperty(e,r,{get(){return i.current}}),e):Object.assign(e,{[r]:i}),{})}function Ne(t){return l.isWritableBox(t)?{[_]:!0,get current(){return t.current}}:t}l.from=Oe;l.with=Ce;l.flatten=De;l.readonly=Ne;l.isBox=Re;l.isWritableBox=je;function Je(t,e){const r=RegExp(t,"g");return i=>{if(typeof i!="string")throw new TypeError(`expected an argument of type string, but got ${typeof i}`);return i.match(r)?i.replace(r,e):i}}const Qe=Je(/[A-Z]/,t=>`-${t.toLowerCase()}`);function Ue(t){if(!t||typeof t!="object"||Array.isArray(t))throw new TypeError(`expected an argument of type object, but got ${typeof t}`);return Object.keys(t).map(e=>`${Qe(e)}: ${t[e]};`).join(`
`)}function Xe(t={}){return Ue(t).replace(`
`," ")}const Ze={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",transform:"translateX(-100%)"};Xe(Ze);const Ge=typeof window<"u"?window:void 0;function He(t){let e=t.activeElement;for(;e!=null&&e.shadowRoot;){const r=e.shadowRoot.activeElement;if(r===e)break;e=r}return e}var z,L;class Ye{constructor(e={}){s(this,z);s(this,L);const{window:r=Ge,document:i=r==null?void 0:r.document}=e;r!==void 0&&(h(this,z,i),h(this,L,ae(c=>{const u=I(r,"focusin",c),o=I(r,"focusout",c);return()=>{u(),o()}})))}get current(){var e;return(e=n(this,L))==null||e.call(this),n(this,z)?He(n(this,z)):null}}z=new WeakMap,L=new WeakMap;new Ye;const ne=l("mode-watcher-mode"),ie=l("mode-watcher-theme"),Ke=["dark","light","system"];function ge(t){return typeof t!="string"?!1:Ke.includes(t)}var W,Z,q,G,x,F,se;class et{constructor(){s(this,F);s(this,W,"system");s(this,Z,C?localStorage:Ae);s(this,q,n(this,Z).getItem(ne.current));s(this,G,ge(n(this,q))?n(this,q):n(this,W));s(this,x,j(te(g(this,F,se).call(this))));ue(()=>le.pre(()=>ne.current,(e,r)=>{const i=d(n(this,x)).current;k(n(this,x),g(this,F,se).call(this,i),!0),r&&localStorage.removeItem(r)}))}get current(){return d(n(this,x)).current}set current(e){d(n(this,x)).current=e}}W=new WeakMap,Z=new WeakMap,q=new WeakMap,G=new WeakMap,x=new WeakMap,F=new WeakSet,se=function(e=n(this,G)){return new ke(ne.current,e,{serializer:{serialize:r=>r,deserialize:r=>ge(r)?r:n(this,W)}})};var H,V,v,Y;class tt{constructor(){s(this,H);s(this,V,!0);s(this,v,j(te(n(this,H))));s(this,Y,typeof window<"u"&&typeof window.matchMedia=="function"?new _e("prefers-color-scheme: light"):{current:!1});ue(()=>{Se(()=>{n(this,V)&&this.query()})}),this.query=this.query.bind(this),this.tracking=this.tracking.bind(this)}query(){C&&k(n(this,v),n(this,Y).current?"light":"dark",!0)}tracking(e){h(this,V,e)}get current(){return d(n(this,v))}}H=new WeakMap,V=new WeakMap,v=new WeakMap,Y=new WeakMap;const U=new et,rt=new tt;var K,M,ee,E,R,oe;class nt{constructor(){s(this,R);s(this,K,C?localStorage:Ae);s(this,M,n(this,K).getItem(ie.current));s(this,ee,n(this,M)===null||n(this,M)===void 0?"":n(this,M));s(this,E,j(te(g(this,R,oe).call(this))));ue(()=>le.pre(()=>ie.current,(e,r)=>{const i=d(n(this,E)).current;k(n(this,E),g(this,R,oe).call(this,i),!0),r&&localStorage.removeItem(r)}))}get current(){return d(n(this,E)).current}set current(e){d(n(this,E)).current=e}}K=new WeakMap,M=new WeakMap,ee=new WeakMap,E=new WeakMap,R=new WeakSet,oe=function(e=n(this,ee)){return new ke(ie.current,e,{serializer:{serialize:r=>typeof r!="string"?"":r,deserialize:r=>r}})};const Q=new nt;let pe,we,ye=!1,B=null;function it(){return B||(B=document.createElement("style"),B.appendChild(document.createTextNode(`* {
		-webkit-transition: none !important;
		-moz-transition: none !important;
		-o-transition: none !important;
		-ms-transition: none !important;
		transition: none !important;
	}`)),B)}function Te(t){if(typeof document>"u")return;if(!ye){ye=!0,t();return}if(typeof window<"u"&&window.__vitest_worker__){t();return}clearTimeout(pe),clearTimeout(we);const r=it(),i=()=>document.head.appendChild(r),c=()=>{r.parentNode&&document.head.removeChild(r)};if(typeof window.requestAnimationFrame<"u"){i(),window.requestAnimationFrame(()=>{t(),window.requestAnimationFrame(c)});return}i(),pe=window.setTimeout(()=>{t(),we=window.setTimeout(c,16)},16)}const D=l(void 0),ze=l(!0),st=l([]),ot=l([]);function ct(){const t=ce(()=>{if(!C)return;const e=U.current==="system"?rt.current:U.current,r=me(st.current),i=me(ot.current);function c(){const u=document.documentElement,o=document.querySelector('meta[name="theme-color"]');e==="light"?(r.length&&u.classList.remove(...r),i.length&&u.classList.add(...i),u.style.colorScheme="light",o&&D.current&&o.setAttribute("content",D.current.light)):(i.length&&u.classList.remove(...i),r.length&&u.classList.add(...r),u.style.colorScheme="dark",o&&D.current&&o.setAttribute("content",D.current.dark))}return ze.current?Te(c):c(),e});return{get current(){return d(t)}}}function ut(){const t=ce(()=>{if(Q.current,!C)return;function e(){document.documentElement.setAttribute("data-theme",Q.current)}return ze.current?Te(e):e(),Q.current});return{get current(){return d(t)}}}const at=ct(),yt=ut();function bt(){U.current=at.current==="dark"?"light":"dark"}function St(t){U.current=t}function xt(t){Q.current=t}function Et(t){return t}function kt({defaultMode:t="system",themeColors:e,darkClassNames:r=["dark"],lightClassNames:i=[],defaultTheme:c="",modeStorageKey:u="mode-watcher-mode",themeStorageKey:o="mode-watcher-theme"}){const a=document.documentElement,f=localStorage.getItem(u)??t,m=localStorage.getItem(o)??c,O=f==="light"||f==="system"&&window.matchMedia("(prefers-color-scheme: light)").matches;if(O?(r.length&&a.classList.remove(...r.filter(Boolean)),i.length&&a.classList.add(...i.filter(Boolean))):(i.length&&a.classList.remove(...i.filter(Boolean)),r.length&&a.classList.add(...r.filter(Boolean))),a.style.colorScheme=O?"light":"dark",e){const fe=document.querySelector('meta[name="theme-color"]');fe&&fe.setAttribute("content",f==="light"?e.light:e.dark)}m&&(a.setAttribute("data-theme",m),localStorage.setItem(o,m)),localStorage.setItem(u,f)}export{ze as a,D as b,at as c,st as d,yt as e,Et as f,rt as g,St as h,ge as i,xt as j,bt as k,ot as l,ne as m,pt as p,kt as s,ie as t};
