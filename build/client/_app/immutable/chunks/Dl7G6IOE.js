import{ah as L,z as T,ag as k,D,ai as H,p as M,c as F,h as z,r as P,d as S}from"./CSgM7ggg.js";import{a as C,b as N,c as O,d as R}from"./DiJvn89z.js";import{f as U,a as V}from"./Do_-mL-j.js";import{a as j,b as q}from"./eOTtUvit.js";import{p as A,r as J,b as _}from"./DFkGWr6I.js";import{c as B}from"./BVmkDKMc.js";import{c as G}from"./AFOXVD51.js";function et(a,r,o){L(()=>{var i=T(()=>r(a,o==null?void 0:o())||{});if(o&&(i!=null&&i.update)){var t=!1,e={};k(()=>{var n=o();D(n),t&&H(e,n)&&(e=n,i.update(n))}),t=!0}if(i!=null&&i.destroy)return()=>i.destroy()})}function I(a){const r=JSON.parse(a);return r.data&&(r.data=O(r.data,R.decoders)),r}function u(a){return HTMLElement.prototype.cloneNode.call(a)}function st(a,r=()=>{}){const o=async({action:t,result:e,reset:n=!0,invalidateAll:c=!0})=>{e.type==="success"&&(n&&HTMLFormElement.prototype.reset.call(a),c&&await C()),(location.origin+location.pathname===t.origin+t.pathname||e.type==="redirect"||e.type==="error")&&await N(e)};async function i(t){var b,h,v,y,g;if(((b=t.submitter)!=null&&b.hasAttribute("formmethod")?t.submitter.formMethod:u(a).method)!=="post")return;t.preventDefault();const n=new URL((h=t.submitter)!=null&&h.hasAttribute("formaction")?t.submitter.formAction:u(a).action),c=(v=t.submitter)!=null&&v.hasAttribute("formenctype")?t.submitter.formEnctype:u(a).enctype,d=new FormData(a),f=(y=t.submitter)==null?void 0:y.getAttribute("name");f&&d.append(f,((g=t.submitter)==null?void 0:g.getAttribute("value"))??"");const m=new AbortController;let p=!1;const x=await r({action:n,cancel:()=>p=!0,controller:m,formData:d,formElement:a,submitter:t.submitter})??o;if(p)return;let l;try{const s=new Headers({accept:"application/json","x-sveltekit-action":"true"});c!=="multipart/form-data"&&s.set("Content-Type",/^(:?application\/x-www-form-urlencoded|text\/plain)$/.test(c)?c:"application/x-www-form-urlencoded");const E=c==="multipart/form-data"?d:new URLSearchParams(d),w=await fetch(n,{method:"POST",headers:s,cache:"no-store",body:E,signal:m.signal});l=I(await w.text()),l.type==="error"&&(l.status=w.status)}catch(s){if((s==null?void 0:s.name)==="AbortError")return;l={type:"error",error:s}}await x({action:n,formData:d,formElement:a,update:s=>o({action:n,result:l,reset:s==null?void 0:s.reset,invalidateAll:s==null?void 0:s.invalidateAll}),result:l})}return HTMLFormElement.prototype.addEventListener.call(a,"submit",i),{destroy(){HTMLFormElement.prototype.removeEventListener.call(a,"submit",i)}}}const K=B({base:"relative grid w-full grid-cols-[0_1fr] items-start gap-y-0.5 rounded-lg border px-4 py-3 text-sm has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] has-[>svg]:gap-x-3 [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card *:data-[slot=alert-description]:text-destructive/90 [&>svg]:text-current"}},defaultVariants:{variant:"default"}});var Q=U("<div><!></div>");function it(a,r){M(r,!0);let o=A(r,"ref",15,null),i=A(r,"variant",3,"default"),t=J(r,["$$slots","$$events","$$legacy","ref","class","variant","children"]);var e=Q();j(e,c=>({"data-slot":"alert",class:c,...t,role:"alert"}),[()=>G(K({variant:i()}),r.class)]);var n=F(e);q(n,()=>r.children??z),P(e),_(e,c=>o(c),()=>o()),V(a,e),S()}export{it as A,et as a,st as e};
