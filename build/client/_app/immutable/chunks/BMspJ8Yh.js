var Lt=Object.defineProperty;var wt=r=>{throw TypeError(r)};var Bt=(r,t,e)=>t in r?Lt(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var h=(r,t,e)=>Bt(r,typeof t!="symbol"?t+"":t,e),ht=(r,t,e)=>t.has(r)||wt("Cannot "+e);var s=(r,t,e)=>(ht(r,t,"read from private field"),e?e.call(r):t.get(r)),n=(r,t,e)=>t.has(r)?wt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,e),g=(r,t,e,o)=>(ht(r,t,"write to private field"),o?o.call(r,e):t.set(r,e),e),T=(r,t,e)=>(ht(r,t,"access private method"),e);import{o as S,d as Tt,a as Nt}from"./BxWPM7vt.js";import{l as F,v as b,q as c,u as a,p as kt,k as Ft,w as At,o as Et}from"./VrzbJYtp.js";import{b as Ht}from"./BHm98m4T.js";import{p as v}from"./K2z4qc4G.js";import{w as Z,h as jt,f as d,e as qt,a as Kt,k as It}from"./CmULTxPs.js";import{o as Wt,C as Pt,O as Ut,n as Dt}from"./BdHGsVH7.js";import{b as Xt,i as Yt,a as Vt,c as _t,d as Rt,D as zt,e as Jt,o as Qt,f as St}from"./Cd7yCszS.js";const Zt=!0;var N,P,E,w,O,ut,ct;class $t{constructor(t){n(this,O);n(this,N);n(this,P);n(this,E);n(this,w,F(null));g(this,N,t),g(this,P,b(()=>s(this,N).enabled())),g(this,E,Xt(!1,{afterMs:t.transitTimeout??300,onChange:e=>{var o,i;a(s(this,P))&&((i=(o=s(this,N)).setIsPointerInTransit)==null||i.call(o,e))},getWindow:()=>Vt(s(this,N).triggerNode())})),Z([t.triggerNode,t.contentNode,t.enabled],([e,o,i])=>{if(!e||!o||!i)return;const l=p=>{T(this,O,ct).call(this,p,o)},u=p=>{T(this,O,ct).call(this,p,e)};return jt(S(e,"pointerleave",l),S(o,"pointerleave",u))}),Z(()=>a(s(this,w)),()=>{const e=i=>{var A,I;if(!a(s(this,w)))return;const l=i.target;if(!Rt(l))return;const u={x:i.clientX,y:i.clientY},p=((A=t.triggerNode())==null?void 0:A.contains(l))||((I=t.contentNode())==null?void 0:I.contains(l)),f=!re(u,a(s(this,w)));p?T(this,O,ut).call(this):f&&(T(this,O,ut).call(this),t.onPointerExit())},o=_t(t.triggerNode()??t.contentNode());if(o)return S(o,"pointermove",e)})}}N=new WeakMap,P=new WeakMap,E=new WeakMap,w=new WeakMap,O=new WeakSet,ut=function(){c(s(this,w),null),s(this,E).current=!1},ct=function(t,e){const o=t.currentTarget;if(!Yt(o))return;const i={x:t.clientX,y:t.clientY},l=te(i,o.getBoundingClientRect()),u=ee(i,l),p=se(e.getBoundingClientRect()),f=oe([...u,...p]);c(s(this,w),f,!0),s(this,E).current=!0};function te(r,t){const e=Math.abs(t.top-r.y),o=Math.abs(t.bottom-r.y),i=Math.abs(t.right-r.x),l=Math.abs(t.left-r.x);switch(Math.min(e,o,i,l)){case l:return"left";case i:return"right";case e:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function ee(r,t,e=5){const o=e*1.5;switch(t){case"top":return[{x:r.x-e,y:r.y+e},{x:r.x,y:r.y-o},{x:r.x+e,y:r.y+e}];case"bottom":return[{x:r.x-e,y:r.y-e},{x:r.x,y:r.y+o},{x:r.x+e,y:r.y-e}];case"left":return[{x:r.x+e,y:r.y-e},{x:r.x-o,y:r.y},{x:r.x+e,y:r.y+e}];case"right":return[{x:r.x-e,y:r.y-e},{x:r.x+o,y:r.y},{x:r.x-e,y:r.y+e}]}}function se(r){const{top:t,right:e,bottom:o,left:i}=r;return[{x:i,y:t},{x:e,y:t},{x:e,y:o},{x:i,y:o}]}function re(r,t){const{x:e,y:o}=r;let i=!1;for(let l=0,u=t.length-1;l<t.length;u=l++){const p=t[l].x,f=t[l].y,A=t[u].x,I=t[u].y;f>o!=I>o&&e<(A-p)*(o-f)/(I-f)+p&&(i=!i)}return i}function oe(r){const t=r.slice();return t.sort((e,o)=>e.x<o.x?-1:e.x>o.x?1:e.y<o.y?-1:e.y>o.y?1:0),ne(t)}function ne(r){if(r.length<=1)return r.slice();const t=[];for(let o=0;o<r.length;o++){const i=r[o];for(;t.length>=2;){const l=t[t.length-1],u=t[t.length-2];if((l.x-u.x)*(i.y-u.y)>=(l.y-u.y)*(i.x-u.x))t.pop();else break}t.push(i)}t.pop();const e=[];for(let o=r.length-1;o>=0;o--){const i=r[o];for(;e.length>=2;){const l=e[e.length-1],u=e[e.length-2];if((l.x-u.x)*(i.y-u.y)>=(l.y-u.y)*(i.x-u.x))e.pop();else break}e.push(i)}return e.pop(),t.length===1&&e.length===1&&t[0].x===e[0].x&&t[0].y===e[0].y?t:t.concat(e)}const ie={immediate:!0};var R,M,G,D,L,pt;class dt{constructor(t,e,o={}){n(this,L);n(this,R);n(this,M);n(this,G);n(this,D,null);g(this,G,t),g(this,M,e),g(this,R,{...ie,...o}),this.stop=this.stop.bind(this),this.start=this.start.bind(this),s(this,R).immediate&&Zt&&this.start(),Wt(this.stop)}stop(){T(this,L,pt).call(this)}start(...t){T(this,L,pt).call(this),g(this,D,window.setTimeout(()=>{g(this,D,null),s(this,G).call(this,...t)},s(this,M)))}}R=new WeakMap,M=new WeakMap,G=new WeakMap,D=new WeakMap,L=new WeakSet,pt=function(){s(this,D)!==null&&(window.clearTimeout(s(this,D)),g(this,D,null))};const Mt=qt({component:"tooltip",parts:["content","trigger"]}),Gt=new Pt("Tooltip.Provider"),yt=new Pt("Tooltip.Root");var B,H,C,$,tt;const bt=class bt{constructor(t){h(this,"opts");n(this,B,F(!0));h(this,"isPointerInTransit",d(!1));n(this,H);n(this,C,F(null));n(this,$,()=>{this.opts.skipDelayDuration.current!==0&&s(this,H).start()});n(this,tt,()=>{s(this,H).stop()});h(this,"onOpen",t=>{a(s(this,C))&&a(s(this,C))!==t&&a(s(this,C)).handleClose(),s(this,tt).call(this),this.isOpenDelayed=!1,c(s(this,C),t,!0)});h(this,"onClose",t=>{a(s(this,C))===t&&c(s(this,C),null),s(this,$).call(this)});h(this,"isTooltipOpen",t=>a(s(this,C))===t);this.opts=t,g(this,H,new dt(()=>{this.isOpenDelayed=!0},this.opts.skipDelayDuration.current,{immediate:!1}))}static create(t){return Gt.set(new bt(t))}get isOpenDelayed(){return a(s(this,B))}set isOpenDelayed(t){c(s(this,B),t,!0)}};B=new WeakMap,H=new WeakMap,C=new WeakMap,$=new WeakMap,tt=new WeakMap;let gt=bt;var j,q,W,U,X,Y,V,x,m,_,et;const Ct=class Ct{constructor(t,e){h(this,"opts");h(this,"provider");n(this,j,b(()=>this.opts.delayDuration.current??this.provider.opts.delayDuration.current));n(this,q,b(()=>this.opts.disableHoverableContent.current??this.provider.opts.disableHoverableContent.current));n(this,W,b(()=>this.opts.disableCloseOnTriggerClick.current??this.provider.opts.disableCloseOnTriggerClick.current));n(this,U,b(()=>this.opts.disabled.current??this.provider.opts.disabled.current));n(this,X,b(()=>this.opts.ignoreNonKeyboardFocus.current??this.provider.opts.ignoreNonKeyboardFocus.current));n(this,Y,F(null));n(this,V,F(null));n(this,x,F(!1));n(this,m);n(this,_,b(()=>this.opts.open.current?a(s(this,x))?"delayed-open":"instant-open":"closed"));h(this,"handleOpen",()=>{s(this,m).stop(),c(s(this,x),!1),this.opts.open.current=!0});h(this,"handleClose",()=>{s(this,m).stop(),this.opts.open.current=!1});n(this,et,()=>{s(this,m).stop();const t=!this.provider.isOpenDelayed,e=this.delayDuration??0;t||e===0?(c(s(this,x),e>0&&t,!0),this.opts.open.current=!0):s(this,m).start()});h(this,"onTriggerEnter",()=>{s(this,et).call(this)});h(this,"onTriggerLeave",()=>{this.disableHoverableContent?this.handleClose():s(this,m).stop()});this.opts=t,this.provider=e,g(this,m,new dt(()=>{c(s(this,x),!0),this.opts.open.current=!0},this.delayDuration??0,{immediate:!1})),new Ut({open:this.opts.open,ref:d.with(()=>this.contentNode),onComplete:()=>{this.opts.onOpenChangeComplete.current(this.opts.open.current)}}),Z(()=>this.delayDuration,()=>{this.delayDuration!==void 0&&g(this,m,new dt(()=>{c(s(this,x),!0),this.opts.open.current=!0},this.delayDuration,{immediate:!1}))}),Z(()=>this.opts.open.current,o=>{o?this.provider.onOpen(this):this.provider.onClose(this)})}static create(t){return yt.set(new Ct(t,Gt.get()))}get delayDuration(){return a(s(this,j))}set delayDuration(t){c(s(this,j),t)}get disableHoverableContent(){return a(s(this,q))}set disableHoverableContent(t){c(s(this,q),t)}get disableCloseOnTriggerClick(){return a(s(this,W))}set disableCloseOnTriggerClick(t){c(s(this,W),t)}get disabled(){return a(s(this,U))}set disabled(t){c(s(this,U),t)}get ignoreNonKeyboardFocus(){return a(s(this,X))}set ignoreNonKeyboardFocus(t){c(s(this,X),t)}get contentNode(){return a(s(this,Y))}set contentNode(t){c(s(this,Y),t,!0)}get triggerNode(){return a(s(this,V))}set triggerNode(t){c(s(this,V),t,!0)}get stateAttr(){return a(s(this,_))}set stateAttr(t){c(s(this,_),t)}};j=new WeakMap,q=new WeakMap,W=new WeakMap,U=new WeakMap,X=new WeakMap,Y=new WeakMap,V=new WeakMap,x=new WeakMap,m=new WeakMap,_=new WeakMap,et=new WeakMap;let ft=Ct;var k,K,y,st,rt,ot,nt,it,at,lt,z;const mt=class mt{constructor(t,e){h(this,"opts");h(this,"root");h(this,"attachment");n(this,k,d(!1));n(this,K,F(!1));n(this,y,b(()=>this.opts.disabled.current||this.root.disabled));h(this,"domContext");h(this,"handlePointerUp",()=>{s(this,k).current=!1});n(this,st,()=>{a(s(this,y))||(s(this,k).current=!1)});n(this,rt,()=>{a(s(this,y))||(s(this,k).current=!0,this.domContext.getDocument().addEventListener("pointerup",()=>{this.handlePointerUp()},{once:!0}))});n(this,ot,t=>{a(s(this,y))||t.pointerType!=="touch"&&(a(s(this,K))||this.root.provider.isPointerInTransit.current||(this.root.onTriggerEnter(),c(s(this,K),!0)))});n(this,nt,()=>{a(s(this,y))||(this.root.onTriggerLeave(),c(s(this,K),!1))});n(this,it,t=>{s(this,k).current||a(s(this,y))||this.root.ignoreNonKeyboardFocus&&!Jt(t.currentTarget)||this.root.handleOpen()});n(this,at,()=>{a(s(this,y))||this.root.handleClose()});n(this,lt,()=>{this.root.disableCloseOnTriggerClick||a(s(this,y))||this.root.handleClose()});n(this,z,b(()=>{var t;return{id:this.opts.id.current,"aria-describedby":this.root.opts.open.current?(t=this.root.contentNode)==null?void 0:t.id:void 0,"data-state":this.root.stateAttr,"data-disabled":It(a(s(this,y))),"data-delay-duration":`${this.root.delayDuration}`,[Mt.trigger]:"",tabindex:a(s(this,y))?void 0:0,disabled:this.opts.disabled.current,onpointerup:s(this,st),onpointerdown:s(this,rt),onpointermove:s(this,ot),onpointerleave:s(this,nt),onfocus:s(this,it),onblur:s(this,at),onclick:s(this,lt),...this.attachment}}));this.opts=t,this.root=e,this.domContext=new zt(t.ref),this.attachment=Kt(this.opts.ref,o=>this.root.triggerNode=o)}static create(t){return new mt(t,yt.get())}get props(){return a(s(this,z))}set props(t){c(s(this,z),t)}};k=new WeakMap,K=new WeakMap,y=new WeakMap,st=new WeakMap,rt=new WeakMap,ot=new WeakMap,nt=new WeakMap,it=new WeakMap,at=new WeakMap,lt=new WeakMap,z=new WeakMap;let xt=mt;var J,Q;const vt=class vt{constructor(t,e){h(this,"opts");h(this,"root");h(this,"attachment");h(this,"onInteractOutside",t=>{var e;if(Rt(t.target)&&((e=this.root.triggerNode)!=null&&e.contains(t.target))&&this.root.disableCloseOnTriggerClick){t.preventDefault();return}this.opts.onInteractOutside.current(t),!t.defaultPrevented&&this.root.handleClose()});h(this,"onEscapeKeydown",t=>{var e,o;(o=(e=this.opts.onEscapeKeydown).current)==null||o.call(e,t),!t.defaultPrevented&&this.root.handleClose()});h(this,"onOpenAutoFocus",t=>{t.preventDefault()});h(this,"onCloseAutoFocus",t=>{t.preventDefault()});n(this,J,b(()=>({open:this.root.opts.open.current})));n(this,Q,b(()=>({id:this.opts.id.current,"data-state":this.root.stateAttr,"data-disabled":It(this.root.disabled),style:{pointerEvents:"auto",outline:"none"},[Mt.content]:"",...this.attachment})));h(this,"popperProps",{onInteractOutside:this.onInteractOutside,onEscapeKeydown:this.onEscapeKeydown,onOpenAutoFocus:this.onOpenAutoFocus,onCloseAutoFocus:this.onCloseAutoFocus});this.opts=t,this.root=e,this.attachment=Kt(this.opts.ref,o=>this.root.contentNode=o),new $t({triggerNode:()=>this.root.triggerNode,contentNode:()=>this.root.contentNode,enabled:()=>this.root.opts.open.current&&!this.root.disableHoverableContent,onPointerExit:()=>{this.root.provider.isTooltipOpen(this.root)&&this.root.handleClose()},setIsPointerInTransit:o=>{this.root.provider.isPointerInTransit.current=o},transitTimeout:this.root.provider.opts.skipDelayDuration.current}),Qt(()=>S(window,"scroll",o=>{const i=o.target;i&&i.contains(this.root.triggerNode)&&this.root.handleClose()}))}static create(t){return new vt(t,yt.get())}get snippetProps(){return a(s(this,J))}set snippetProps(t){c(s(this,J),t)}get props(){return a(s(this,Q))}set props(t){c(s(this,Q),t)}};J=new WeakMap,Q=new WeakMap;let Ot=vt;function ae(r,t){kt(t,!0);let e=v(t,"open",15,!1),o=v(t,"onOpenChange",3,Dt),i=v(t,"onOpenChangeComplete",3,Dt);ft.create({open:d.with(()=>e(),l=>{e(l),o()(l)}),delayDuration:d.with(()=>t.delayDuration),disableCloseOnTriggerClick:d.with(()=>t.disableCloseOnTriggerClick),disableHoverableContent:d.with(()=>t.disableHoverableContent),ignoreNonKeyboardFocus:d.with(()=>t.ignoreNonKeyboardFocus),disabled:d.with(()=>t.disabled),onOpenChangeComplete:d.with(()=>i())}),St(r,{tooltip:!0,children:(l,u)=>{var p=Tt(),f=Ft(p);Ht(f,()=>t.children??At),Nt(l,p)},$$slots:{default:!0}}),Et()}function le(r,t){kt(t,!0);let e=v(t,"delayDuration",3,700),o=v(t,"disableCloseOnTriggerClick",3,!1),i=v(t,"disableHoverableContent",3,!1),l=v(t,"disabled",3,!1),u=v(t,"ignoreNonKeyboardFocus",3,!1),p=v(t,"skipDelayDuration",3,300);gt.create({delayDuration:d.with(()=>e()),disableCloseOnTriggerClick:d.with(()=>o()),disableHoverableContent:d.with(()=>i()),disabled:d.with(()=>l()),ignoreNonKeyboardFocus:d.with(()=>u()),skipDelayDuration:d.with(()=>p())});var f=Tt(),A=Ft(f);Ht(A,()=>t.children??At),Nt(r,f),Et()}const Ce=ae,me=le;export{me as P,Ce as R,Ot as T,xt as a};
