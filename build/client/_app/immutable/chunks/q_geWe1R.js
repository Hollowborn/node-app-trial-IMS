import{V as L,C as T,W as k,F,al as H,p as M,c as D,w as C,r as P,o as S}from"./VrzbJYtp.js";import{a as V,b as z,c as N,d as O}from"./Co0R7JPe.js";import{f as R,a as U}from"./BxWPM7vt.js";import{a as j,b as q}from"./BHm98m4T.js";import{b as J}from"./CNxF7Pog.js";import{p as A,r as W}from"./K2z4qc4G.js";import{c as _}from"./DGxjUAYV.js";import{c as B}from"./BjxZ6Dx9.js";function st(a,r,o){L(()=>{var i=T(()=>r(a,o==null?void 0:o())||{});if(o&&(i!=null&&i.update)){var t=!1,e={};k(()=>{var n=o();F(n),t&&H(e,n)&&(e=n,i.update(n))}),t=!0}if(i!=null&&i.destroy)return()=>i.destroy()})}function G(a){const r=JSON.parse(a);return r.data&&(r.data=N(r.data,O.decoders)),r}function f(a){return HTMLElement.prototype.cloneNode.call(a)}function it(a,r=()=>{}){const o=async({action:t,result:e,reset:n=!0,invalidateAll:c=!0})=>{e.type==="success"&&(n&&HTMLFormElement.prototype.reset.call(a),c&&await V()),(location.origin+location.pathname===t.origin+t.pathname||e.type==="redirect"||e.type==="error")&&await z(e)};async function i(t){var b,h,v,y,w;if(((b=t.submitter)!=null&&b.hasAttribute("formmethod")?t.submitter.formMethod:f(a).method)!=="post")return;t.preventDefault();const n=new URL((h=t.submitter)!=null&&h.hasAttribute("formaction")?t.submitter.formAction:f(a).action),c=(v=t.submitter)!=null&&v.hasAttribute("formenctype")?t.submitter.formEnctype:f(a).enctype,d=new FormData(a),u=(y=t.submitter)==null?void 0:y.getAttribute("name");u&&d.append(u,((w=t.submitter)==null?void 0:w.getAttribute("value"))??"");const m=new AbortController;let p=!1;const x=await r({action:n,cancel:()=>p=!0,controller:m,formData:d,formElement:a,submitter:t.submitter})??o;if(p)return;let l;try{const s=new Headers({accept:"application/json","x-sveltekit-action":"true"});c!=="multipart/form-data"&&s.set("Content-Type",/^(:?application\/x-www-form-urlencoded|text\/plain)$/.test(c)?c:"application/x-www-form-urlencoded");const E=c==="multipart/form-data"?d:new URLSearchParams(d),g=await fetch(n,{method:"POST",headers:s,cache:"no-store",body:E,signal:m.signal});l=G(await g.text()),l.type==="error"&&(l.status=g.status)}catch(s){if((s==null?void 0:s.name)==="AbortError")return;l={type:"error",error:s}}await x({action:n,formData:d,formElement:a,update:s=>o({action:n,result:l,reset:s==null?void 0:s.reset,invalidateAll:s==null?void 0:s.invalidateAll}),result:l})}return HTMLFormElement.prototype.addEventListener.call(a,"submit",i),{destroy(){HTMLFormElement.prototype.removeEventListener.call(a,"submit",i)}}}const I=_({base:"relative grid w-full grid-cols-[0_1fr] items-start gap-y-0.5 rounded-lg border px-4 py-3 text-sm has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] has-[>svg]:gap-x-3 [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card *:data-[slot=alert-description]:text-destructive/90 [&>svg]:text-current"}},defaultVariants:{variant:"default"}});var K=R("<div><!></div>");function nt(a,r){M(r,!0);let o=A(r,"ref",15,null),i=A(r,"variant",3,"default"),t=W(r,["$$slots","$$events","$$legacy","ref","class","variant","children"]);var e=K();j(e,c=>({"data-slot":"alert",class:c,...t,role:"alert"}),[()=>B(I({variant:i()}),r.class)]);var n=D(e);q(n,()=>r.children??C),P(e),J(e,c=>o(c),()=>o()),U(a,e),S()}export{nt as A,st as a,it as e};
