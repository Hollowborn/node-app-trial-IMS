import{R as Z,T as $,a0 as j,i as w,h as E,j as ee,a as k,u as U,a1 as te,a2 as se,a3 as ue,a4 as z,L as R,e as N,M as ve,a5 as L,S as O,a6 as ae,a7 as H,P as re,X as de,b as D,a8 as P,a9 as J,aa as V,ab as _e,ac as K,ad as oe,ae as ce,af as he,O as Ee,ag as me,ah as ne,ai as pe,g as Te,aj as Ae,ak as ge}from"./VrzbJYtp.js";import{a as Q}from"./jPwQk_2E.js";import{b as xe,j as Ce}from"./BxWPM7vt.js";function Me(f,e){return e}function Ie(f,e,n,u){for(var _=[],c=e.length,v=0;v<c;v++)he(e[v].e,_,!0);var o=c>0&&_.length===0&&n!==null;if(o){var h=n.parentNode;Ee(h),h.append(n),u.clear(),I(f,e[0].prev,e[c-1].next)}me(_,()=>{for(var l=0;l<c;l++){var d=e[l];o||(u.delete(d.k),I(f,d.prev,d.next)),ne(d.e,!o)}})}function ye(f,e,n,u,_,c=null){var v=f,o={flags:e,items:new Map,first:null},h=(e&j)!==0;if(h){var l=f;v=E?w(ee(l)):l.appendChild(Z())}E&&k();var d=null,m=!1,a=te(()=>{var s=n();return oe(s)?s:s==null?[]:re(s)});$(()=>{var s=U(a),r=s.length;if(m&&r===0)return;m=r===0;let x=!1;if(E){var T=se(v)===ue;T!==(r===0)&&(v=z(),w(v),R(!1),x=!0)}if(E){for(var A=null,g,p=0;p<r;p++){if(N.nodeType===8&&N.data===ve){v=N,x=!0,R(!1);break}var i=s[p],t=u(i,p);g=ie(N,o,A,null,i,t,p,_,e,n),o.items.set(t,g),A=g}r>0&&w(z())}E||Ne(s,o,v,_,e,u,n),c!==null&&(r===0?d?L(d):d=O(()=>c(v)):d!==null&&ae(d,()=>{d=null})),x&&R(!0),U(a)}),E&&(v=N)}function Ne(f,e,n,u,_,c,v){var F,X,Y,B;var o=(_&ce)!==0,h=(_&(P|V))!==0,l=f.length,d=e.items,m=e.first,a=m,s,r=null,x,T=[],A=[],g,p,i,t;if(o)for(t=0;t<l;t+=1)g=f[t],p=c(g,t),i=d.get(p),i!==void 0&&((F=i.a)==null||F.measure(),(x??(x=new Set)).add(i));for(t=0;t<l;t+=1){if(g=f[t],p=c(g,t),i=d.get(p),i===void 0){var fe=a?a.e.nodes_start:n;r=ie(fe,e,r,r===null?e.first:r.next,g,p,t,u,_,v),d.set(p,r),T=[],A=[],a=r.next;continue}if(h&&Se(i,g,t,_),(i.e.f&H)!==0&&(L(i.e),o&&((X=i.a)==null||X.unfix(),(x??(x=new Set)).delete(i))),i!==a){if(s!==void 0&&s.has(i)){if(T.length<A.length){var b=A[0],C;r=b.prev;var q=T[0],M=T[T.length-1];for(C=0;C<T.length;C+=1)W(T[C],b,n);for(C=0;C<A.length;C+=1)s.delete(A[C]);I(e,q.prev,M.next),I(e,r,q),I(e,M,b),a=b,r=M,t-=1,T=[],A=[]}else s.delete(i),W(i,a,n),I(e,i.prev,i.next),I(e,i,r===null?e.first:r.next),I(e,r,i),r=i;continue}for(T=[],A=[];a!==null&&a.k!==p;)(a.e.f&H)===0&&(s??(s=new Set)).add(a),A.push(a),a=a.next;if(a===null)continue;i=a}T.push(i),r=i,a=i.next}if(a!==null||s!==void 0){for(var S=s===void 0?[]:re(s);a!==null;)(a.e.f&H)===0&&S.push(a),a=a.next;var y=S.length;if(y>0){var le=(_&j)!==0&&l===0?n:null;if(o){for(t=0;t<y;t+=1)(Y=S[t].a)==null||Y.measure();for(t=0;t<y;t+=1)(B=S[t].a)==null||B.fix()}Ie(e,S,le,d)}}o&&de(()=>{var G;if(x!==void 0)for(i of x)(G=i.a)==null||G.apply()}),D.first=e.first&&e.first.e,D.last=r&&r.e}function Se(f,e,n,u){(u&P)!==0&&J(f.v,e),(u&V)!==0?J(f.i,n):f.i=n}function ie(f,e,n,u,_,c,v,o,h,l){var d=(h&P)!==0,m=(h&pe)===0,a=d?m?_e(_):K(_):_,s=(h&V)===0?v:K(v),r={i:s,v:a,k:c,a:null,e:null,prev:n,next:u};try{return r.e=O(()=>o(f,a,s,l),E),r.e.prev=n&&n.e,r.e.next=u&&u.e,n===null?e.first=r:(n.next=r,n.e.next=r.e),u!==null&&(u.prev=r,u.e.prev=r.e),r}finally{}}function W(f,e,n){for(var u=f.next?f.next.e.nodes_start:n,_=e?e.e.nodes_start:n,c=f.e.nodes_start;c!==u;){var v=Te(c);_.before(c),c=v}}function I(f,e,n){e===null?f.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function He(f,e,n,u,_,c){let v=E;E&&k();var o,h,l=null;E&&N.nodeType===1&&(l=N,k());var d=E?N:f,m;$(()=>{const a=e()||null;var s=n||a==="svg"?ge:null;a!==o&&(m&&(a===null?ae(m,()=>{m=null,h=null}):a===h?L(m):(ne(m),Q(!1))),a&&a!==h&&(m=O(()=>{if(l=E?l:s?document.createElementNS(s,a):document.createElement(a),xe(l,l),u){E&&Ce(a)&&l.append(document.createComment(""));var r=E?ee(l):l.appendChild(Z());E&&(r===null?R(!1):w(r)),u(l,r)}D.nodes_end=l,d.before(l)})),o=a,o&&(h=o),Q(!0))},Ae),v&&(R(!0),w(d))}export{He as a,ye as e,Me as i};
